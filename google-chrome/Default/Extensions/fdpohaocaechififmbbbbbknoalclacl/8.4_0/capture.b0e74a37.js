(()=>{function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},s=r.parcelRequire60cc;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},r.parcelRequire60cc=s),s.register("fquJx",(function(t,r){var n,o;e(t.exports,"register",(()=>n),(e=>n=e)),e(t.exports,"resolve",(()=>o),(e=>o=e));var s={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)s[t[r]]=e[t[r]]},o=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s.register("8r5Kp",(function(t,r){var n;e(t.exports,"getBundleURL",(()=>n),(e=>n=e));var o={};function s(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return s(e[2])}return"/"}(),o[e]=t),t}})),s.register("gwJFa",(function(e,t){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var t={}.hasOwnProperty;function r(){for(var e=[],n=0;n<arguments.length;n++){var o=arguments[n];if(o){var s=typeof o;if("string"===s||"number"===s)e.push(o);else if(Array.isArray(o)&&o.length){var i=r.apply(null,o);i&&e.push(i)}else if("object"===s)for(var a in o)t.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],(function(){return r})):window.classNames=r}()})),s("fquJx").register(JSON.parse('{"komXT":"capture.b0e74a37.js","9BtOZ":"icon-btn-delete.f78c5ab3.svg","6NbTI":"icon-btn-download.6a1b3bd6.svg","6iPKz":"capture.96899a58.css","aWhca":"capture.839f08c2.css","6sqI0":"welcome.e29aa451.js","6qh4x":"popup.5b1e033f.js","eYYVc":"editor.63a79635.js","78PSF":"welcome.6fee3f56.js"}'));var a=s("5Xemj");var l=s("ceb36"),c=s("2z2pA"),d=s("iW6yY"),u=(c=s("2z2pA"),s("6pLLc")),f=s("avfZw"),h=s("1I2HB");var p=()=>{let e=[m],t=0;return(0,u.serialMap)(e,(e=>e().then((e=>{if("number"!=typeof e){let t=`Migration ${i-1} returned non-number: ${e}`,r=new Error(t);throw r.name="InvalidMigration",r}return t+=e,e})))).then((()=>{t&&(c.default.info("Updated",t),d.default.triggerUpdated({source:"MIGRATION",isDone:!0}))}))};const m=()=>f.default.load().then((e=>{const t="firstKnownVersion";return e[t]?0:f.default.set(t,(0,h.getVersion)()).then((()=>1))}));var g=s("h1Khz");let y=null;var w=s("kOtTY"),b=s("jBCXK"),E=s("hGGFE"),v=s("e0Kwl"),S={};S=s("8r5Kp").getBundleURL("komXT")+s("fquJx").resolve("9BtOZ");var T={};T=s("8r5Kp").getBundleURL("komXT")+s("fquJx").resolve("6NbTI");var C=s("8rN6d"),_=s("8bPtr"),R=s("ff4Ef");function x(e,t){return function(){return e.apply(t,arguments)}}var O=s("jhCkN");const k=Object.prototype.toString,A=Object.getPrototypeOf,N=(j=Object.create(null),e=>{const t=k.call(e);return j[t]||(j[t]=t.slice(8,-1).toLowerCase())});var j;const I=e=>(e=e.toLowerCase(),t=>N(t)===e),P=e=>t=>typeof t===e,L=Array.isArray,D=P("undefined");const F=I("ArrayBuffer");const U=P("string"),$=P("function"),B=P("number"),M=e=>null!==e&&"object"==typeof e,q=e=>{if("object"!==N(e))return!1;const t=A(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},H=I("Date"),z=I("File"),K=I("Blob"),G=I("FileList"),W=I("URLSearchParams"),V=(0,R.default)(["ReadableStream","Request","Response","Headers"].map(I),4),Y=V[0],J=V[1],X=V[2],Q=V[3];function Z(e,t,r){let n,o,s=(void 0===r?{}:r).allOwnKeys,i=void 0!==s&&s;if(null!=e)if("object"!=typeof e&&(e=[e]),L(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function ee(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,o=r.length;for(;o-- >0;)if(n=r[o],t===n.toLowerCase())return n;return null}const te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:r,re=e=>!D(e)&&e!==te;const ne=(oe="undefined"!=typeof Uint8Array&&A(Uint8Array),e=>oe&&e instanceof oe);var oe;const se=I("HTMLFormElement"),ie=(e=>{let t=Object.prototype.hasOwnProperty;return(e,r)=>t.call(e,r)})(),ae=I("RegExp"),le=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Z(r,((r,o)=>{let s;!1!==(s=t(r,o,e))&&(n[o]=s||r)})),Object.defineProperties(e,n)},ce="abcdefghijklmnopqrstuvwxyz",de="0123456789",ue={DIGIT:de,ALPHA:ce,ALPHA_DIGIT:ce+ce.toUpperCase()+de};const fe=I("AsyncFunction"),he=(pe="function"==typeof setImmediate,me=$(te.postMessage),pe?setImmediate:me?(ge=`axios@${Math.random()}`,ye=[],te.addEventListener("message",(e=>{let t=e.source,r=e.data;t===te&&r===ge&&ye.length&&ye.shift()()}),!1),e=>{ye.push(e),te.postMessage(ge,"*")}):e=>setTimeout(e));var pe,me,ge,ye;const we="undefined"!=typeof queueMicrotask?queueMicrotask.bind(te):void 0!==O&&O.nextTick||he;var be={isArray:L,isArrayBuffer:F,isBuffer:function(e){return null!==e&&!D(e)&&null!==e.constructor&&!D(e.constructor)&&$(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||$(e.append)&&("formdata"===(t=N(e))||"object"===t&&$(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&F(e.buffer),t},isString:U,isNumber:B,isBoolean:e=>!0===e||!1===e,isObject:M,isPlainObject:q,isReadableStream:Y,isRequest:J,isResponse:X,isHeaders:Q,isUndefined:D,isDate:H,isFile:z,isBlob:K,isRegExp:ae,isFunction:$,isStream:e=>M(e)&&$(e.pipe),isURLSearchParams:W,isTypedArray:ne,isFileList:G,forEach:Z,merge:function e(){const t=(re(this)&&this||{}).caseless,r={},n=(n,o)=>{const s=t&&ee(r,o)||o;q(r[s])&&q(n)?r[s]=e(r[s],n):q(n)?r[s]=e({},n):L(n)?r[s]=n.slice():r[s]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&Z(arguments[e],n);return r},extend:(e,t,r,n)=>(Z(t,((t,n)=>{r&&$(t)?e[n]=x(t,r):e[n]=t}),{allOwnKeys:(void 0===n?{}:n).allOwnKeys}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let o,s,i;const a={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),s=o.length;s-- >0;)i=o[s],n&&!n(i,e,t)||a[i]||(t[i]=e[i],a[i]=!0);e=!1!==r&&A(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:N,kindOfTest:I,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(L(e))return e;let t=e.length;if(!B(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:se,hasOwnProperty:ie,hasOwnProp:ie,reduceDescriptors:le,freezeMethods:e=>{le(e,((t,r)=>{if($(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];$(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return L(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ee,global:te,isContextDefined:re,ALPHABET:ue,generateString:(e,t)=>{let r=void 0===e?16:e,n=void 0===t?ue.ALPHA_DIGIT:t,o="";const s=n.length;for(;r--;)o+=n[Math.random()*s|0];return o},isSpecCompliantForm:function(e){return!!(e&&$(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(M(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const o=L(e)?[]:{};return Z(e,((e,t)=>{const s=r(e,n+1);!D(s)&&(o[t]=s)})),t[n]=void 0,o}}return e};return r(e,0)},isAsyncFn:fe,isThenable:e=>e&&(M(e)||$(e))&&$(e.then)&&$(e.catch),setImmediate:he,asap:we};C=s("8rN6d"),_=s("8bPtr");function Ee(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}be.inherits(Ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.status}}});const ve=Ee.prototype,Se={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Se[e]={value:e}})),Object.defineProperties(Ee,Se),Object.defineProperty(ve,"isAxiosError",{value:!0}),Ee.from=(e,t,r,n,o,s)=>{const i=Object.create(ve);return be.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Ee.call(i,e.message,t,r,n,o),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};var Te=Ee,Ce=null,_e=s("l6ARn").Buffer;function Re(e){return be.isPlainObject(e)||be.isArray(e)}function xe(e){return be.endsWith(e,"[]")?e.slice(0,-2):e}function Oe(e,t,r){return e?e.concat(t).map((function(e,t){return e=xe(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const ke=be.toFlatObject(be,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Ae=function(e,t,r){if(!be.isObject(e))throw new TypeError("target must be an object");t=t||new(Ce||FormData);const n=(r=be.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!be.isUndefined(t[e])}))).metaTokens,o=r.visitor||c,s=r.dots,i=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&be.isSpecCompliantForm(t);if(!be.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(be.isDate(e))return e.toISOString();if(!a&&be.isBlob(e))throw new Te("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(e)||be.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):_e.from(e):e}function c(e,r,o){let a=e;if(e&&!o&&"object"==typeof e)if(be.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(be.isArray(e)&&function(e){return be.isArray(e)&&!e.some(Re)}(e)||(be.isFileList(e)||be.endsWith(r,"[]"))&&(a=be.toArray(e)))return r=xe(r),a.forEach((function(e,n){!be.isUndefined(e)&&null!==e&&t.append(!0===i?Oe([r],n,s):null===i?r:r+"[]",l(e))})),!1;return!!Re(e)||(t.append(Oe(o,r,s),l(e)),!1)}const d=[],u=Object.assign(ke,{defaultVisitor:c,convertValue:l,isVisitable:Re});if(!be.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!be.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),be.forEach(r,(function(r,s){!0===(!(be.isUndefined(r)||null===r)&&o.call(t,r,be.isString(s)?s.trim():s,n,u))&&e(r,n?n.concat(s):[s])})),d.pop()}}(e),t};function Ne(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function je(e,t){this._pairs=[],e&&Ae(e,this,t)}const Ie=je.prototype;Ie.append=function(e,t){this._pairs.push([e,t])},Ie.toString=function(e){const t=e?function(t){return e.call(this,t,Ne)}:Ne;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Pe=je;function Le(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function De(e,t,r){if(!t)return e;const n=r&&r.encode||Le;be.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let s;if(s=o?o(t,r):be.isURLSearchParams(t)?t.toString():new Pe(t,r).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}var Fe=class{use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){be.forEach(this.handlers,(function(t){null!==t&&e(t)}))}constructor(){this.handlers=[]}},Ue={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$e=(b=s("jBCXK"),{isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Pe,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]}),Be={};e(Be,"hasBrowserEnv",(()=>Me)),e(Be,"navigator",(()=>qe)),e(Be,"hasStandardBrowserEnv",(()=>He)),e(Be,"hasStandardBrowserWebWorkerEnv",(()=>ze)),e(Be,"origin",(()=>Ke));const Me="undefined"!=typeof window&&"undefined"!=typeof document,qe="object"==typeof navigator&&navigator||void 0,He=Me&&(!qe||["ReactNative","NativeScript","NS"].indexOf(qe.product)<0),ze="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Ke=Me&&window.location.href||"http://localhost";var Ge=(0,b.default)({},Be,$e);function We(e,t){return Ae(e,new Ge.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return Ge.isNode&&be.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}var Ve=function(e){function t(e,r,n,o){let s=e[o++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),a=o>=e.length;if(s=!s&&be.isArray(n)?n.length:s,a)return be.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!i;n[s]&&be.isObject(n[s])||(n[s]=[]);return t(e,r,n[s],o)&&be.isArray(n[s])&&(n[s]=function(e){const t={},r=Object.keys(e);let n;const o=r.length;let s;for(n=0;n<o;n++)s=r[n],t[s]=e[s];return t}(n[s])),!i}if(be.isFormData(e)&&be.isFunction(e.entries)){const r={};return be.forEachEntry(e,((e,n)=>{t(function(e){return be.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null};const Ye={transitional:Ue,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,o=be.isObject(e);o&&be.isHTMLForm(e)&&(e=new FormData(e));if(be.isFormData(e))return n?JSON.stringify(Ve(e)):e;if(be.isArrayBuffer(e)||be.isBuffer(e)||be.isStream(e)||be.isFile(e)||be.isBlob(e)||be.isReadableStream(e))return e;if(be.isArrayBufferView(e))return e.buffer;if(be.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return We(e,this.formSerializer).toString();if((s=be.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ae(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||n?(t.setContentType("application/json",!1),function(e,t,r){if(be.isString(e))try{return(t||JSON.parse)(e),be.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ye.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(be.isResponse(e)||be.isReadableStream(e))return e;if(e&&be.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw Te.from(e,Te.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ge.classes.FormData,Blob:Ge.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],(e=>{Ye.headers[e]={}}));var Je=Ye;R=s("ff4Ef");const Xe=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Qe=e=>{const t={};let r,n,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),r=e.substring(0,o).trim().toLowerCase(),n=e.substring(o+1).trim(),!r||t[r]&&Xe[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t};const Ze=Symbol("internals");function et(e){return e&&String(e).trim().toLowerCase()}function tt(e){return!1===e||null==e?e:be.isArray(e)?e.map(tt):String(e)}function rt(e,t,r,n,o){return be.isFunction(n)?n.call(this,t,r):(o&&(t=r),be.isString(t)?be.isString(n)?-1!==t.indexOf(n):be.isRegExp(n)?n.test(t):void 0:void 0)}class nt{set(e,t,r){const n=this;function o(e,t,r){const o=et(t);if(!o)throw new Error("header name must be a non-empty string");const s=be.findKey(n,o);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=tt(e))}const s=(e,t)=>be.forEach(e,((e,r)=>o(e,r,t)));var i=!0,a=!1,l=void 0;if(be.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(be.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s(Qe(e),t);else if(be.isHeaders(e))try{for(var c,d=e.entries()[Symbol.iterator]();!(i=(c=d.next()).done);i=!0){const e=(0,R.default)(c.value,2),t=e[0];o(e[1],t,r)}}catch(e){a=!0,l=e}finally{try{i||null==d.return||d.return()}finally{if(a)throw l}}else null!=e&&o(t,e,r);return this}get(e,t){if(e=et(e)){const r=be.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(be.isFunction(t))return t.call(this,e,r);if(be.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=et(e)){const r=be.findKey(this,e);return!(!r||void 0===this[r]||t&&!rt(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function o(e){if(e=et(e)){const o=be.findKey(r,e);!o||t&&!rt(0,r[o],o,t)||(delete r[o],n=!0)}}return be.isArray(e)?e.forEach(o):o(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const o=t[r];e&&!rt(0,this[o],o,e,!0)||(delete this[o],n=!0)}return n}normalize(e){const t=this,r={};return be.forEach(this,((n,o)=>{const s=be.findKey(r,o);if(s)return t[s]=tt(n),void delete t[o];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(o):String(o).trim();i!==o&&delete t[o],t[i]=tt(n),r[i]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return be.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&be.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let t=(0,R.default)(e,2);return t[0]+": "+t[1]})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=(this[Ze]=this[Ze]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=et(e);t[n]||(!function(e,t){const r=be.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,o){return this[n].call(this,t,e,r,o)},configurable:!0})}))}(r,e),t[n]=!0)}return be.isArray(e)?e.forEach(n):n(e),this}constructor(e){e&&this.set(e)}}nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),be.reduceDescriptors(nt.prototype,((e,t)=>{let r=e.value,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}})),be.freezeMethods(nt);var ot=nt;function st(e,t){const r=this||Je,n=t||r,o=ot.from(n.headers);let s=n.data;return be.forEach(e,(function(e){s=e.call(r,s,o.normalize(),t?t.status:void 0)})),o.normalize(),s}function it(e){return!(!e||!e.__CANCEL__)}function at(e,t,r){Te.call(this,null==e?"canceled":e,Te.ERR_CANCELED,t,r),this.name="CanceledError"}be.inherits(at,Te,{__CANCEL__:!0});var lt=at;R=s("ff4Ef"),R=s("ff4Ef");function ct(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Te("Request failed with status code "+r.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}function dt(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}var ut=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o,s=0,i=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=n[i];o||(o=l),r[s]=a,n[s]=l;let d=i,u=0;for(;d!==s;)u+=r[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-o<t)return;const f=c&&l-c;return f?Math.round(1e3*u/f):void 0}};var ft=function(e,t){let r,n,o=0,s=1e3/t;const i=(t,s)=>{let i=void 0===s?Date.now():s;o=i,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-o;a>=s?i(e,t):(r=e,n||(n=setTimeout((()=>{n=null,i(r)}),s-a)))},()=>r&&i(r)]};const ht=(e,t,r)=>{let n=void 0===r?3:r,o=0;const s=ut(50,250);return ft((r=>{const n=r.loaded,i=r.lengthComputable?r.total:void 0,a=n-o,l=s(a);o=n;e({loaded:n,total:i,progress:i?n/i:void 0,bytes:a,rate:l||void 0,estimated:l&&i&&n<=i?(i-n)/l:void 0,event:r,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},pt=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},mt=e=>(...t)=>be.asap((()=>e(...t)));var gt=s("cOJWe"),yt=s("drcKI"),wt=s("f3ozh"),bt=s("6Vo1N");var Et,vt,St=Ge.hasStandardBrowserEnv?(Et=new URL(Ge.origin),vt=Ge.navigator&&/(msie|trident)/i.test(Ge.navigator.userAgent),e=>(e=new URL(e,Ge.origin),Et.protocol===e.protocol&&Et.host===e.host&&(vt||Et.port===e.port))):()=>!0,Tt=Ge.hasStandardBrowserEnv?{write(e,t,r,n,o,s){const i=[e+"="+encodeURIComponent(t)];be.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),be.isString(n)&&i.push("path="+n),be.isString(o)&&i.push("domain="+o),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ct(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function _t(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?Ct(e,t):t}b=s("jBCXK");const Rt=e=>e instanceof ot?(0,b.default)({},e):e;function xt(e,t){t=t||{};const r={};function n(e,t,r,n){return be.isPlainObject(e)&&be.isPlainObject(t)?be.merge.call({caseless:n},e,t):be.isPlainObject(t)?be.merge({},t):be.isArray(t)?t.slice():t}function o(e,t,r,o){return be.isUndefined(t)?be.isUndefined(e)?void 0:n(void 0,e,0,o):n(e,t,0,o)}function s(e,t){if(!be.isUndefined(t))return n(void 0,t)}function i(e,t){return be.isUndefined(t)?be.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,o,s){return s in t?n(r,o):s in e?n(void 0,r):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(e,t,r)=>o(Rt(e),Rt(t),0,!0)};return be.forEach(Object.keys(Object.assign({},e,t)),(function(n){const s=l[n]||o,i=s(e[n],t[n],n);be.isUndefined(i)&&s!==a||(r[n]=i)})),r}var Ot=e=>{const t=xt({},e);let r,n=t.data,o=t.withXSRFToken,s=t.xsrfHeaderName,i=t.xsrfCookieName,a=t.headers,l=t.auth;if(t.headers=a=ot.from(a),t.url=De(_t(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),be.isFormData(n))if(Ge.hasStandardBrowserEnv||Ge.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const e=(c=r?r.split(";").map((e=>e.trim())).filter(Boolean):[],(0,gt.default)(c)||(0,yt.default)(c)||(0,bt.default)(c)||(0,wt.default)()),t=e[0],n=e.slice(1);a.setContentType([t||"multipart/form-data",...n].join("; "))}var c;if(Ge.hasStandardBrowserEnv&&(o&&be.isFunction(o)&&(o=o(t)),o||!1!==o&&St(t.url))){const e=s&&i&&Tt.read(i);e&&a.set(s,e)}return t};var kt="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=Ot(e);let o=n.data;const s=ot.from(n.headers).normalize();let i,a,l,c,d,u=n.responseType,f=n.onUploadProgress,h=n.onDownloadProgress;function p(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function g(){if(!m)return;const n=ot.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());ct((function(e){t(e),p()}),(function(e){r(e),p()}),{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m}),m=null}var y,w;(m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(r(new Te("Request aborted",Te.ECONNABORTED,e,m)),m=null)},m.onerror=function(){r(new Te("Network Error",Te.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const o=n.transitional||Ue;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new Te(t,o.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,e,m)),m=null},void 0===o&&s.setContentType(null),"setRequestHeader"in m&&be.forEach(s.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),be.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),u&&"json"!==u&&(m.responseType=n.responseType),h)&&(l=(y=(0,R.default)(ht(h,!0),2))[0],d=y[1],m.addEventListener("progress",l));f&&m.upload&&(a=(w=(0,R.default)(ht(f),2))[0],c=w[1],m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c));(n.cancelToken||n.signal)&&(i=t=>{m&&(r(!t||t.type?new lt(null,e,m):t),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const b=dt(n.url);b&&-1===Ge.protocols.indexOf(b)?r(new Te("Unsupported protocol "+b+":",Te.ERR_BAD_REQUEST,e)):m.send(o||null)}))};C=s("8rN6d"),b=s("jBCXK"),E=s("hGGFE"),R=s("ff4Ef"),_=s("8bPtr");var At=(e,t)=>{const r=(e=e?e.filter(Boolean):[]).length;if(t||r){let r,n=new AbortController;const o=function(e){if(!r){r=!0,i();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Te?t:new lt(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,o(new Te(`timeout ${t} of ms exceeded`,Te.ETIMEDOUT))}),t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const a=n.signal;return a.unsubscribe=()=>be.asap(i),a}};function Nt(e,t){var r={},n=!1;function o(r,o){return n=!0,o=new Promise((function(t){t(e[r](o))})),{done:!1,value:t(o)}}return"function"==typeof Symbol&&Symbol.iterator&&(r[Symbol.iterator]=function(){return this}),r.next=function(e){return n?(n=!1,e):o("next",e)},"function"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return o("throw",e)}),"function"==typeof e.return&&(r.return=function(e){return o("return",e)}),r}function jt(e){var t,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new It(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function It(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return It=function(e){this.s=e,this.n=e.next},It.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new It(e)}C=s("8rN6d");function Pt(e){this.wrapped=e}function Lt(e){return new Pt(e)}function Dt(e){var t,r;function n(t,r){try{var s=e[t](r),i=s.value,a=i instanceof Pt;Promise.resolve(a?i.wrapped:i).then((function(e){a?n("next",e):o(s.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,o){return new Promise((function(s,i){var a={key:e,arg:o,resolve:s,reject:i,next:null};r?r=r.next=a:(t=r=a,n(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function Ft(e){return function(){return new Dt(e.apply(this,arguments))}}"function"==typeof Symbol&&Symbol.asyncIterator&&(Dt.prototype[Symbol.asyncIterator]=function(){return this}),Dt.prototype.next=function(e){return this._invoke("next",e)},Dt.prototype.throw=function(e){return this._invoke("throw",e)},Dt.prototype.return=function(e){return this._invoke("return",e)};_=s("8bPtr"),_=s("8bPtr");const Ut=function(e,t){var r,n,o;return(0,_.__generator)(this,(function(s){switch(s.label){case 0:return r=e.byteLength,!t||r<t?[4,e]:[3,2];case 1:return s.sent(),[2];case 2:n=0,s.label=3;case 3:return n<r?(o=n+t,[4,e.slice(n,o)]):[3,5];case 4:return s.sent(),n=o,[3,3];case 5:return[2]}}))},$t=(Bt=Ft((function(e,t){var r,n,o,s,i,a,l,c;return(0,_.__generator)(this,(function(d){switch(d.label){case 0:r=!1,n=!1,d.label=1;case 1:d.trys.push([1,7,8,13]),s=jt(Mt(e)),d.label=2;case 2:return[4,Lt(s.next())];case 3:return(r=!(i=d.sent()).done)?(a=i.value,l=a,[5,(0,_.__values)(Nt(jt(Ut(l,t)),Lt))]):[3,6];case 4:d.sent(),d.label=5;case 5:return r=!1,[3,2];case 6:return[3,13];case 7:return c=d.sent(),n=!0,o=c,[3,13];case 8:return d.trys.push([8,,11,12]),r&&null!=s.return?[4,s.return()]:[3,10];case 9:d.sent(),d.label=10;case 10:return[3,12];case 11:if(n)throw o;return[7];case 12:return[7];case 13:return[2]}}))})),function(e,t){return Bt.apply(this,arguments)});var Bt;const Mt=function(){var e=Ft((function(e){var t,r,n,o;return(0,_.__generator)(this,(function(s){switch(s.label){case 0:return e[Symbol.asyncIterator]?[5,(0,_.__values)(Nt(jt(e),Lt))]:[3,2];case 1:return s.sent(),[2];case 2:t=e.getReader(),s.label=3;case 3:return s.trys.push([3,,8,10]),[4,Lt(t.read())];case 4:return r=s.sent(),n=r.done,o=r.value,n?[3,7]:[4,o];case 5:s.sent(),s.label=6;case 6:return[3,3];case 7:return[3,10];case 8:return[4,Lt(t.cancel())];case 9:return s.sent(),[7];case 10:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),qt=(e,t,r,n)=>{const o=$t(e,t);let s,i=0,a=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({pull:e=>(0,C.default)((function(){var t,n,s,l,c,d;return(0,_.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,o.next()];case 1:return t=u.sent(),n=t.done,s=t.value,n?(a(),e.close(),[2]):(l=s.byteLength,r&&(c=i+=l,r(c)),e.enqueue(new Uint8Array(s)),[3,3]);case 2:throw d=u.sent(),a(d),d;case 3:return[2]}}))}))(),cancel:e=>(a(e),o.return())},{highWaterMark:2})},Ht="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,zt=Ht&&"function"==typeof ReadableStream,Kt=Ht&&("function"==typeof TextEncoder?(Gt=new TextEncoder,e=>Gt.encode(e)):function(){var e=(0,C.default)((function(e){var t;return(0,_.__generator)(this,(function(r){switch(r.label){case 0:return t=Uint8Array.bind,[4,new Response(e).arrayBuffer()];case 1:return[2,new(t.apply(Uint8Array,[void 0,r.sent()]))]}}))}));return function(t){return e.apply(this,arguments)}}());var Gt;const Wt=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Vt=zt&&Wt((()=>{let e=!1;const t=new Request(Ge.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Yt=zt&&Wt((()=>be.isReadableStream(new Response("").body))),Jt={stream:Yt&&(e=>e.body)};var Xt;Ht&&(Xt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Jt[e]&&(Jt[e]=be.isFunction(Xt[e])?t=>t[e]():(t,r)=>{throw new Te(`Response type '${e}' is not supported`,Te.ERR_NOT_SUPPORT,r)})})));const Qt=function(){var e=(0,C.default)((function(e){return(0,_.__generator)(this,(function(t){switch(t.label){case 0:return null==e?[2,0]:be.isBlob(e)?[2,e.size]:be.isSpecCompliantForm(e)?[4,new Request(Ge.origin,{method:"POST",body:e}).arrayBuffer()]:[3,2];case 1:case 3:return[2,t.sent().byteLength];case 2:return be.isArrayBufferView(e)||be.isArrayBuffer(e)?[2,e.byteLength]:(be.isURLSearchParams(e)&&(e+=""),be.isString(e)?[4,Kt(e)]:[3,4]);case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),Zt=function(){var e=(0,C.default)((function(e,t){var r;return(0,_.__generator)(this,(function(n){return[2,null==(r=be.toFiniteNumber(e.getContentLength()))?Qt(t):r]}))}));return function(t,r){return e.apply(this,arguments)}}();var er=Ht&&function(){var e=(0,C.default)((function(e){var t,r,n,o,s,i,a,l,c,d,u,f,h,p,m,g,y,w,v,S,T,C,x,O,k,A,N,j,I,P,L,D,F,U;return(0,_.__generator)(this,(function(_){switch(_.label){case 0:t=Ot(e),r=t.url,n=t.method,o=t.data,s=t.signal,i=t.cancelToken,a=t.timeout,l=t.onDownloadProgress,c=t.onUploadProgress,d=t.responseType,u=t.headers,f=t.withCredentials,h=void 0===f?"same-origin":f,p=t.fetchOptions,d=d?(d+"").toLowerCase():"text",m=At([s,i&&i.toAbortSignal()],a),y=m&&m.unsubscribe&&(()=>{m.unsubscribe()}),_.label=1;case 1:return _.trys.push([1,7,,8]),(v=c&&Vt&&"get"!==n&&"head"!==n)?[4,Zt(u,o)]:[3,3];case 2:v=0!==(w=_.sent()),_.label=3;case 3:return v&&(S=new Request(r,{method:"POST",body:o,duplex:"half"}),be.isFormData(o)&&(T=S.headers.get("content-type"))&&u.setContentType(T),S.body&&(C=(0,R.default)(pt(w,ht(mt(c))),2),x=C[0],O=C[1],o=qt(S.body,65536,x,O))),be.isString(h)||(h=h?"include":"omit"),k="credentials"in Request.prototype,g=new Request(r,(0,E.default)((0,b.default)({},p),{signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:o,duplex:"half",credentials:k?h:void 0})),[4,fetch(g)];case 4:return A=_.sent(),N=Yt&&("stream"===d||"response"===d),Yt&&(l||N&&y)&&(j={},["status","statusText","headers"].forEach((e=>{j[e]=A[e]})),I=be.toFiniteNumber(A.headers.get("content-length")),P=(0,R.default)(l&&pt(I,ht(mt(l),!0))||[],2),L=P[0],D=P[1],A=new Response(qt(A.body,65536,L,(()=>{D&&D(),y&&y()})),j)),d=d||"text",[4,Jt[be.findKey(Jt,d)||"text"](A,e)];case 5:return F=_.sent(),!N&&y&&y(),[4,new Promise(((t,r)=>{ct(t,r,{data:F,headers:ot.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:g})}))];case 6:return[2,_.sent()];case 7:if(U=_.sent(),y&&y(),U&&"TypeError"===U.name&&/fetch/i.test(U.message))throw Object.assign(new Te("Network Error",Te.ERR_NETWORK,e,g),{cause:U.cause||U});throw Te.from(U,U&&U.code,e,g);case 8:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();const tr={http:Ce,xhr:kt,fetch:er};be.forEach(tr,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const rr=e=>`- ${e}`,nr=e=>be.isFunction(e)||null===e||!1===e;var or={getAdapter:e=>{const t=(e=be.isArray(e)?e:[e]).length;let r,n;const o={};for(let s=0;s<t;s++){let t;if(r=e[s],n=r,!nr(r)&&(n=tr[(t=String(r)).toLowerCase()],void 0===n))throw new Te(`Unknown adapter '${t}'`);if(n)break;o[t||"#"+s]=n}if(!n){const e=Object.entries(o).map((e=>{let t=(0,R.default)(e,2);return`adapter ${t[0]} `+(!1===t[1]?"is not supported by the environment":"is not available in the build")}));let r=t?e.length>1?"since :\n"+e.map(rr).join("\n"):" "+rr(e[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n},adapters:tr};function sr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new lt(null,e)}function ir(e){sr(e),e.headers=ot.from(e.headers),e.data=st.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return or.getAdapter(e.adapter||Je.adapter)(e).then((function(t){return sr(e),t.data=st.call(e,e.transformResponse,t),t.headers=ot.from(t.headers),t}),(function(t){return it(t)||(sr(e),t&&t.response&&(t.response.data=st.call(e,e.transformResponse,t.response),t.response.headers=ot.from(t.response.headers))),Promise.reject(t)}))}const ar="1.7.9",lr={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{lr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const cr={};lr.transitional=function(e,t,r){function n(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,o,s)=>{if(!1===e)throw new Te(n(o," has been removed"+(t?" in "+t:"")),Te.ERR_DEPRECATED);return t&&!cr[o]&&(cr[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,o,s)}},lr.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};var dr={assertOptions:function(e,t,r){if("object"!=typeof e)throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const s=n[o],i=t[s];if(i){const t=e[s],r=void 0===t||i(t,s,e);if(!0!==r)throw new Te("option "+s+" must be "+r,Te.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new Te("Unknown option "+s,Te.ERR_BAD_OPTION)}},validators:lr};const ur=dr.validators;class fr{request(e,t){var r=this;return(0,C.default)((function(){var n,o,s;return(0,_.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,r._request(e,t)];case 1:return[2,i.sent()];case 2:if((n=i.sent())instanceof Error){o={},Error.captureStackTrace?Error.captureStackTrace(o):o=new Error,s=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+s):n.stack=s}catch(e){}}throw n;case 3:return[2]}}))}))()}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{};const r=(t=xt(this.defaults,t)).transitional,n=t.paramsSerializer,o=t.headers;void 0!==r&&dr.assertOptions(r,{silentJSONParsing:ur.transitional(ur.boolean),forcedJSONParsing:ur.transitional(ur.boolean),clarifyTimeoutError:ur.transitional(ur.boolean)},!1),null!=n&&(be.isFunction(n)?t.paramsSerializer={serialize:n}:dr.assertOptions(n,{encode:ur.function,serialize:ur.function},!0)),dr.assertOptions(t,{baseUrl:ur.spelling("baseURL"),withXsrfToken:ur.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=o&&be.merge(o.common,o[t.method]);o&&be.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=ot.concat(s,o);const i=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!a){const e=[ir.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let f=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{f=e(f)}catch(e){t.call(this,e);break}}try{c=ir.call(this,f)}catch(e){return Promise.reject(e)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return De(_t((e=xt(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}constructor(e){this.defaults=e,this.interceptors={request:new Fe,response:new Fe}}}be.forEach(["delete","get","head","options"],(function(e){fr.prototype[e]=function(t,r){return this.request(xt(r||{},{method:e,url:t,data:(r||{}).data}))}})),be.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,o){return this.request(xt(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}fr.prototype[e]=t(),fr.prototype[e+"Form"]=t(!0)}));var hr=fr;class pr{throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new pr((function(t){e=t})),cancel:e}}constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,o){r.reason||(r.reason=new lt(e,n,o),t(r.reason))}))}}var mr=pr;R=s("ff4Ef");const gr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gr).forEach((e=>{let t=(0,R.default)(e,2),r=t[0],n=t[1];gr[n]=r}));var yr=gr;const wr=function e(t){const r=new hr(t),n=x(hr.prototype.request,r);return be.extend(n,hr.prototype,r,{allOwnKeys:!0}),be.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(xt(t,r))},n}(Je);wr.Axios=hr,wr.CanceledError=lt,wr.CancelToken=mr,wr.isCancel=it,wr.VERSION=ar,wr.toFormData=Ae,wr.AxiosError=Te,wr.Cancel=wr.CanceledError,wr.all=function(e){return Promise.all(e)},wr.spread=function(e){return function(t){return e.apply(null,t)}},wr.isAxiosError=function(e){return be.isObject(e)&&!0===e.isAxiosError},wr.mergeConfig=xt,wr.AxiosHeaders=ot,wr.formToJSON=e=>Ve(be.isHTMLForm(e)?new FormData(e):e),wr.getAdapter=or.getAdapter,wr.HttpStatusCode=yr,wr.default=wr;var br=wr;br.Axios,br.AxiosError,br.CanceledError,br.isCancel,br.CancelToken,br.VERSION,br.all,br.Cancel,br.isAxiosError,br.spread,br.toFormData,br.AxiosHeaders,br.HttpStatusCode,br.formToJSON,br.getAdapter,br.mergeConfig;const Er=e=>br.get(e).then((e=>e.data)),vr=function(){var e=(0,C.default)((function(e){var t,r;return(0,_.__generator)(this,(function(n){switch(n.label){case 0:return[4,Er(e)];case 1:return t=n.sent(),(r=document.createElement("div")).innerHTML=t,[2,r.getElementsByTagName("svg")[0]]}}))}));return function(t){return e.apply(this,arguments)}}();var Sr=s("95ETH"),Tr=s("eC8rE"),Cr=s("nKr4g"),_r=(a=s("5Xemj"),d=s("iW6yY"),c=s("2z2pA"),s("1RQvI"));g=s("h1Khz"),w=s("kOtTY");const Rr=()=>{const e=(0,w.getQueryString)(),t=e.id||e.oid,r=e.e,n=e.url;return{options:Ar(t,r,n),history:Nr(t,r,n),capture:t?Or(t,n):void 0,editor:t&&r?kr(t,r,n):void 0}},xr=(e,t,r)=>{let n=void 0!==r&&r;if(e){-1===e.href.indexOf("?")&&(e.href=t,n&&e.setAttribute("style",""))}},Or=(e,t)=>{let r=void 0===t?null:t;const n={id:e};r&&(n.url=r);return"/capture.html"+("?"+(0,w.toQueryString)(n))},kr=(e,t,r)=>{let n=void 0===r?null:r;const o={id:e,e:t};n&&(o.url=n);return"/editor.html"+("?"+(0,w.toQueryString)(o))},Ar=(e,t,r)=>{let n=void 0===e?null:e,o=void 0===t?null:t,s=void 0===r?null:r,i="";if(n){const e={id:n};o&&(e.e=o),s&&(e.url=s),i="?"+(0,w.toQueryString)(e)}return"/options.html"+i},Nr=(e,t,r)=>{let n=void 0===e?null:e,o=void 0===t?null:t,s=void 0===r?null:r,i="";if(n){const e={oid:n};o&&(e.e=o),s&&(e.url=s),i="?"+(0,w.toQueryString)(e)}return"/capture.html"+i};w=s("kOtTY"),Cr=s("nKr4g"),w=s("kOtTY");const jr=(e,t,r,n,o)=>{(0,Cr.$)("error-title").innerText=e;let s=(0,Cr.$)("error-body");s.innerText=t,(0,w.asArray)(s.getElementsByClassName(jr.extrasClassName)).forEach((e=>{e.parentNode.removeChild(e)}));let i=(0,Cr.$)("error");i.classList.toggle("warning",!r),Cr.$.findClass("close",i).forEach((e=>{e.style.display=n?"":"none",e._assignedClose||(e._assignedClose=!0,Cr.$.on(e,"click",Ir))})),(0,Cr.$)("error-buttons").style.display=!0===o?"none":"",Cr.$.show("error-wrap")};jr.extrasClassName="errors-html-extra";const Ir=()=>{(0,Cr.$)("error-wrap").style.display="none"},Pr=()=>Promise.resolve().then((()=>{(0,Cr.$)("image").classList.add("loading")})),Lr=()=>Promise.resolve().then((()=>{(0,Cr.$)("image").classList.remove("loading")}));function Dr(){return Tr.Capture.all().then((e=>function(e){Ir(),(0,Cr.$)("image").style.display="none",window.scrollTo(0,0);let r=document.createElement("ul");r.className="dropdown-items";let n=e.map((e=>function(e){let t=e.url;1!==e.images.length&&(t+=` (${e.images.length} images)`);let r=e.dateTime.toLocaleString((0,E.default)((0,b.default)({},v.DateTime.DATETIME_SHORT),{year:"2-digit"})),n=e.sizes?Mr(e.sizes.reduce(((e,t)=>e+t))):"",o=e.displayURL,s=document.createElement("li");s.className="dropdown-item";let i=document.createElement("div");i.className="container",s.appendChild(i);let l=document.createElement("label");l.className="checkbox-wrap";let c=document.createElement("input");c.type="checkbox",c.className="checkbox file-checkbox",c.dataset.id=e.id,l.appendChild(c),i.appendChild(l);let d,u=document.createElement("a");u.textContent=t,u.href=o,i.appendChild(u),e.edits&&e.edits.length&&(d=document.createElement("span"),d.textContent=`(${(0,a.tr)("Edited")})`,d.className="dim edited-note",u.appendChild(d));return d=document.createElement("span"),d.textContent=n,d.className="size right",u.insertBefore(d,u.firstChild),d=document.createElement("span"),d.textContent=r,d.className="date right",u.insertBefore(d,u.firstChild),s}(e))),o=n.length-1;for(;o>=0;)r.appendChild(n[o]),o--;e.length||r.appendChild(function(){const e=document.createElement("li");e.className="dropdown-item info";const t=document.createElement("div");t.className="container";const r=document.createElement("em");return r.textContent=(0,a.tr)("No screen captures found. Go make some!"),t.appendChild(document.createTextNode("😦 ")),t.appendChild(r),t.appendChild(document.createTextNode(" 😊")),e.appendChild(t),e}());let s=(0,Cr.$)("history");Cr.$.empty(s);let i=document.createElement("div");i.className="big-card",i.appendChild(function(){let e=document.createElement("div");e.className=" container title-container history-title-container";const r=document.createElement("div");r.className="h2-wrap";let n=document.createElement("h2");n.textContent=(0,a.tr)("Files"),r.appendChild(n),e.appendChild(r);let o=document.createElement("div");o.className="controls clearfix",e.appendChild(o);let s=document.createElement("label");s.className="checkbox-wrap",o.appendChild(s);let i=document.createElement("input");i.type="checkbox",i.className="meta-checkbox",i.addEventListener("change",(e=>{let t=e.target.checked;Fr().forEach((e=>e.checked=t)),Br()})),s.appendChild(i);let l=document.createElement("div");l.className="checkbox-note",l.textContent="",o.appendChild(l);let d=document.createElement("button");d.textContent=(0,a.tr)("Delete"),d.className="checkbox-button check-box-button-del",d.disabled=!0,o.appendChild(d),vr(t(S)).then((e=>{e.classList.add("btn-icon"),d.appendChild(e)})).catch((e=>{c.default.error(`Error loading svg (${t(S)})`,e)})),d.addEventListener("click",(e=>{!function(e){let t=e.length;const r=1===t?(0,a.tr)("Are you sure you want to delete 1 screencapture?\n (This action cannot be undone.)"):(0,a.tr)("Are you sure you want to delete $count$ screen captures?\n (This action cannot be undone.)",null,[t],{count:{content:"$1",example:"2"}});if(!confirm(r))return;let n=(0,a.tr)("Remove files");Tr.Capture.lookupIds(e).then((e=>{let t=[],r=[],n=[];return Promise.all(e.map((e=>e.remove().then((()=>t.push(e.id))).catch((t=>{r.push(e.id),n.push(t)}))))).then((()=>{if(r.length&&0===t.length)throw n[0];return{succeeded:t,failed:r,errors:n}}))})).then((e=>{let t=e.succeeded,r=e.failed,o=t.length,s=r.length,i=1===o?(0,a.tr)("1 file was successfully removed."):(0,a.tr)("$num$ files were successfully removed.",null,[o],{num:{content:"$1",example:"2"}});i+=" 🗑",s&&(i+="\n\n",i+=1===s?(0,a.tr)("1 file could not be removed."):(0,a.tr)("$num$ files could not be removed.",null,[s],{num:{content:"$1",example:"2"}})),Dr(),window.setTimeout((()=>{jr(n,i),window.setTimeout((()=>{Ir()}),3e3)}),50)})).catch((e=>{c.default.error("Error handling files",e),g.update(e).then((()=>{let e=(0,a.tr)("Error handling files. Please report this via the flag reporting button above.");jr(n,e,!0,!0)}))}))}(Ur(Fr()))}));let u=document.createElement("button");return u.textContent=(0,a.tr)("Download"),u.className="checkbox-button check-box-button-down",u.disabled=!0,o.appendChild(u),vr(t(T)).then((e=>{e.classList.add("btn-icon"),u.appendChild(e)})).catch((e=>{c.default.error(`Error loading svg (${t(T)})`,e)})),u.addEventListener("click",(e=>{let t=Ur(Fr());(0,Sr.requestDownloads)().then((e=>{if(e)return Tr.Capture.lookupIds(t).then((e=>[].concat.apply([],e.map((e=>e.fullPaths))))).then((e=>(0,w.fullServiceDownload)(e))).then((e=>{let t=e.hasPerms,r=e.results,n=e.failCount;e.successCount;if((0,c.default)(`download success ${r.length} files`),t)if(n){let e="Some files did not download",t=r.filter((e=>!1===e.success)),n=(0,a.tr)("The following files could not be downloaded:")+`\n\n${t.map((e=>e.url)).join("\n")}\n\n`+_r.ERR_MSG_IF_PERSISTS;jr(e,n,!0,!0)}else(0,c.default)(`downloaded ${r.length} files`);else{let e=(0,a.tr)("Cannot download files"),t=(0,a.tr)("You need to grant the download privilege in order to download files");jr(e,t,!1,!0)}}));{let e=(0,a.tr)("Permission needed to download files"),t=(0,a.tr)("You need to grant the download privilege in order to download files");return jr(e,t,!1,!0),g.update().then((()=>!0))}})).catch((e=>{g.update(e).then((()=>{c.default.error("Download error",e);let t=(0,a.tr)("Error downloading files"),r=(0,a.tr)("There was an error downloading files, please report it via the flag button above.");jr(t,r,!0,!0)}))}))})),e}()),i.appendChild(r),s.appendChild(i),s.style.display="block";let l=$r.loadIdsSet();Fr().forEach((e=>{l.has(e.dataset.id)&&(e.checked=!0),e.addEventListener("change",Br)})),Br()}(e))).catch((e=>{c.default.error("Error in loadHistory",e),g.update(e).then((()=>{let e=(0,a.tr)("Error loading history"),t=_r.ERR_MSG_IF_PERSISTS;jr(e,t,!0,!0)}))}))}function Fr(e){let t=Cr.$.findClass("file-checkbox",(0,Cr.$)("history"));return!0===e&&$r.saveElts(t),t}function Ur(e){return e.filter((e=>e.checked)).map((e=>parseInt(e.dataset.id,10)))}const $r=function(){let e="checkedFiles";return{saveElts:t=>{let r=Ur(t).join(",");if(window.sessionStorage)try{window.sessionStorage.setItem(e,r)}catch(e){c.default.error("Error storing checked state",e)}},loadIdsSet:()=>{let t="";if(window.sessionStorage)try{t=window.sessionStorage.getItem(e)||""}catch(e){c.default.error("Error loading checked state",e)}return new Set(t.split(","))}}}();function Br(){let e=Fr(!0),t=e.length,r=e.filter((e=>e.checked)).length,n=(0,Cr.$)("history"),o=Cr.$.findClass("checkbox-note",n)[0];const s=(0,a.tr)("Selected");o.textContent=0===t?"":`(${r} ${s})`,n.classList[0===t?"add":"remove"]("no-screenshots");let i=Cr.$.findClass("meta-checkbox",n)[0];0!==r&&r!==t||(i.checked=0!==r),Cr.$.findClass("checkbox-button",n).forEach((e=>{e.disabled=0===r,e.title=0===r?(0,a.tr)("Select 1 or more screenshots to use this action."):""}))}function Mr(e,t){let r=void 0===t?2:t;if(0==e)return"0";const n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,n)).toFixed(r)} ${Mr.sizes[n]}`}Mr.sizes=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];C=s("8rN6d"),b=s("jBCXK"),E=s("hGGFE"),R=s("ff4Ef"),_=s("8bPtr");var qr=s("7b0kr"),Hr=s("iiDPj"),zr=(R=s("ff4Ef"),s("ijcw6")),Kr=(qr=s("7b0kr"),s("i9kVF")),Gr=s("8DwkQ"),Wr=(a=s("5Xemj"),s("5Gpcw"));const Vr=e=>{let t=e.cmd,r=e.ctrl,n=e.alt,o=e.shift,s=e.char;const i=(0,Wr.getIsMac)(),a=[];return t&&a.push(i?"⌘":"⌃"),r&&a.push("⌃"),n&&a.push("⌥"),o&&a.push("⇧"),a.push(s),a.join("")};var Yr=s("94TAZ"),Jr=s("2kaV1");var Xr=e=>{let t=e.Actions,r=e.STATE;const n=(0,R.default)((0,qr.useState)(""),2),o=n[0],s=n[1],i=(0,R.default)((0,qr.useState)(null),2),l=i[0],c=i[1];(0,qr.useEffect)((()=>{const e=e=>{let t=e.text;s(t)};(0,Jr.onNotifyText)(e);const t=e=>{(0,Kr.canCopyTextToClipboard)()&&!r.rejectedDl&&(e.preventDefault(),c({pageX:e.pageX-window.scrollX,pageY:e.pageY-window.scrollY}))},n=document.getElementById("image");return n.addEventListener("contextmenu",t,!1),()=>{(0,Jr.offNotifyText)(e),n.removeEventListener("contextmenu",t,!1)}}));const d=l&&r.record;let u=[];if(d){r.record.fullPaths.forEach((e=>{u.push()}))}return(0,zr.jsxs)(zr.Fragment,{children:[o&&(0,zr.jsx)(Jr.default,{text:o}),d&&(0,zr.jsx)(Yr.default,{pageX:l.pageX,pageY:l.pageY,onClose:()=>c(null),onUpdatePosition:(e,t)=>c({pageX:e,pageY:t}),cfg:{rows:[{text:(0,a.tr)("Save Image As…"),shortcut:Vr({cmd:!0,shift:!0,char:"S"}),onClick:e=>t.download(r.record,Gr.GA_VIA_DIALOG,!0)},{text:(0,a.tr)("Save PDF As…"),onClick:e=>t.downloadPDF(r.record,Gr.GA_VIA_DIALOG,!0)},...r.record.fullPaths.map(((e,n,o)=>({text:`${(0,a.tr)("Copy Image")}${1===o.length?"":" "+(n+1)}`,shortcut:0===n?Vr({cmd:!0,char:"C"}):void 0,onClick:e=>t.copyToClipboard(r.record,Gr.GA_VIA_DIALOG,n,r.images)}))),{divider:!0},{isTitle:!0,title:"Premium feature"},...r.record.fullPaths.map(((e,r,n)=>({text:`${(0,a.tr)("Edit Image")}${1===n.length?"":" "+(r+1)}`,shortcut:0===r?Vr({cmd:!0,char:"E"}):void 0,onClick:e=>t.goToEditor(Gr.GA_VIA_DIALOG,r)}))),{divider:!0},{text:(0,a.tr)("Copy original URL"),onClick:e=>t.copyUrl(r.record,Gr.GA_VIA_DIALOG)},{text:(0,a.tr)("Open original URL"),disabled:!r.record||r.record.url.startsWith("chrome://")||r.record.url.startsWith("edge://"),title:r.record&&r.record.url.startsWith("chrome://")||r.record&&r.record.url.startsWith("edge://")?"Cannot open chrome:// URLs":void 0,onClick:e=>t.goToUrl(r.record,Gr.GA_VIA_DIALOG)}]}})]})},Qr=(Jr=s("2kaV1"),s("fueUa")),Zr=s("1AJdn"),en=s("fAoww"),tn=s("3cJ8u"),rn=s("j4JJz"),nn=s("ekuHd"),on=(Sr=s("95ETH"),C=s("8rN6d"),_=s("8bPtr"),s("3k2hL"));const sn="ChromeTabsError",an=((0,on.genLastErrorFmt)(sn),(0,on.genWrapError)(sn)),ln=()=>{return(e={active:!0,currentWindow:!0},an(chrome.tabs.query(e),"query")).then((e=>e[0]));var e},cn=function(){var e=(0,C.default)((function(e,t){var r,n,o;return(0,_.__generator)(this,(function(s){return r=void 0,n=t.length,[2,(o=s=>{if(s>=t.length)return t;let i=t[s],a=s===n-1;return e.incognito&&0===s?(l={url:i,incognito:!1,focused:a},an(chrome.windows.create(l),"windowsCreate")).then((e=>(r=e.id,o(s+1)))):(e=>an(chrome.tabs.create(e),"create"))({url:i,active:a,windowId:r,openerTabId:e.id,index:(e.incognito?0:e.index)+1+s}).then((e=>o(s+1)));var l})(0)]}))}));return function(t,r){return e.apply(this,arguments)}}();Kr=s("i9kVF"),Gr=s("8DwkQ"),Tr=s("eC8rE"),Cr=s("nKr4g"),a=s("5Xemj");var dn=s("gnAcz");Gr=s("8DwkQ"),Cr=s("nKr4g");var un={[dn.ERROR_INCOGNITO_NETWORK_NAME]:{title:"Network error downloading file",body:"You might be experiencing a bug that was introduced to the Chrome browser in v68. In the meantime, you can try either of the following.\n\n1. right-click and “Save image as” or just click and drag the image to your desktop (if you are not using auto-download)\n\n2. disable “Allow in incognito” from the Chrome settings page for this extension (you can return to this capture from the history view within this extension):",buttons:()=>{let e=`${Gr.CUR_BROWSER_INFO.browser_protocol}extensions?id=${chrome.runtime.id}`,t=document.createElement("a");return t.href="#",t.innerText=e,Object.assign(t.style,{display:"block",fontWeight:"bold",margin:"1em 0"}),Cr.$.on(t,"click",(t=>{t.preventDefault(),ln().then((t=>cn(t,[e])))})),[t]}}},fn=(d=s("iW6yY"),l=s("ceb36"),C=s("8rN6d"),_=s("8bPtr"),Gr=s("8DwkQ"),s("aDcgc")),hn=s("ld3ci"),pn=(Gr=s("8DwkQ"),l=s("ceb36"),c=s("2z2pA"),R=s("ff4Ef"),s("4fNEN")),mn=s("eL3Zw");const gn=mn.default.local,yn=mn.default.sync;var wn=class{getField(e){return this.fields.find((t=>t.name===e))}_key(e){return this.namespace+"."+e}_keys(e){if(void 0===e)throw new Error("Cannot pass `undefined` as `keys`!");return"string"==typeof e&&(e=[e]),e.map((e=>this._key(e)))}_stripKey(e){return e.substring(this.namespace.length+1)}set(e,t){return this.setObj({[e]:t})}setObj(e){let r={};return Object.entries(e).forEach((e=>{let n=(0,R.default)(e,2),o=n[0],s=n[1];const i=this._key(o),a=this.namespacedToField[i];t(pn).ok(a,`no field found for ${i} (${o})`),r[i]=this._serializeField(a,s)})),this.storage.set(r).then((()=>{Object.assign(this.state,e)}))}get(e){return e=this._keys(e),this.storage.get(e).then((e=>{let r={};return Object.entries(e).forEach((e=>{let n=(0,R.default)(e,2),o=n[0],s=n[1];const i=this.namespacedToField[o];t(pn).ok(i,`no field found for ${o}`),r[this._stripKey(o)]=this._deserializeField(i,s)})),Object.assign(this.state,r),r}))}remove(e){"string"==typeof e&&(e=[e]);const t=this._keys(e);return this.storage.remove(t).then((()=>{e.forEach((e=>{delete this.state[e]}))}))}clear(){let e=this.fields.map((e=>e.name));return this.remove(e)}load(e){let t=void 0!==e&&e;return this._loadProm&&!0!==t||(this._loadProm=this._load()),this._loadProm.then((()=>Object.assign({},this.state)))}_load(){let e=this.fields.map((e=>e.name));return this.get(e).then((e=>(this.fields.forEach((t=>{if(void 0===e[t.name])void 0!==t.default&&(e[t.name]="function"==typeof t.default?t.default():t.default);else if(t.process){const r=t.process(e[t.name]).val;e[t.name]=r}})),Object.assign(this.state,e),e)))}onUpdate(e){this._listeners.push(e)}_startListening(){return!this._listening&&(this._listening=!0,chrome.storage.onChanged.addListener(((e,t)=>{if(t===this.areaName){const t=[];Object.entries(e).forEach((e=>{let r=(0,R.default)(e,2),n=r[0],o=r[1];const s=this.namespacedToField[n];s&&(t.push(s.name),this.state[s.name]=this._deserializeField(s,o.newValue))})),t.length&&this._listeners.forEach((e=>e(t)))}})),!0)}_serializeField(e,t){return"json"===e.type?JSON.stringify(t):t}_deserializeField(e,t){return void 0===t&&void 0!==e.default?"function"==typeof e.default?e.default():e.default:"json"===e.type?JSON.parse(t):t}constructor(e,t,r){this.namespace=e,this.fields=t||[],this.state={},this.storage=!0===r?yn:gn,this.areaName=!0===r?"sync":"local",this.fields.forEach((e=>{e.choices&&(e.choices=e.choices.map((e=>"string"==typeof e?{key:e,display:e}:e)))}));let n={};this.fields.forEach((e=>n[this._key(e.name)]=e)),this.namespacedToField=n,this._listeners=[],this.fields.length&&this._startListening()}};w=s("kOtTY");const bn={keys:{DISMISSED:"dismissed",LIKE:"like",WENTOUT:"wentOut",TIMESTAMP:"timestamp"},category:"howisit",postInit:()=>{On("how-is-it-e7n-consider").textContent=(0,fn.tr)("Might you consider taking a minute to rate it in the $webstore$?",null,[Gr.CUR_BROWSER_INFO.store_short],{webstore:{content:"$1",example:"web store"}});const e=On("how-is-it-e7n-url-webstore");e.href=Gr.CUR_BROWSER_INFO.store_reviews_url,e.textContent=(0,fn.tr)("Take me to the $webstore$!",null,[Gr.CUR_BROWSER_INFO.store_short],{webstore:{content:"$1",example:"web store"}})}},En={keys:{DISMISSED:"editDismissed",LIKE:"editHitOk",WENTOUT:"editWentOut",TIMESTAMP:"editTimestamp"},category:"tryedit"},vn={keys:{DISMISSED:"namechangeDismissed",LIKE:"namechangeHitOk",WENTOUT:"namechangeWentOut",TIMESTAMP:"namechangeTimestamp"},category:"namechange"},Sn=[bn,En,vn],Tn=[];Sn.forEach((e=>{let t=e.keys;Tn.push({name:t.DISMISSED,type:"bool",default:!1},{name:t.LIKE,type:"bool"},{name:t.WENTOUT,type:"bool"},{name:t.TIMESTAMP,type:"text"})}));const Cn=new wn("howisit",Tn,!0);class _n{show(){this.elt.classList.remove("hide"),window.setTimeout((()=>this.elt.classList.add("show")),0)}hide(){this.elt.classList.remove("show"),window.setTimeout((()=>this.elt.classList.add("hide")),500)}dismiss(e){this.hide();let t={[this.keys.DISMISSED]:!0};void 0!==e&&(t[this.keys.WENTOUT]=e),this._updateHitStore(t)}_hideSteps(){this.steps.map((e=>e.style.display="none"))}_showStep(e,t,r){const n="hit-like"===e;if((n||"hit-dislike"===e)&&this._updateHitStore({[this.keys.LIKE]:n}),t)this.dismiss(r);else{this._hideSteps();this.elt.querySelector(`[data-step="${e}"]`).style.display="block"}}addListeners(){xn(this.elt.getElementsByClassName("for-step")).forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget;"#"===t.getAttribute("href")&&e.preventDefault();const r=t.dataset.next,n=!!t.dataset.nextDismiss,o="true"===t.dataset.nextDismiss;this._showStep(r,n,o),l.default.event(this.category,"hit",r)}),!1)})),["close","dismiss"].forEach((e=>{xn(this.elt.getElementsByClassName(e)).forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget;"#"===t.getAttribute("href")&&e.preventDefault();const r=t.dataset.wentOut,n="true"===r||"false"!==r&&void 0;this.dismiss(n);const o=!0===n?"accept":!1===n?"reject":"close";l.default.event(this.category,"complete",o)}),!1)}))})),Cn.onUpdate((e=>{Cn.state[this.keys.DISMISSED]&&this.hide()})),On("hit-report-link").setAttribute("href",(0,w.reportLink)(window.location.href,"AreYouEnjoyingReport"))}_updateHitStore(e){const t=Rn();e[this.keys.TIMESTAMP]=t,Cn.setObj(e).catch((e=>c.default.error(e)))}constructor(e,r){this.elt=e,t(hn)(e,`bad element sent to Controls: ${e}`),t(hn)(Sn.find((e=>e===r)),`Config not found in whitelist!: ${JSON.stringify(r)}`),this.elt=e,this.keys=r.keys,this.category=r.category,this.steps=xn(e.getElementsByClassName("hit-step")),r.postInit&&r.postInit(),this.addListeners(),this.show(),l.default.event(this.category,"show")}}const Rn=()=>(new Date).getTime().toString();window._reset=()=>Cn.clear();const xn=e=>Array.from(e),On=e=>document.getElementById(e);Tr=s("eC8rE"),Cr=s("nKr4g"),c=s("2z2pA"),zr=s("ijcw6");s("7b0kr");Hr=s("iiDPj");var kn=s("iPbYd"),An=(zr=s("ijcw6"),s("3pr9z")),Nn=(qr=s("7b0kr"),l=s("ceb36"),c=s("2z2pA"),Qr=s("fueUa"),s("kRWUw")),jn=s("jIppf"),In=s("eYuPW");class Pn extends qr.Component{componentDidMount(){l.default.event(this.props.gaCfg.category,"show")}render(){const e={transition:"opacity 500ms ease-in-out",opacity:this.state.closing?0:1};return(0,zr.jsx)(zr.Fragment,{children:(0,zr.jsxs)(jn.default,{style:e,className:"welcomemodal big-modal",dimBg:!0,width:630,children:[(0,zr.jsx)("h2",{className:"br",children:"Same team, new name."}),(0,zr.jsx)(In.AnnounceImg,{}),(0,zr.jsxs)("p",{className:"br15",children:["Full Page Screen Capture is now ",(0,zr.jsx)("strong",{children:"GoFullPage"}),"! Read more"," ",(0,zr.jsx)("a",{href:Qr.BLOG_NAME_CHANGE_URL,target:"_blank",rel:"noopener noreferrer",children:"on the blog"}),"."]}),(0,zr.jsx)("div",{children:(0,zr.jsx)("a",{className:"btn br15",href:"#",onClick:e=>{this.handleLogClick("hit-close",!1,!0,!0),this.handleClose(e)},children:"OK, got it!"})}),(0,zr.jsx)("a",{className:"close close-topright",href:"#",onClick:e=>{this.handleLogClick("hit-close",!1,!0,!0),this.handleClose(e)},children:(0,zr.jsx)(Nn.default,{fill:"#CCC"})})]})})}constructor(e){super(e),(0,kn.default)(this,"handleClose",(e=>{e&&e.preventDefault(),this.state.closing||(this.setState({closing:!0}),window.setTimeout((()=>{this.props.onClose()}),500))})),(0,kn.default)(this,"handleLogClick",((e,t,r,n)=>{let o=void 0!==r&&r,s=void 0!==n&&n;const i={};i[this.props.gaCfg.keys.LIKE]=!o,i[this.props.gaCfg.keys.DISMISSED]=s,i[this.props.gaCfg.keys.TIMESTAMP]=Ln(),this.props.hitStore.setObj(i).catch((e=>c.default.error(e))),l.default[t?"delayedEvent":"event"](this.props.gaCfg.category,"hit",e)})),this.state={closing:!1}}}(0,kn.default)(Pn,"propTypes",{onClose:t(An).func.isRequired,hitStore:t(An).object.isRequired,gaCfg:t(An).shape({keys:t(An).shape({DISMISSED:t(An).string.isRequired,LIKE:t(An).string.isRequired,WENTOUT:t(An).string.isRequired,TIMESTAMP:t(An).string.isRequired}),category:t(An).string.isRequired}).isRequired});const Ln=()=>(new Date).getTime().toString();Cr=s("nKr4g");const Dn=(e,t)=>{const r=document.getElementById("modal-wrapper");Cr.$.empty(r);const n=document.createElement("div");r.appendChild(n),n.style.opacity="0",n.style.display="";(0,Hr.render)((0,zr.jsx)(Pn,{onClose:()=>{n.style.display="none"},hitStore:e,gaCfg:t}),n),window.setTimeout((()=>{n.style.transition="opacity 500ms ease-in-out",n.style.opacity="1",n.style.display=""}),1500)};u=s("6pLLc"),f=s("avfZw"),zr=s("ijcw6");s("7b0kr");Hr=s("iiDPj"),kn=s("iPbYd"),zr=s("ijcw6"),An=s("3pr9z"),qr=s("7b0kr"),Gr=s("8DwkQ"),l=s("ceb36"),c=s("2z2pA"),Nn=s("kRWUw"),jn=s("jIppf"),In=s("eYuPW");class Fn extends qr.Component{componentDidMount(){l.default.event(this.props.gaCfg.category,"show")}render(){const e=this.props.editorUrl,t={transition:"opacity 500ms ease-in-out",opacity:this.state.closing?0:1};return(0,zr.jsx)(zr.Fragment,{children:(0,zr.jsxs)(jn.default,{style:t,className:"welcomemodal big-modal",dimBg:!0,width:630,children:[(0,zr.jsx)("h2",{className:"br",children:"Try annotating, cropping, and doing more with your screenshots!"}),(0,zr.jsx)(In.default,{}),(0,zr.jsx)("p",{className:"br15",children:"Test drive the premium editor and turn your screenshots into masterpieces."}),(0,zr.jsxs)("div",{children:[(0,zr.jsx)("a",{className:"btn br15",href:e,onMouseDown:()=>this.handleLogClick("hit-like",!0),children:"Give it a spin"}),(0,zr.jsx)("p",{className:"dim",children:(0,zr.jsx)("a",{href:Gr.PREMIUM_URL,target:"_blank",rel:"noopener noreferrer",onClick:()=>{this.handleLogClick("hit-learn",!1)},children:"Learn more about premium features"})})]}),(0,zr.jsx)("a",{className:"close close-topright",href:"#",onClick:e=>{this.handleLogClick("hit-close",!1,!0,!0),this.handleClose(e)},children:(0,zr.jsx)(Nn.default,{fill:"#CCC"})})]})})}constructor(e){super(e),(0,kn.default)(this,"handleClose",(e=>{e&&e.preventDefault(),this.state.closing||(this.setState({closing:!0}),window.setTimeout((()=>{this.props.onClose()}),500))})),(0,kn.default)(this,"handleLogClick",((e,t,r,n)=>{let o=void 0!==r&&r,s=void 0!==n&&n;const i={};i[this.props.gaCfg.keys.LIKE]=!o,i[this.props.gaCfg.keys.DISMISSED]=s,i[this.props.gaCfg.keys.TIMESTAMP]=Un(),this.props.hitStore.setObj(i).catch((e=>c.default.error(e))),l.default[t?"delayedEvent":"event"](this.props.gaCfg.category,"hit",e)})),this.state={closing:!1}}}(0,kn.default)(Fn,"propTypes",{onClose:t(An).func.isRequired,editorUrl:t(An).string.isRequired,hitStore:t(An).object.isRequired,gaCfg:t(An).shape({keys:t(An).shape({DISMISSED:t(An).string.isRequired,LIKE:t(An).string.isRequired,WENTOUT:t(An).string.isRequired,TIMESTAMP:t(An).string.isRequired}),category:t(An).string.isRequired}).isRequired});const Un=()=>(new Date).getTime().toString();Cr=s("nKr4g");const $n=(e,t,r)=>{const n=document.getElementById("modal-wrapper");Cr.$.empty(n);const o=document.createElement("div");n.appendChild(o),o.style.opacity="0",o.style.display="";(0,Hr.render)((0,zr.jsx)(Fn,{onClose:()=>{o.style.display="none"},editorUrl:e,hitStore:t,gaCfg:r}),o),window.setTimeout((()=>{o.style.transition="opacity 500ms ease-in-out",o.style.opacity="1",o.style.display=""}),1500)};h=s("1I2HB");let Bn=!1;const Mn=(e,t)=>t[e.keys.DISMISSED]||void 0!==t[e.keys.LIKE],qn=function(){var e=(0,C.default)((function(e){var t,r,n,o,s,i,a;return(0,_.__generator)(this,(function(l){switch(l.label){case 0:return[4,Cn.load()];case 1:return t=l.sent(),[4,f.default.load()];case 2:return r=l.sent(),n=Mn(bn,t),o=Mn(En,t),s=Mn(vn,t),[4,(0,u.sleep)(250)];case 3:return l.sent(),[4,Tr.Capture.count()];case 4:return i=l.sent(),a=r.firstKnownVersion,a&&(0,h.compareVersions)(a,Gr.NAMECHANGE_VERSION)<0&&!s?Dn(Cn,vn):i>=8&&!o?$n(e,Cn,En):i>=5&&!n&&new _n((0,Cr.$)("how-is-it"),bn),[2]}}))}));return function(t){return e.apply(this,arguments)}}();var Hn=s("Bqk7F"),zn=(c=s("2z2pA"),_r=s("1RQvI"),s("5kOv9")),Kn=(u=s("6pLLc"),g=s("h1Khz"),s("8ioZ3")),Gn=s("fYpxg"),Wn=s("dChev");w=s("kOtTY");const Vn="rejected_dl",Yn=(0,a.tr)("File no longer exists—perhaps it has been cleared from your browser")+" 😐",Jn=(0,a.tr)("Your browser does not support the clipboard API, please update to the most recent version."),Xn={record:null,images:null,loaded:!1,rejectedDl:!1},Qn="nav_button",Zn=()=>{(0,Hr.render)((0,qr.createElement)(Xr,{Actions:so,STATE:Xn}),document.getElementById("root"))},eo=()=>{d.default.onUpdated((e=>{if("MIGRATION"===e.source){let t=(0,Cr.$)("error-status");if(t&&(t.innerText=""),e.isDone)window.location=window.location.href;else if(t&&e.title){let r=`\n${e.title}`;void 0!==e.step&&void 0!==e.numSteps&&(r+=` (${e.step} of ${e.numSteps}).`),t.innerText=r}}}));const e=e=>window.setTimeout((()=>e.blur()),10);Cr.$.on((0,Cr.$)("btn-trash"),"click",(function(t){t.preventDefault(),Xn.record&&so.remove(Xn.record,Gr.GA_VIA_NAV),e(this)})),Cr.$.on((0,Cr.$)("btn-download"),"click",(function(t){if(Xn.rejectedDl)return!0;Xn.record&&(t.preventDefault(),so.download(Xn.record,Gr.GA_VIA_NAV)),e(this)})),Cr.$.on((0,Cr.$)("btn-downloadpdf"),"click",(function(t){Xn.record&&(t.preventDefault(),so.downloadPDF(Xn.record,Gr.GA_VIA_NAV)),e(this)})),Cr.$.on(document,"keydown",(function(e){const t=(e=>(0,Wr.getIsMac)()?e.metaKey:e.ctrlKey)(e);if(t)switch(e.keyCode){case 83:if(Xn.record){const t=e.altKey,r=e.shiftKey;let n=(0,Cr.$)("btn-download");"none"!==window.getComputedStyle(n).display&&(e.preventDefault(),t?so.copyToClipboard(Xn.record,Gr.GA_VIA_KEYPRESS,0,Xn.images):so.download(Xn.record,Gr.GA_VIA_KEYPRESS,r))}return;case 67:return void(e.shiftKey||e.altKey||(e.preventDefault(),Xn.record&&so.copyToClipboard(Xn.record,Gr.GA_VIA_KEYPRESS,0,Xn.images)));case 69:return e.preventDefault(),void(Xn.record&&so.goToEditor(Gr.GA_VIA_KEYPRESS));case 189:case 187:case 48:return e.preventDefault(),void(189===e.keyCode?(0,en.default)(window,"ZOOM_OUT"):(0,en.default)(window,"ZOOM_IN"))}})),Promise.all([(0,Sr.containsDownloads)(),Gn.default.load()]).then((e=>{let t=(0,R.default)(e,2),r=t[0],n=t[1];Xn.rejectedDl=!r&&n[Vn],r&&n[Vn]&&Gn.default.set(Vn,!1).catch((e=>c.default.error(e)))})),function(){const e=Rr();xr((0,Cr.$)("btn-settings"),e.options),xr((0,Cr.$)("btn-history"),e.history)}()},to=e=>{g.update({name:"SlowLoadingTimeout",message:`After ${e}ms.`},Xn.record).then((()=>{let e=(0,a.tr)("This is taking longer to load than expected. Hang tight! If nothing updates after a while, please report this via the reporting flag button above.");jr((0,a.tr)("Still loading"),e,!1,!0)}))},ro=(e,t,r)=>{let n,o=!1;return r=r||1e4,t&&(n=window.setTimeout((()=>{o=!0,t(r)}),r)),Promise.all(e.map((e=>(0,u.loadImage)(e)))).then((e=>(window.clearTimeout(n),Xn.loaded=!0,{images:e,didTimeout:o}))).catch((e=>{throw window.clearTimeout(n),e}))},no=e=>{Xn.images=e;let t=!1,r=!1,n=null,o=null,s=null,i=null;const a=(0,Cr.$)("image");Cr.$.empty(a),a.classList.toggle("one-child",1===e.length);const l=window;function c(){let t=e[0].width,r=e[0].height,n=function(e,t,r,n){let o=r/e,s=n/t,i=Math.min(e*o,e*s,e),a=Math.min(t*o,t*s,t);return{width:i,height:a,scaleRatio:i/e,left:Math.floor((r-i)/2,10),top:Math.floor((n-a)/2,10)}}(t,r,window.innerWidth-40,window.innerHeight-document.getElementsByTagName("header")[0].offsetHeight-40);const o=Xn.record.scaleMultiplier;f(n.scaleRatio*o),e.forEach(((e,t)=>{let r=e.img,o=e.width,s=e.height;r.style.height=s*n.scaleRatio+"px",r.style.width=o*n.scaleRatio+"px",0===t&&r.parentNode&&(r.parentNode.style.padding=n.top+20+"px 0")})),u(!1)}function d(){f(1),e.forEach(((e,t)=>{let r=e.img,n=e.width,o=e.height,s=io(n),i=io(o);r.style.width=s+"px",r.style.height=i+"px",0===t&&(r.parentNode.style.padding="")})),u(!0)}function u(e){let t=null===e?"":e?"can-zoom-out":"can-zoom-in";["can-zoom-in","can-zoom-out"].forEach((e=>document.documentElement.classList.toggle(e,e===t)))}function f(e){let t=(0,Cr.$)("img-ctrls"),r=(n=e,(n*=100)>=1?Math.floor(n,10).toString():n>=.005?n.toString().substring(0,4):"0");var n;Cr.$.findClass("zoom-amount",t).forEach((e=>e.innerText=`${r}%`)),Cr.$.findClass("zoom-btn",t).forEach((t=>{t.classList.toggle("disabled",1===e?t.classList.contains("zoom-in"):t.classList.contains("zoom-out"))}))}function h(r){let n=!0===r,o="object"==typeof r,s=o?r.target:e[0].img,i=e.find((e=>e.img===s))||e[0],a=i.width,f=i.height,h=document.getElementsByTagName("header")[0].offsetHeight,p=a>window.innerWidth||f+40>window.innerHeight-h,m=s.width,g=s.height,y=o?Cr.$.offsets(s):null,b=document.documentElement.classList.contains("can-zoom-out");if(!0===n&&(b=!b),p)if(b){if(t)return;c()}else d();else e&&e.length&&(e[0].img.parentNode.style.padding="20px 0 0",u(null));if(o&&!b){const e=Cr.$.offsets(s),t=r.clientX-y.left,n=r.clientY-y.top,o=t/m*io(a),i=n/g*io(f),c=Cr.$.offsets(l),d=l.innerWidth||l.offsetWidth,u=l.innerHeight||l.offsetHeight,h=e.left-c.left+o-d/2,p=e.top-c.top+i-u/2;(0,w.scrollEltTo)(l,h,p)}}e.forEach(((e,t)=>{let r=e.img;r.src=e.src,r.title="Captured screenshot",a.appendChild(r)})),Cr.$.on(window,"ZOOM_IN",d),Cr.$.on(window,"ZOOM_OUT",c),h(!0),e.forEach((e=>{let t=e.img;return Cr.$.on(t,"click",h)})),Cr.$.on(window,"resize",(()=>h(!0)));const p=e=>{t=e,document.documentElement.classList.toggle("spacebar-down",e)},m={keydown:e=>{if(32===e.keyCode&&"image"===e.target.id)return e.preventDefault(),void p(!0)},keyup:e=>{32!==e.keyCode||(r?Cr.$.once(document,"click",(e=>{p(!1)})):p(!1))},mousedown:e=>{t&&(r=!0,n=e.clientX,o=e.clientY,s=l.scrollX||l.scrollLeft||0,i=l.scrollY||l.scrollTop||0)},mouseup:e=>{r=!1},mousemove:e=>{if(r&&t){const t=e.clientX,r=e.clientY,a=n-t,c=o-r;n=t,o=r,s+=a,i+=c,(0,w.scrollEltTo)(l,s,i)}}};Object.entries(m).forEach((e=>{let t=(0,R.default)(e,2),r=t[0],n=t[1];Cr.$.on(document,r,n)}));const g=(0,Cr.$)("img-ctrls"),y=Cr.$.findClass("zoom-btn",g);y.push(Cr.$.findClass("zoom-amount",g)[0]),y.forEach((e=>{Cr.$.on(e,"click",(function(e){e.preventDefault(),this.classList.contains("disabled")||h(!1)}))}));const b=e[0].src,E=(0,Cr.$)("btn-download");E.href=b,E.download=b.split("/").pop(),function(e){let t=void 0===e?"img-btn":e;if(!Xn.loaded)return void oo();Cr.$.findClass(t).forEach((function(e){e.classList.add("show")}))}()};function oo(){Cr.$.findClass("img-btn").forEach((function(e){e.classList.remove("show")}))}const so=function(){const e={downloadPDF:(t,r,n)=>{let o=void 0!==n&&n;l.default.event(Qn,"download_pdf",r),e._if(t).then((()=>(0,Sr.requestDownloads)())).then(function(){var e=(0,C.default)((function(e){var r,n,s,i,l,d,u,f,h,p,m,g,y,v,S,T,C,x,O,k,A,N,j,I,P,L,D,F;return(0,_.__generator)(this,(function(_){switch(_.label){case 0:return e?(r=(0,Hn.getImageFormat)("jpg"),[4,Promise.all([Kn.default.load(),Wn.default.loginStateProm()])]):[3,6];case 1:return n=R.default.apply(void 0,[_.sent(),2]),s=n[0],i=n[1],l=[],d=null,u=0,s.pdf_url_and_date?(f=Xn.record.scaleMultiplier,h=Xn.images[0].width/f,0,p={x:0,y:0,width:h,height:0},m=(0,Qr.formatDate)(Xn.record.dateTime,s.pdf_date_fmt),g=(0,Zr.createBrowserTemplate)(Zr.TEMPLATE_DATA_BAR.key,Xn.record.url,h,0,f,Xn.record.title,Xn.record.dateTime,m),y=(0,tn.computeBaseOffsets)(h,0,f,p,g,100,[],null,0),v=document.createElement("canvas"),S=v.getContext("2d"),T=S.webkitBackingStorePixelRatio||S.backingStorePixelRatio||1,C=f/T,v.width=y.outerWidth*C,v.height=y.outerHeight*C,u=y.outerHeight,S.scale(C,C),[4,g.draw(S,Xn.record.url)]):[3,3];case 2:_.sent(),g.textCoords&&l.push((0,E.default)((0,b.default)({},g.textCoords),{url:Xn.record.url})),d=v,_.label=3;case 3:return s.pdf_insert_links&&i&&i.store.show_experimental&&Xn.record.metadata.links&&(x=Xn.record.metadata.links,Array.isArray(x)&&(0,nn.flattenBounds)(x).forEach((e=>{l.push(u?(0,E.default)((0,b.default)({},e),{y:e.y+u}):e)}))),[4,(0,zn.toPDF)(Xn.images,r,Xn.record.scaleMultiplier||window.devicePixelRatio||1,s.pdf_format,s.pdf_smart_page&&i&&"sub-ok"===i.subState,l,Jr.triggerNotifyText.creatingPDF,d)];case 4:return O=_.sent(),k=(0,rn.blobToUrl)(O),[4,(0,w.fullServiceDownload)([{url:k,filename:t.pdfFilename}],!1,o)];case 5:if(A=_.sent(),N=A.hasPerms,j=A.results,I=A.failCount,(0,rn.revokeObjectUrl)(k),!N)throw(P=new Error("No downloads perm despite just getting it!")).name="UnreachableError",P;if(I)throw j.find((e=>!1===e.success)).error;return Jr.triggerNotifyText.createdPDF(),[3,10];case 6:return _.trys.push([6,8,,9]),[4,Gn.default.set(Vn,!0)];case 7:return _.sent(),[3,9];case 8:return L=_.sent(),c.default.error(L),[3,9];case 9:return Xn.rejectedDl=!0,D=(0,a.tr)("Download permission is required"),F=(0,a.tr)("The download permission is required to enable the download as PDF feature."),jr(D,F,!0,!0),[2];case 10:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()).catch((e=>{Jr.triggerNotifyText.clear(),g.update(e,Xn.record).then((()=>{if(c.default.error("Download error",e),un[e.name])ao(e);else{let e=(0,a.tr)("Error downloading file"),t=_r.ERR_MSG_IF_PERSISTS;jr(e,t,!0,!0)}}))}))},download:(t,r,n)=>{l.default.event(Qn,n?"download_img_as":"download_img",r||void 0),e._if(t).then((()=>(0,Sr.requestDownloads)())).then((e=>{if(e){let e=t.fullPaths;return(0,w.fullServiceDownload)(e,!1,n).then((e=>{let t=e.hasPerms,r=e.results,n=e.failCount;if(!t){let e=new Error("No downloads perm despite just getting it!");throw e.name="UnreachableError",e}if(n)throw r.find((e=>!1===e.success)).error}))}{Gn.default.set(Vn,!0).catch((e=>c.default.error(e))),Xn.rejectedDl=!0;let e=(0,a.tr)("Download permission not granted"),t=(0,a.tr)("This permission allows greater control over how downloads work within the extension. Your preference has been saved, and this download button will now fall back to default browser on-click downloads. However, you will still be prompted for it in order to use any of the advanced features on the Files or Edit pages, since they need this permissions to work.");return void jr(e,t,!1,!0)}})).catch((e=>{g.update(e,Xn.record).then((()=>{if(c.default.error("Download error",e),un[e.name])ao(e);else{let e=(0,a.tr)("Error downloading file"),t=_r.ERR_MSG_IF_PERSISTS;jr(e,t,!0,!0)}}))}))},goToUrl:(e,t)=>{l.default.event(Qn,"goto_url",t||void 0);const r=e.url;window.open(r,"_blank","noopener")},copyUrl:(e,t)=>{l.default.event(Qn,"copy_url",t||void 0);const r=e.url;if(!(0,Kr.canCopyTextToClipboard)()){const e=Jn;return(0,Jr.triggerNotifyText)(e,4e3),void c.default.error("Copy not supported",e)}(0,Kr.copyTextToClipboard)(r).then((()=>{(0,Jr.triggerNotifyText)(`✅ ${(0,a.tr)("URL copied to clipboard")}`,3e3)})).catch((e=>{c.default.error("Error coping URL"),c.default.error(e),Jr.triggerNotifyText.clear(),g.update(e,Xn.record).then((()=>{let e=_r.ERR_MSG_IF_PERSISTS;jr((0,a.tr)("Error copying URL"),e,!0,!0)}))}))},copyToClipboard:(e,t,r,n)=>{let o=void 0===r?0:r,s=void 0===n?null:n;l.default.event(Qn,"copy_img",t);const i=e.fullPaths[o],a=s&&s[o]||void 0;if(!(0,Kr.canCopyBlobToClipboard)()){const e=Jn;return(0,Jr.triggerNotifyText)(e,4e3),void c.default.error("Copy not supported",e)}Jr.triggerNotifyText.copyingImage(),Promise.resolve().then((0,C.default)((function(){var e,t,r;return(0,_.__generator)(this,(function(n){switch(n.label){case 0:return[4,Kn.default.load()];case 1:return e=n.sent(),t=e.fit_copies?Kr.GOOGLE_DOCS_MAX_PIXELS:void 0,a?[4,(0,Kr.copyImgEltToClipboard)(a.img,a.width,a.height,t)]:[3,3];case 2:return r=n.sent(),[3,5];case 3:return[4,(0,Kr.copyImgToClipboard)(i,t)];case 4:r=n.sent(),n.label=5;case 5:return(0,c.default)("Copied image"+(r?" (RESIZED)":"")),Jr.triggerNotifyText.copiedImage(r),[2]}}))}))).catch((e=>{c.default.error("Error coping image"),c.default.error(e),Jr.triggerNotifyText.clear(),g.update(e,Xn.record).then((()=>{jr(_r.ERR_TITLE_COPY,_r.ERR_MSG_COPY+"\n\n"+_r.ERR_MSG_IF_PERSISTS,!1,!0)}))}))},openInTabs:(t,r)=>{l.default.event(Qn,"expand",r||void 0),e._if(t).then((()=>ln())).then((e=>cn(e,t.fullPaths))).catch((e=>{(0,c.default)("Error opening file in tabs",e),g.update(e,Xn.record).then((()=>{let e=(0,a.tr)("Something went wrong opening this screenshot into a new.")+" "+_r.ERR_MSG_IF_PERSISTS;jr((0,a.tr)("Error opening screenshot"),e,!0,!0)}))}))},remove:(t,r)=>{l.default.event(Qn,"remove",r||void 0);let n=(0,a.tr)("Are you sure you want to delete this screenshot?\n(This action cannot be undone.)");confirm(n)&&e._if(t).then((()=>t.remove())).then((()=>function(){oo();let e=(0,Cr.$)("image");Cr.$.empty(e),jr((0,a.tr)("Image deleted"),(0,a.tr)("This screenshot been successfully removed."))}())).catch((e=>{(0,c.default)("Error removing file",e),g.update(e,Xn.record).then((()=>{let e=(0,a.tr)("Something went wrong deleting your screenshot.")+" "+_r.ERR_MSG_IF_PERSISTS;jr((0,a.tr)("Error removing screenshot"),e,!0,!0)}))}))},goToEditor:(e,t)=>{let r=void 0===t?0:t;l.default.event(Qn,"goto_editor",e||void 0),Xn.record&&(window.location=Xn.record.getEditorURL(r))},_if:e=>Promise.resolve().then((()=>{if(!e){let e=new Error("No record on STATE obj");throw e.name="PageStateError",e}return e}))};return e}();function io(e){const t=Xn.record?Xn.record.scaleMultiplier:window.devicePixelRatio||1;return 1!==t?e/t:e}function ao(e){let t=un[e.name];if(jr(t.title,t.body,!1,!0,!0),t.buttons){let e=document.createElement("div");e.className=jr.extrasClassName,t.buttons().forEach((t=>{e.appendChild(t)})),(0,Cr.$)("error-body").appendChild(e)}}l.default.pageview(),(e=>{let t=void 0!==e&&e;if(null===y){const e=document.createElement("a");e.style.cssText="position: sticky;",y=-1!==e.style.position.indexOf("sticky")}y&&t&&document.documentElement.classList.add("csspositionsticky")})(!0),Array.prototype.slice.call(document.querySelectorAll("a[data-href]")).forEach((e=>{e.href=e.dataset.href})),(0,a.updateHtml)(),g.update();let lo=(0,w.getQueryString)();const co=e=>{c.default.error("Migration error",e),g.update(e).then((()=>{jr("Data Error","The page encountered an error. Please report this via the the flag reporting button above.",!0,!1)}))};var uo,fo;lo.src?(fo=lo.src,Tr.Capture.findSrc(fo).then((e=>{window.location=e?e.displayURL:"?"})).catch((e=>{c.default.error("lookup Image src error",e),g.update(e).then((()=>{jr((0,a.tr)("Unable to find image"),(0,a.tr)("The specified image could not be found.")+" "+_r.ERR_MSG_IF_PERSISTS)}))}))):lo.id?(uo=lo.id,document.documentElement.classList.add("page-image"),eo(),Zn(),Tr.Capture.lookup(uo).then((e=>{if(!e)return c.default.error("lookup, no record found",uo),jr((0,a.tr)("Unable to load image"),Yn);Xn.record=e,g.update(void 0,Xn.record),e.format&&((0,Cr.$)("btn-download").getElementsByClassName("image-type")[0].innerText=`(${e.format.toUpperCase()})`),Cr.$.findClass("editor-link").forEach((t=>{t.href=e.getEditorURL()}));const t=(0,Cr.$)("btn-editor-wrap");if(t&&e.images&&e.images.length>0){const r="hov-dropdown";let n=Cr.$.findClass("hov-dropdown",t)[0];if(n&&n.parentNode.removeChild(n),Cr.$.findClass("tooltip",t).forEach((e=>{e.classList.remove("hide")})),e.images.length>1){Cr.$.findClass("tooltip",t).forEach((e=>{e.classList.add("hide")})),n=document.createElement("div"),n.className=r;const o=document.createElement("ul");n.appendChild(o);const s=document.createElement("li"),i=document.createElement("span");i.className="hov-dropdown--title",i.textContent=`${(0,a.tr)("Premium feature")}:`,s.appendChild(i),o.appendChild(s),e.images.forEach(((r,n)=>{const s=document.createElement("li"),i=document.createElement("a");if(i.href=e.getEditorURL(n),i.addEventListener("mousedown",(()=>{l.default.event(Qn,"goto_editor","multi-dropdown")}),!1),i.textContent=`${(0,a.tr)("Edit Image")} ${n+1}`,0===n){const e=document.createElement("span");e.className="hov-dropdown--shortcut",e.textContent=Vr({cmd:!0,char:"E"}),i.prepend(e)}s.appendChild(i),o.appendChild(s);let c=null;t.addEventListener("mouseenter",(()=>{window.clearTimeout(c),t.classList.add("hover")}),!1),t.addEventListener("mouseleave",(()=>{c=window.setTimeout((()=>{t.classList.remove("hover")}),500)}),!1)})),t.appendChild(n)}}var r;return r=e.getEditorURL(),Bn||(Bn=!0,qn(r).catch((e=>{c.default.error("CAUGHT ERROR in hit.load chain"),c.default.error(e)}))),Pr().then((()=>ro(e.fullPaths,to))).then((e=>{let t=e.images;return e.didTimeout&&Ir(),no(t)})).then((()=>Lr())).catch((e=>{Lr().catch((e=>c.default.error(e))),c.default.error("loadImages error",e),g.update(e,Xn.record).then((()=>{jr((0,a.tr)("Unable to load image"),Yn)}))}))})).catch((e=>{c.default.error("Failed lookup",uo,e),g.update(e,Xn.record).then((()=>{jr((0,a.tr)("Error loading image"),_r.ERR_MSG_IF_PERSISTS,!0,!1)}))}))).then(p).catch(co):(document.documentElement.classList.add("page-history"),d.default.onUpdated((e=>{"MIGRATION"===e.source&&e.isDone&&Dr()})),function(){const e=Rr(),t=e.editor||e.capture;t&&Cr.$.findClass("back-button").forEach((e=>{xr(e,t,!0)})),xr((0,Cr.$)("btn-settings"),e.options),xr((0,Cr.$)("btn-history"),e.history)}(),Pr().then(Dr).then(Lr)).then(p).catch(co)})();
//# sourceMappingURL=capture.b0e74a37.js.map
