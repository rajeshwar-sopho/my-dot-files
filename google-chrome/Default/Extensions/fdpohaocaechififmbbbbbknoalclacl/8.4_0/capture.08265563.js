function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},s=n.parcelRequire60cc;null==s&&((s=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},n.parcelRequire60cc=s),s.register("5IuNT",(function(t,n){var r,o;e(t.exports,"register",(()=>r),(e=>r=e)),e(t.exports,"resolve",(()=>o),(e=>o=e));var s={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)s[t[n]]=e[t[n]]},o=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s.register("9yYZW",(function(t,n){var r;e(t.exports,"getBundleURL",(()=>r),(e=>r=e));var o={};function s(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return s(e[2])}return"/"}(),o[e]=t),t}})),s.register("cW7yT",(function(e,t){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var s=typeof o;if("string"===s||"number"===s)e.push(o);else if(Array.isArray(o)&&o.length){var i=n.apply(null,o);i&&e.push(i)}else if("object"===s)for(var a in o)t.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],(function(){return n})):window.classNames=n}()})),s("5IuNT").register(JSON.parse('{"1iJqy":"capture.08265563.js","3sgVN":"icon-btn-delete.f78c5ab3.svg","eZbkr":"icon-btn-download.6a1b3bd6.svg","6iPKz":"capture.96899a58.css","aWhca":"capture.839f08c2.css","j9kPt":"welcome.8c9113c5.js","6znyh":"popup.f4c9636b.js","amXXj":"editor.2c6e8dec.js","62xyD":"welcome.9c3622cd.js"}'));var a=s("iMjBX");var l=s("cEw93"),c=s("2xkva"),d=s("mG6c6"),u=(c=s("2xkva"),s("alm1K")),h=s("8aJKE"),f=s("3ESIc");var p=()=>{let e=[m],t=0;return(0,u.serialMap)(e,(e=>e().then((e=>{if("number"!=typeof e){let t=`Migration ${i-1} returned non-number: ${e}`,n=new Error(t);throw n.name="InvalidMigration",n}return t+=e,e})))).then((()=>{t&&(c.default.info("Updated",t),d.default.triggerUpdated({source:"MIGRATION",isDone:!0}))}))};const m=()=>h.default.load().then((e=>{const t="firstKnownVersion";return e[t]?0:h.default.set(t,(0,f.getVersion)()).then((()=>1))}));var g=s("aiU1O");let y=null;var w=s("03QYZ"),E=s("aQWOf"),b={};b=s("9yYZW").getBundleURL("1iJqy")+s("5IuNT").resolve("3sgVN");var v={};function S(e,t){return function(){return e.apply(t,arguments)}}v=s("9yYZW").getBundleURL("1iJqy")+s("5IuNT").resolve("eZbkr");var T=s("kIky1");const{toString:C}=Object.prototype,{getPrototypeOf:R}=Object,O=(x=Object.create(null),e=>{const t=C.call(e);return x[t]||(x[t]=t.slice(8,-1).toLowerCase())});var x;const _=e=>(e=e.toLowerCase(),t=>O(t)===e),k=e=>t=>typeof t===e,{isArray:A}=Array,N=k("undefined");const j=_("ArrayBuffer");const I=k("string"),L=k("function"),P=k("number"),D=e=>null!==e&&"object"==typeof e,U=e=>{if("object"!==O(e))return!1;const t=R(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},F=_("Date"),$=_("File"),B=_("Blob"),M=_("FileList"),q=_("URLSearchParams"),[H,z,G,W]=["ReadableStream","Request","Response","Headers"].map(_);function K(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),A(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let i;for(r=0;r<s;r++)i=o[r],t.call(null,e[i],i,e)}}function X(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n,Y=e=>!N(e)&&e!==V;const J=(Z="undefined"!=typeof Uint8Array&&R(Uint8Array),e=>Z&&e instanceof Z);var Z;const Q=_("HTMLFormElement"),ee=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),te=_("RegExp"),ne=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};K(n,((n,o)=>{let s;!1!==(s=t(n,o,e))&&(r[o]=s||n)})),Object.defineProperties(e,r)},re="abcdefghijklmnopqrstuvwxyz",oe="0123456789",se={DIGIT:oe,ALPHA:re,ALPHA_DIGIT:re+re.toUpperCase()+oe};const ie=_("AsyncFunction"),ae=(le="function"==typeof setImmediate,ce=L(V.postMessage),le?setImmediate:ce?(de=`axios@${Math.random()}`,ue=[],V.addEventListener("message",(({source:e,data:t})=>{e===V&&t===de&&ue.length&&ue.shift()()}),!1),e=>{ue.push(e),V.postMessage(de,"*")}):e=>setTimeout(e));var le,ce,de,ue;const he="undefined"!=typeof queueMicrotask?queueMicrotask.bind(V):void 0!==T&&T.nextTick||ae;var fe={isArray:A,isArrayBuffer:j,isBuffer:function(e){return null!==e&&!N(e)&&null!==e.constructor&&!N(e.constructor)&&L(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||L(e.append)&&("formdata"===(t=O(e))||"object"===t&&L(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&j(e.buffer),t},isString:I,isNumber:P,isBoolean:e=>!0===e||!1===e,isObject:D,isPlainObject:U,isReadableStream:H,isRequest:z,isResponse:G,isHeaders:W,isUndefined:N,isDate:F,isFile:$,isBlob:B,isRegExp:te,isFunction:L,isStream:e=>D(e)&&L(e.pipe),isURLSearchParams:q,isTypedArray:J,isFileList:M,forEach:K,merge:function e(){const{caseless:t}=Y(this)&&this||{},n={},r=(r,o)=>{const s=t&&X(n,o)||o;U(n[s])&&U(r)?n[s]=e(n[s],r):U(r)?n[s]=e({},r):A(r)?n[s]=r.slice():n[s]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&K(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(K(t,((t,r)=>{n&&L(t)?e[r]=S(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,s,i;const a={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),s=o.length;s-- >0;)i=o[s],r&&!r(i,e,t)||a[i]||(t[i]=e[i],a[i]=!0);e=!1!==n&&R(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:O,kindOfTest:_,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(A(e))return e;let t=e.length;if(!P(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Q,hasOwnProperty:ee,hasOwnProp:ee,reduceDescriptors:ne,freezeMethods:e=>{ne(e,((t,n)=>{if(L(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];L(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return A(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:X,global:V,isContextDefined:Y,ALPHABET:se,generateString:(e=16,t=se.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&L(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(D(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=A(e)?[]:{};return K(e,((e,t)=>{const s=n(e,r+1);!N(s)&&(o[t]=s)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:ie,isThenable:e=>e&&(D(e)||L(e))&&L(e.then)&&L(e.catch),setImmediate:ae,asap:he};function pe(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}fe.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const me=pe.prototype,ge={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ge[e]={value:e}})),Object.defineProperties(pe,ge),Object.defineProperty(me,"isAxiosError",{value:!0}),pe.from=(e,t,n,r,o,s)=>{const i=Object.create(me);return fe.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),pe.call(i,e.message,t,n,r,o),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};var ye=pe,we=null,Ee=s("69fUi").Buffer;function be(e){return fe.isPlainObject(e)||fe.isArray(e)}function ve(e){return fe.endsWith(e,"[]")?e.slice(0,-2):e}function Se(e,t,n){return e?e.concat(t).map((function(e,t){return e=ve(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Te=fe.toFlatObject(fe,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Ce=function(e,t,n){if(!fe.isObject(e))throw new TypeError("target must be an object");t=t||new(we||FormData);const r=(n=fe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!fe.isUndefined(t[e])}))).metaTokens,o=n.visitor||c,s=n.dots,i=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&fe.isSpecCompliantForm(t);if(!fe.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(fe.isDate(e))return e.toISOString();if(!a&&fe.isBlob(e))throw new ye("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(e)||fe.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Ee.from(e):e}function c(e,n,o){let a=e;if(e&&!o&&"object"==typeof e)if(fe.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(fe.isArray(e)&&function(e){return fe.isArray(e)&&!e.some(be)}(e)||(fe.isFileList(e)||fe.endsWith(n,"[]"))&&(a=fe.toArray(e)))return n=ve(n),a.forEach((function(e,r){!fe.isUndefined(e)&&null!==e&&t.append(!0===i?Se([n],r,s):null===i?n:n+"[]",l(e))})),!1;return!!be(e)||(t.append(Se(o,n,s),l(e)),!1)}const d=[],u=Object.assign(Te,{defaultVisitor:c,convertValue:l,isVisitable:be});if(!fe.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!fe.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),fe.forEach(n,(function(n,s){!0===(!(fe.isUndefined(n)||null===n)&&o.call(t,n,fe.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])})),d.pop()}}(e),t};function Re(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Oe(e,t){this._pairs=[],e&&Ce(e,this,t)}const xe=Oe.prototype;xe.append=function(e,t){this._pairs.push([e,t])},xe.toString=function(e){const t=e?function(t){return e.call(this,t,Re)}:Re;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var _e=Oe;function ke(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ae(e,t,n){if(!t)return e;const r=n&&n.encode||ke;fe.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let s;if(s=o?o(t,n):fe.isURLSearchParams(t)?t.toString():new _e(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}var Ne=class{use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){fe.forEach(this.handlers,(function(t){null!==t&&e(t)}))}constructor(){this.handlers=[]}},je={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ie={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:_e,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Le={};e(Le,"hasBrowserEnv",(()=>Pe)),e(Le,"navigator",(()=>De)),e(Le,"hasStandardBrowserEnv",(()=>Ue)),e(Le,"hasStandardBrowserWebWorkerEnv",(()=>Fe)),e(Le,"origin",(()=>$e));const Pe="undefined"!=typeof window&&"undefined"!=typeof document,De="object"==typeof navigator&&navigator||void 0,Ue=Pe&&(!De||["ReactNative","NativeScript","NS"].indexOf(De.product)<0),Fe="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,$e=Pe&&window.location.href||"http://localhost";var Be={...Le,...Ie};function Me(e,t){return Ce(e,new Be.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Be.isNode&&fe.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}var qe=function(e){function t(e,n,r,o){let s=e[o++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),a=o>=e.length;if(s=!s&&fe.isArray(r)?r.length:s,a)return fe.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!i;r[s]&&fe.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],o)&&fe.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let s;for(r=0;r<o;r++)s=n[r],t[s]=e[s];return t}(r[s])),!i}if(fe.isFormData(e)&&fe.isFunction(e.entries)){const n={};return fe.forEachEntry(e,((e,r)=>{t(function(e){return fe.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const He={transitional:je,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=fe.isObject(e);o&&fe.isHTMLForm(e)&&(e=new FormData(e));if(fe.isFormData(e))return r?JSON.stringify(qe(e)):e;if(fe.isArrayBuffer(e)||fe.isBuffer(e)||fe.isStream(e)||fe.isFile(e)||fe.isBlob(e)||fe.isReadableStream(e))return e;if(fe.isArrayBufferView(e))return e.buffer;if(fe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Me(e,this.formSerializer).toString();if((s=fe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ce(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(fe.isString(e))try{return(t||JSON.parse)(e),fe.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||He.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(fe.isResponse(e)||fe.isReadableStream(e))return e;if(e&&fe.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw ye.from(e,ye.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Be.classes.FormData,Blob:Be.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],(e=>{He.headers[e]={}}));var ze=He;const Ge=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var We=e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&Ge[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t};const Ke=Symbol("internals");function Xe(e){return e&&String(e).trim().toLowerCase()}function Ve(e){return!1===e||null==e?e:fe.isArray(e)?e.map(Ve):String(e)}function Ye(e,t,n,r,o){return fe.isFunction(r)?r.call(this,t,n):(o&&(t=n),fe.isString(t)?fe.isString(r)?-1!==t.indexOf(r):fe.isRegExp(r)?r.test(t):void 0:void 0)}class Je{set(e,t,n){const r=this;function o(e,t,n){const o=Xe(t);if(!o)throw new Error("header name must be a non-empty string");const s=fe.findKey(r,o);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Ve(e))}const s=(e,t)=>fe.forEach(e,((e,n)=>o(e,n,t)));if(fe.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(fe.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s(We(e),t);else if(fe.isHeaders(e))for(const[t,r]of e.entries())o(r,t,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=Xe(e)){const n=fe.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(fe.isFunction(t))return t.call(this,e,n);if(fe.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Xe(e)){const n=fe.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ye(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=Xe(e)){const o=fe.findKey(n,e);!o||t&&!Ye(0,n[o],o,t)||(delete n[o],r=!0)}}return fe.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!Ye(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return fe.forEach(this,((r,o)=>{const s=fe.findKey(n,o);if(s)return t[s]=Ve(r),void delete t[o];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();i!==o&&delete t[o],t[i]=Ve(r),n[i]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return fe.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&fe.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[Ke]=this[Ke]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Xe(e);t[r]||(!function(e,t){const n=fe.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return fe.isArray(e)?e.forEach(r):r(e),this}constructor(e){e&&this.set(e)}}Je.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),fe.reduceDescriptors(Je.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),fe.freezeMethods(Je);var Ze=Je;function Qe(e,t){const n=this||ze,r=t||n,o=Ze.from(r.headers);let s=r.data;return fe.forEach(e,(function(e){s=e.call(n,s,o.normalize(),t?t.status:void 0)})),o.normalize(),s}function et(e){return!(!e||!e.__CANCEL__)}function tt(e,t,n){ye.call(this,null==e?"canceled":e,ye.ERR_CANCELED,t,n),this.name="CanceledError"}fe.inherits(tt,ye,{__CANCEL__:!0});var nt=tt;function rt(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new ye("Request failed with status code "+n.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}function ot(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}var st=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,s=0,i=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[i];o||(o=l),n[s]=a,r[s]=l;let d=i,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-o<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};var it=function(e,t){let n,r,o=0,s=1e3/t;const i=(t,s=Date.now())=>{o=s,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-o;a>=s?i(e,t):(n=e,r||(r=setTimeout((()=>{r=null,i(n)}),s-a)))},()=>n&&i(n)]};const at=(e,t,n=3)=>{let r=0;const o=st(50,250);return it((n=>{const s=n.loaded,i=n.lengthComputable?n.total:void 0,a=s-r,l=o(a);r=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:a,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},lt=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ct=e=>(...t)=>fe.asap((()=>e(...t)));var dt,ut,ht=Be.hasStandardBrowserEnv?(dt=new URL(Be.origin),ut=Be.navigator&&/(msie|trident)/i.test(Be.navigator.userAgent),e=>(e=new URL(e,Be.origin),dt.protocol===e.protocol&&dt.host===e.host&&(ut||dt.port===e.port))):()=>!0,ft=Be.hasStandardBrowserEnv?{write(e,t,n,r,o,s){const i=[e+"="+encodeURIComponent(t)];fe.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),fe.isString(r)&&i.push("path="+r),fe.isString(o)&&i.push("domain="+o),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function pt(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function mt(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?pt(e,t):t}const gt=e=>e instanceof Ze?{...e}:e;function yt(e,t){t=t||{};const n={};function r(e,t,n,r){return fe.isPlainObject(e)&&fe.isPlainObject(t)?fe.merge.call({caseless:r},e,t):fe.isPlainObject(t)?fe.merge({},t):fe.isArray(t)?t.slice():t}function o(e,t,n,o){return fe.isUndefined(t)?fe.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function s(e,t){if(!fe.isUndefined(t))return r(void 0,t)}function i(e,t){return fe.isUndefined(t)?fe.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,o,s){return s in t?r(n,o):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(e,t,n)=>o(gt(e),gt(t),0,!0)};return fe.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||o,i=s(e[r],t[r],r);fe.isUndefined(i)&&s!==a||(n[r]=i)})),n}var wt=e=>{const t=yt({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=t;if(t.headers=a=Ze.from(a),t.url=Ae(mt(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),fe.isFormData(r))if(Be.hasStandardBrowserEnv||Be.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(Be.hasStandardBrowserEnv&&(o&&fe.isFunction(o)&&(o=o(t)),o||!1!==o&&ht(t.url))){const e=s&&i&&ft.read(i);e&&a.set(s,e)}return t};var Et="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=wt(e);let o=r.data;const s=Ze.from(r.headers).normalize();let i,a,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Ze.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());rt((function(e){t(e),p()}),(function(e){n(e),p()}),{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new ye("Request aborted",ye.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new ye("Network Error",ye.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||je;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new ye(t,o.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,e,m)),m=null},void 0===o&&s.setContentType(null),"setRequestHeader"in m&&fe.forEach(s.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),fe.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),u&&"json"!==u&&(m.responseType=r.responseType),f&&([l,d]=at(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([a,c]=at(h),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{m&&(n(!t||t.type?new nt(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const y=ot(r.url);y&&-1===Be.protocols.indexOf(y)?n(new ye("Unsupported protocol "+y+":",ye.ERR_BAD_REQUEST,e)):m.send(o||null)}))};var bt=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof ye?t:new nt(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,o(new ye(`timeout ${t} of ms exceeded`,ye.ETIMEDOUT))}),t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:a}=r;return a.unsubscribe=()=>fe.asap(i),a}};const vt=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},St=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Tt=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of St(e))yield*vt(n,t)}(e,t);let s,i=0,a=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return a(),void e.close();let s=r.byteLength;if(n){let e=i+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw a(e),e}},cancel:e=>(a(e),o.return())},{highWaterMark:2})},Ct="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Rt=Ct&&"function"==typeof ReadableStream,Ot=Ct&&("function"==typeof TextEncoder?(xt=new TextEncoder,e=>xt.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var xt;const _t=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},kt=Rt&&_t((()=>{let e=!1;const t=new Request(Be.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),At=Rt&&_t((()=>fe.isReadableStream(new Response("").body))),Nt={stream:At&&(e=>e.body)};var jt;Ct&&(jt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Nt[e]&&(Nt[e]=fe.isFunction(jt[e])?t=>t[e]():(t,n)=>{throw new ye(`Response type '${e}' is not supported`,ye.ERR_NOT_SUPPORT,n)})})));const It=async(e,t)=>{const n=fe.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(fe.isBlob(e))return e.size;if(fe.isSpecCompliantForm(e)){const t=new Request(Be.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return fe.isArrayBufferView(e)||fe.isArrayBuffer(e)?e.byteLength:(fe.isURLSearchParams(e)&&(e+=""),fe.isString(e)?(await Ot(e)).byteLength:void 0)})(t):n};const Lt={http:we,xhr:Et,fetch:Ct&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:s,timeout:i,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=wt(e);c=c?(c+"").toLowerCase():"text";let f,p=bt([o,s&&s.toAbortSignal()],i);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&kt&&"get"!==n&&"head"!==n&&0!==(g=await It(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(fe.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=lt(g,at(ct(l)));r=Tt(n.body,65536,e,t)}}fe.isString(u)||(u=u?"include":"omit");const o="credentials"in Request.prototype;f=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:o?u:void 0});let s=await fetch(f);const i=At&&("stream"===c||"response"===c);if(At&&(a||i&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=fe.toFiniteNumber(s.headers.get("content-length")),[n,r]=a&&lt(t,at(ct(a),!0))||[];s=new Response(Tt(s.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let y=await Nt[fe.findKey(Nt,c)||"text"](s,e);return!i&&m&&m(),await new Promise(((t,n)=>{rt(t,n,{data:y,headers:Ze.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:f})}))}catch(t){if(m&&m(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new ye("Network Error",ye.ERR_NETWORK,e,f),{cause:t.cause||t});throw ye.from(t,t&&t.code,e,f)}})};fe.forEach(Lt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const Pt=e=>`- ${e}`,Dt=e=>fe.isFunction(e)||null===e||!1===e;var Ut={getAdapter:e=>{e=fe.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!Dt(n)&&(r=Lt[(t=String(n)).toLowerCase()],void 0===r))throw new ye(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+s]=r}if(!r){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(Pt).join("\n"):" "+Pt(e[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r},adapters:Lt};function Ft(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new nt(null,e)}function $t(e){Ft(e),e.headers=Ze.from(e.headers),e.data=Qe.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ut.getAdapter(e.adapter||ze.adapter)(e).then((function(t){return Ft(e),t.data=Qe.call(e,e.transformResponse,t),t.headers=Ze.from(t.headers),t}),(function(t){return et(t)||(Ft(e),t&&t.response&&(t.response.data=Qe.call(e,e.transformResponse,t.response),t.response.headers=Ze.from(t.response.headers))),Promise.reject(t)}))}const Bt="1.7.9",Mt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Mt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const qt={};Mt.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,s)=>{if(!1===e)throw new ye(r(o," has been removed"+(t?" in "+t:"")),ye.ERR_DEPRECATED);return t&&!qt[o]&&(qt[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,s)}},Mt.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};var Ht={assertOptions:function(e,t,n){if("object"!=typeof e)throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const s=r[o],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new ye("option "+s+" must be "+n,ye.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new ye("Unknown option "+s,ye.ERR_BAD_OPTION)}},validators:Mt};const zt=Ht.validators;class Gt{async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=yt(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&Ht.assertOptions(n,{silentJSONParsing:zt.transitional(zt.boolean),forcedJSONParsing:zt.transitional(zt.boolean),clarifyTimeoutError:zt.transitional(zt.boolean)},!1),null!=r&&(fe.isFunction(r)?t.paramsSerializer={serialize:r}:Ht.assertOptions(r,{encode:zt.function,serialize:zt.function},!0)),Ht.assertOptions(t,{baseUrl:zt.spelling("baseURL"),withXsrfToken:zt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=o&&fe.merge(o.common,o[t.method]);o&&fe.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=Ze.concat(s,o);const i=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!a){const e=[$t.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let h=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{h=e(h)}catch(e){t.call(this,e);break}}try{c=$t.call(this,h)}catch(e){return Promise.reject(e)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Ae(mt((e=yt(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}constructor(e){this.defaults=e,this.interceptors={request:new Ne,response:new Ne}}}fe.forEach(["delete","get","head","options"],(function(e){Gt.prototype[e]=function(t,n){return this.request(yt(n||{},{method:e,url:t,data:(n||{}).data}))}})),fe.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(yt(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Gt.prototype[e]=t(),Gt.prototype[e+"Form"]=t(!0)}));var Wt=Gt;class Kt{throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Kt((function(t){e=t})),cancel:e}}constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new nt(e,r,o),t(n.reason))}))}}var Xt=Kt;const Vt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vt).forEach((([e,t])=>{Vt[t]=e}));var Yt=Vt;const Jt=function e(t){const n=new Wt(t),r=S(Wt.prototype.request,n);return fe.extend(r,Wt.prototype,n,{allOwnKeys:!0}),fe.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(yt(t,n))},r}(ze);Jt.Axios=Wt,Jt.CanceledError=nt,Jt.CancelToken=Xt,Jt.isCancel=et,Jt.VERSION=Bt,Jt.toFormData=Ce,Jt.AxiosError=ye,Jt.Cancel=Jt.CanceledError,Jt.all=function(e){return Promise.all(e)},Jt.spread=function(e){return function(t){return e.apply(null,t)}},Jt.isAxiosError=function(e){return fe.isObject(e)&&!0===e.isAxiosError},Jt.mergeConfig=yt,Jt.AxiosHeaders=Ze,Jt.formToJSON=e=>qe(fe.isHTMLForm(e)?new FormData(e):e),Jt.getAdapter=Ut.getAdapter,Jt.HttpStatusCode=Yt,Jt.default=Jt;var Zt=Jt;const{Axios:Qt,AxiosError:en,CanceledError:tn,isCancel:nn,CancelToken:rn,VERSION:on,all:sn,Cancel:an,isAxiosError:ln,spread:cn,toFormData:dn,AxiosHeaders:un,HttpStatusCode:hn,formToJSON:fn,getAdapter:pn,mergeConfig:mn}=Zt,gn=async e=>{const t=await(e=>Zt.get(e).then((e=>e.data)))(e),n=document.createElement("div");return n.innerHTML=t,n.getElementsByTagName("svg")[0]};var yn=s("1BBN9"),wn=s("8ABn4"),En=s("h4XuO"),bn=(a=s("iMjBX"),d=s("mG6c6"),c=s("2xkva"),s("2kfQE"));g=s("aiU1O"),w=s("03QYZ");const vn=()=>{const e=(0,w.getQueryString)(),t=e.id||e.oid,n=e.e,r=e.url;return{options:Rn(t,n,r),history:On(t,n,r),capture:t?Tn(t,r):void 0,editor:t&&n?Cn(t,n,r):void 0}},Sn=(e,t,n=!1)=>{if(e){-1===e.href.indexOf("?")&&(e.href=t,n&&e.setAttribute("style",""))}},Tn=(e,t=null)=>{const n={id:e};t&&(n.url=t);return"/capture.html"+("?"+(0,w.toQueryString)(n))},Cn=(e,t,n=null)=>{const r={id:e,e:t};n&&(r.url=n);return"/editor.html"+("?"+(0,w.toQueryString)(r))},Rn=(e=null,t=null,n=null)=>{let r="";if(e){const o={id:e};t&&(o.e=t),n&&(o.url=n),r="?"+(0,w.toQueryString)(o)}return"/options.html"+r},On=(e=null,t=null,n=null)=>{let r="";if(e){const o={oid:e};t&&(o.e=t),n&&(o.url=n),r="?"+(0,w.toQueryString)(o)}return"/capture.html"+r};w=s("03QYZ"),En=s("h4XuO"),w=s("03QYZ");const xn=(e,t,n,r,o)=>{(0,En.$)("error-title").innerText=e;let s=(0,En.$)("error-body");s.innerText=t,(0,w.asArray)(s.getElementsByClassName(xn.extrasClassName)).forEach((e=>{e.parentNode.removeChild(e)}));let i=(0,En.$)("error");i.classList.toggle("warning",!n),En.$.findClass("close",i).forEach((e=>{e.style.display=r?"":"none",e._assignedClose||(e._assignedClose=!0,En.$.on(e,"click",_n))})),(0,En.$)("error-buttons").style.display=!0===o?"none":"",En.$.show("error-wrap")};xn.extrasClassName="errors-html-extra";const _n=()=>{(0,En.$)("error-wrap").style.display="none"},kn=()=>Promise.resolve().then((()=>{(0,En.$)("image").classList.add("loading")})),An=()=>Promise.resolve().then((()=>{(0,En.$)("image").classList.remove("loading")}));function Nn(){return wn.Capture.all().then((e=>function(e){_n(),(0,En.$)("image").style.display="none",window.scrollTo(0,0);let n=document.createElement("ul");n.className="dropdown-items";let r=e.map((e=>function(e){let t=e.url;1!==e.images.length&&(t+=` (${e.images.length} images)`);let n=e.dateTime.toLocaleString({...E.DateTime.DATETIME_SHORT,year:"2-digit"}),r=e.sizes?Dn(e.sizes.reduce(((e,t)=>e+t))):"",o=e.displayURL,s=document.createElement("li");s.className="dropdown-item";let i=document.createElement("div");i.className="container",s.appendChild(i);let l=document.createElement("label");l.className="checkbox-wrap";let c=document.createElement("input");c.type="checkbox",c.className="checkbox file-checkbox",c.dataset.id=e.id,l.appendChild(c),i.appendChild(l);let d,u=document.createElement("a");u.textContent=t,u.href=o,i.appendChild(u),e.edits&&e.edits.length&&(d=document.createElement("span"),d.textContent=`(${(0,a.tr)("Edited")})`,d.className="dim edited-note",u.appendChild(d));return d=document.createElement("span"),d.textContent=r,d.className="size right",u.insertBefore(d,u.firstChild),d=document.createElement("span"),d.textContent=n,d.className="date right",u.insertBefore(d,u.firstChild),s}(e))),o=r.length-1;for(;o>=0;)n.appendChild(r[o]),o--;e.length||n.appendChild(function(){const e=document.createElement("li");e.className="dropdown-item info";const t=document.createElement("div");t.className="container";const n=document.createElement("em");return n.textContent=(0,a.tr)("No screen captures found. Go make some!"),t.appendChild(document.createTextNode("😦 ")),t.appendChild(n),t.appendChild(document.createTextNode(" 😊")),e.appendChild(t),e}());let s=(0,En.$)("history");En.$.empty(s);let i=document.createElement("div");i.className="big-card",i.appendChild(function(){let e=document.createElement("div");e.className=" container title-container history-title-container";const n=document.createElement("div");n.className="h2-wrap";let r=document.createElement("h2");r.textContent=(0,a.tr)("Files"),n.appendChild(r),e.appendChild(n);let o=document.createElement("div");o.className="controls clearfix",e.appendChild(o);let s=document.createElement("label");s.className="checkbox-wrap",o.appendChild(s);let i=document.createElement("input");i.type="checkbox",i.className="meta-checkbox",i.addEventListener("change",(e=>{let t=e.target.checked;jn().forEach((e=>e.checked=t)),Pn()})),s.appendChild(i);let l=document.createElement("div");l.className="checkbox-note",l.textContent="",o.appendChild(l);let d=document.createElement("button");d.textContent=(0,a.tr)("Delete"),d.className="checkbox-button check-box-button-del",d.disabled=!0,o.appendChild(d),gn(t(b)).then((e=>{e.classList.add("btn-icon"),d.appendChild(e)})).catch((e=>{c.default.error(`Error loading svg (${t(b)})`,e)})),d.addEventListener("click",(e=>{!function(e){let t=e.length;const n=1===t?(0,a.tr)("Are you sure you want to delete 1 screencapture?\n (This action cannot be undone.)"):(0,a.tr)("Are you sure you want to delete $count$ screen captures?\n (This action cannot be undone.)",null,[t],{count:{content:"$1",example:"2"}});if(!confirm(n))return;let r=(0,a.tr)("Remove files");wn.Capture.lookupIds(e).then((e=>{let t=[],n=[],r=[];return Promise.all(e.map((e=>e.remove().then((()=>t.push(e.id))).catch((t=>{n.push(e.id),r.push(t)}))))).then((()=>{if(n.length&&0===t.length)throw r[0];return{succeeded:t,failed:n,errors:r}}))})).then((({succeeded:e,failed:t})=>{let n=e.length,o=t.length,s=1===n?(0,a.tr)("1 file was successfully removed."):(0,a.tr)("$num$ files were successfully removed.",null,[n],{num:{content:"$1",example:"2"}});s+=" 🗑",o&&(s+="\n\n",s+=1===o?(0,a.tr)("1 file could not be removed."):(0,a.tr)("$num$ files could not be removed.",null,[o],{num:{content:"$1",example:"2"}})),Nn(),window.setTimeout((()=>{xn(r,s),window.setTimeout((()=>{_n()}),3e3)}),50)})).catch((e=>{c.default.error("Error handling files",e),g.update(e).then((()=>{let e=(0,a.tr)("Error handling files. Please report this via the flag reporting button above.");xn(r,e,!0,!0)}))}))}(In(jn()))}));let u=document.createElement("button");return u.textContent=(0,a.tr)("Download"),u.className="checkbox-button check-box-button-down",u.disabled=!0,o.appendChild(u),gn(t(v)).then((e=>{e.classList.add("btn-icon"),u.appendChild(e)})).catch((e=>{c.default.error(`Error loading svg (${t(v)})`,e)})),u.addEventListener("click",(e=>{let t=In(jn());(0,yn.requestDownloads)().then((e=>{if(e)return wn.Capture.lookupIds(t).then((e=>[].concat.apply([],e.map((e=>e.fullPaths))))).then((e=>(0,w.fullServiceDownload)(e))).then((({hasPerms:e,results:t,failCount:n,successCount:r})=>{if((0,c.default)(`download success ${t.length} files`),e)if(n){let e="Some files did not download",n=t.filter((e=>!1===e.success)),r=(0,a.tr)("The following files could not be downloaded:")+`\n\n${n.map((e=>e.url)).join("\n")}\n\n`+bn.ERR_MSG_IF_PERSISTS;xn(e,r,!0,!0)}else(0,c.default)(`downloaded ${t.length} files`);else{let e=(0,a.tr)("Cannot download files"),t=(0,a.tr)("You need to grant the download privilege in order to download files");xn(e,t,!1,!0)}}));{let e=(0,a.tr)("Permission needed to download files"),t=(0,a.tr)("You need to grant the download privilege in order to download files");return xn(e,t,!1,!0),g.update().then((()=>!0))}})).catch((e=>{g.update(e).then((()=>{c.default.error("Download error",e);let t=(0,a.tr)("Error downloading files"),n=(0,a.tr)("There was an error downloading files, please report it via the flag button above.");xn(t,n,!0,!0)}))}))})),e}()),i.appendChild(n),s.appendChild(i),s.style.display="block";let l=Ln.loadIdsSet();jn().forEach((e=>{l.has(e.dataset.id)&&(e.checked=!0),e.addEventListener("change",Pn)})),Pn()}(e))).catch((e=>{c.default.error("Error in loadHistory",e),g.update(e).then((()=>{let e=(0,a.tr)("Error loading history"),t=bn.ERR_MSG_IF_PERSISTS;xn(e,t,!0,!0)}))}))}function jn(e){let t=En.$.findClass("file-checkbox",(0,En.$)("history"));return!0===e&&Ln.saveElts(t),t}function In(e){return e.filter((e=>e.checked)).map((e=>parseInt(e.dataset.id,10)))}const Ln=function(){let e="checkedFiles";return{saveElts:t=>{let n=In(t).join(",");if(window.sessionStorage)try{window.sessionStorage.setItem(e,n)}catch(e){c.default.error("Error storing checked state",e)}},loadIdsSet:()=>{let t="";if(window.sessionStorage)try{t=window.sessionStorage.getItem(e)||""}catch(e){c.default.error("Error loading checked state",e)}return new Set(t.split(","))}}}();function Pn(){let e=jn(!0),t=e.length,n=e.filter((e=>e.checked)).length,r=(0,En.$)("history"),o=En.$.findClass("checkbox-note",r)[0];const s=(0,a.tr)("Selected");o.textContent=0===t?"":`(${n} ${s})`,r.classList[0===t?"add":"remove"]("no-screenshots");let i=En.$.findClass("meta-checkbox",r)[0];0!==n&&n!==t||(i.checked=0!==n),En.$.findClass("checkbox-button",r).forEach((e=>{e.disabled=0===n,e.title=0===n?(0,a.tr)("Select 1 or more screenshots to use this action."):""}))}function Dn(e,t=2){if(0==e)return"0";const n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,n)).toFixed(t)} ${Dn.sizes[n]}`}Dn.sizes=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];var Un=s("2q4iO"),Fn=s("aHNfr"),$n=s("1Tjc3"),Bn=(Un=s("2q4iO"),s("21kSJ")),Mn=s("jmw9X"),qn=(a=s("iMjBX"),s("a5i9T"));const Hn=({cmd:e,ctrl:t,alt:n,shift:r,char:o})=>{const s=(0,qn.getIsMac)(),i=[];return e&&i.push(s?"⌘":"⌃"),t&&i.push("⌃"),n&&i.push("⌥"),r&&i.push("⇧"),i.push(o),i.join("")};var zn=s("76B86"),Gn=s("lLQan");var Wn=({Actions:e,STATE:t})=>{const[n,r]=(0,Un.useState)(""),[o,s]=(0,Un.useState)(null);(0,Un.useEffect)((()=>{const e=({text:e})=>{r(e)};(0,Gn.onNotifyText)(e);const n=e=>{(0,Bn.canCopyTextToClipboard)()&&!t.rejectedDl&&(e.preventDefault(),s({pageX:e.pageX-window.scrollX,pageY:e.pageY-window.scrollY}))},o=document.getElementById("image");return o.addEventListener("contextmenu",n,!1),()=>{(0,Gn.offNotifyText)(e),o.removeEventListener("contextmenu",n,!1)}}));const i=o&&t.record;let l=[];if(i){t.record.fullPaths.forEach((e=>{l.push()}))}return(0,$n.jsxs)($n.Fragment,{children:[n&&(0,$n.jsx)(Gn.default,{text:n}),i&&(0,$n.jsx)(zn.default,{pageX:o.pageX,pageY:o.pageY,onClose:()=>s(null),onUpdatePosition:(e,t)=>s({pageX:e,pageY:t}),cfg:{rows:[{text:(0,a.tr)("Save Image As…"),shortcut:Hn({cmd:!0,shift:!0,char:"S"}),onClick:n=>e.download(t.record,Mn.GA_VIA_DIALOG,!0)},{text:(0,a.tr)("Save PDF As…"),onClick:n=>e.downloadPDF(t.record,Mn.GA_VIA_DIALOG,!0)},...t.record.fullPaths.map(((n,r,o)=>({text:`${(0,a.tr)("Copy Image")}${1===o.length?"":" "+(r+1)}`,shortcut:0===r?Hn({cmd:!0,char:"C"}):void 0,onClick:n=>e.copyToClipboard(t.record,Mn.GA_VIA_DIALOG,r,t.images)}))),{divider:!0},{isTitle:!0,title:"Premium feature"},...t.record.fullPaths.map(((t,n,r)=>({text:`${(0,a.tr)("Edit Image")}${1===r.length?"":" "+(n+1)}`,shortcut:0===n?Hn({cmd:!0,char:"E"}):void 0,onClick:t=>e.goToEditor(Mn.GA_VIA_DIALOG,n)}))),{divider:!0},{text:(0,a.tr)("Copy original URL"),onClick:n=>e.copyUrl(t.record,Mn.GA_VIA_DIALOG)},{text:(0,a.tr)("Open original URL"),disabled:!t.record||t.record.url.startsWith("chrome://")||t.record.url.startsWith("edge://"),title:t.record&&t.record.url.startsWith("chrome://")||t.record&&t.record.url.startsWith("edge://")?"Cannot open chrome:// URLs":void 0,onClick:n=>e.goToUrl(t.record,Mn.GA_VIA_DIALOG)}]}})]})},Kn=(Gn=s("lLQan"),s("ecsdh")),Xn=s("aZB6T"),Vn=s("l6VXY"),Yn=s("dqmzj"),Jn=s("gstfn"),Zn=s("317M2"),Qn=(yn=s("1BBN9"),s("5dZ7N"));const er="ChromeTabsError",tr=((0,Qn.genLastErrorFmt)(er),(0,Qn.genWrapError)(er)),nr=()=>{return(e={active:!0,currentWindow:!0},tr(chrome.tabs.query(e),"query")).then((e=>e[0]));var e},rr=async(e,t)=>{let n,r=t.length;const o=s=>{if(s>=t.length)return t;let i=t[s],a=s===r-1;return e.incognito&&0===s?(l={url:i,incognito:!1,focused:a},tr(chrome.windows.create(l),"windowsCreate")).then((e=>(n=e.id,o(s+1)))):(e=>tr(chrome.tabs.create(e),"create"))({url:i,active:a,windowId:n,openerTabId:e.id,index:(e.incognito?0:e.index)+1+s}).then((e=>o(s+1)));var l};return o(0)};Bn=s("21kSJ"),Mn=s("jmw9X"),wn=s("8ABn4"),En=s("h4XuO"),a=s("iMjBX");var or=s("9X70u");Mn=s("jmw9X"),En=s("h4XuO");var sr={[or.ERROR_INCOGNITO_NETWORK_NAME]:{title:"Network error downloading file",body:"You might be experiencing a bug that was introduced to the Chrome browser in v68. In the meantime, you can try either of the following.\n\n1. right-click and “Save image as” or just click and drag the image to your desktop (if you are not using auto-download)\n\n2. disable “Allow in incognito” from the Chrome settings page for this extension (you can return to this capture from the history view within this extension):",buttons:()=>{let e=`${Mn.CUR_BROWSER_INFO.browser_protocol}extensions?id=${chrome.runtime.id}`,t=document.createElement("a");return t.href="#",t.innerText=e,Object.assign(t.style,{display:"block",fontWeight:"bold",margin:"1em 0"}),En.$.on(t,"click",(t=>{t.preventDefault(),nr().then((t=>rr(t,[e])))})),[t]}}},ir=(d=s("mG6c6"),l=s("cEw93"),Mn=s("jmw9X"),s("k0f7q")),ar=s("jzpMZ"),lr=(Mn=s("jmw9X"),l=s("cEw93"),c=s("2xkva"),s("yZcwP")),cr=s("fMrNL");const{local:dr,sync:ur}=cr.default;var hr=class{getField(e){return this.fields.find((t=>t.name===e))}_key(e){return this.namespace+"."+e}_keys(e){if(void 0===e)throw new Error("Cannot pass `undefined` as `keys`!");return"string"==typeof e&&(e=[e]),e.map((e=>this._key(e)))}_stripKey(e){return e.substring(this.namespace.length+1)}set(e,t){return this.setObj({[e]:t})}setObj(e){let n={};return Object.entries(e).forEach((([e,r])=>{const o=this._key(e),s=this.namespacedToField[o];t(lr).ok(s,`no field found for ${o} (${e})`),n[o]=this._serializeField(s,r)})),this.storage.set(n).then((()=>{Object.assign(this.state,e)}))}get(e){return e=this._keys(e),this.storage.get(e).then((e=>{let n={};return Object.entries(e).forEach((([e,r])=>{const o=this.namespacedToField[e];t(lr).ok(o,`no field found for ${e}`),n[this._stripKey(e)]=this._deserializeField(o,r)})),Object.assign(this.state,n),n}))}remove(e){"string"==typeof e&&(e=[e]);const t=this._keys(e);return this.storage.remove(t).then((()=>{e.forEach((e=>{delete this.state[e]}))}))}clear(){let e=this.fields.map((e=>e.name));return this.remove(e)}load(e=!1){return this._loadProm&&!0!==e||(this._loadProm=this._load()),this._loadProm.then((()=>Object.assign({},this.state)))}_load(){let e=this.fields.map((e=>e.name));return this.get(e).then((e=>(this.fields.forEach((t=>{if(void 0===e[t.name])void 0!==t.default&&(e[t.name]="function"==typeof t.default?t.default():t.default);else if(t.process){const{val:n}=t.process(e[t.name]);e[t.name]=n}})),Object.assign(this.state,e),e)))}onUpdate(e){this._listeners.push(e)}_startListening(){return!this._listening&&(this._listening=!0,chrome.storage.onChanged.addListener(((e,t)=>{if(t===this.areaName){const t=[];Object.entries(e).forEach((([e,n])=>{const r=this.namespacedToField[e];r&&(t.push(r.name),this.state[r.name]=this._deserializeField(r,n.newValue))})),t.length&&this._listeners.forEach((e=>e(t)))}})),!0)}_serializeField(e,t){return"json"===e.type?JSON.stringify(t):t}_deserializeField(e,t){return void 0===t&&void 0!==e.default?"function"==typeof e.default?e.default():e.default:"json"===e.type?JSON.parse(t):t}constructor(e,t,n){this.namespace=e,this.fields=t||[],this.state={},this.storage=!0===n?ur:dr,this.areaName=!0===n?"sync":"local",this.fields.forEach((e=>{e.choices&&(e.choices=e.choices.map((e=>"string"==typeof e?{key:e,display:e}:e)))}));let r={};this.fields.forEach((e=>r[this._key(e.name)]=e)),this.namespacedToField=r,this._listeners=[],this.fields.length&&this._startListening()}};w=s("03QYZ");const fr={keys:{DISMISSED:"dismissed",LIKE:"like",WENTOUT:"wentOut",TIMESTAMP:"timestamp"},category:"howisit",postInit:()=>{Sr("how-is-it-e7n-consider").textContent=(0,ir.tr)("Might you consider taking a minute to rate it in the $webstore$?",null,[Mn.CUR_BROWSER_INFO.store_short],{webstore:{content:"$1",example:"web store"}});const e=Sr("how-is-it-e7n-url-webstore");e.href=Mn.CUR_BROWSER_INFO.store_reviews_url,e.textContent=(0,ir.tr)("Take me to the $webstore$!",null,[Mn.CUR_BROWSER_INFO.store_short],{webstore:{content:"$1",example:"web store"}})}},pr={keys:{DISMISSED:"editDismissed",LIKE:"editHitOk",WENTOUT:"editWentOut",TIMESTAMP:"editTimestamp"},category:"tryedit"},mr={keys:{DISMISSED:"namechangeDismissed",LIKE:"namechangeHitOk",WENTOUT:"namechangeWentOut",TIMESTAMP:"namechangeTimestamp"},category:"namechange"},gr=[fr,pr,mr],yr=[];gr.forEach((({keys:e})=>{yr.push({name:e.DISMISSED,type:"bool",default:!1},{name:e.LIKE,type:"bool"},{name:e.WENTOUT,type:"bool"},{name:e.TIMESTAMP,type:"text"})}));const wr=new hr("howisit",yr,!0);class Er{show(){this.elt.classList.remove("hide"),window.setTimeout((()=>this.elt.classList.add("show")),0)}hide(){this.elt.classList.remove("show"),window.setTimeout((()=>this.elt.classList.add("hide")),500)}dismiss(e){this.hide();let t={[this.keys.DISMISSED]:!0};void 0!==e&&(t[this.keys.WENTOUT]=e),this._updateHitStore(t)}_hideSteps(){this.steps.map((e=>e.style.display="none"))}_showStep(e,t,n){const r="hit-like"===e;if((r||"hit-dislike"===e)&&this._updateHitStore({[this.keys.LIKE]:r}),t)this.dismiss(n);else{this._hideSteps();this.elt.querySelector(`[data-step="${e}"]`).style.display="block"}}addListeners(){vr(this.elt.getElementsByClassName("for-step")).forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget;"#"===t.getAttribute("href")&&e.preventDefault();const n=t.dataset.next,r=!!t.dataset.nextDismiss,o="true"===t.dataset.nextDismiss;this._showStep(n,r,o),l.default.event(this.category,"hit",n)}),!1)})),["close","dismiss"].forEach((e=>{vr(this.elt.getElementsByClassName(e)).forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget;"#"===t.getAttribute("href")&&e.preventDefault();const n=t.dataset.wentOut,r="true"===n||"false"!==n&&void 0;this.dismiss(r);const o=!0===r?"accept":!1===r?"reject":"close";l.default.event(this.category,"complete",o)}),!1)}))})),wr.onUpdate((e=>{wr.state[this.keys.DISMISSED]&&this.hide()})),Sr("hit-report-link").setAttribute("href",(0,w.reportLink)(window.location.href,"AreYouEnjoyingReport"))}_updateHitStore(e){const t=br();e[this.keys.TIMESTAMP]=t,wr.setObj(e).catch((e=>c.default.error(e)))}constructor(e,n){this.elt=e,t(ar)(e,`bad element sent to Controls: ${e}`),t(ar)(gr.find((e=>e===n)),`Config not found in whitelist!: ${JSON.stringify(n)}`),this.elt=e,this.keys=n.keys,this.category=n.category,this.steps=vr(e.getElementsByClassName("hit-step")),n.postInit&&n.postInit(),this.addListeners(),this.show(),l.default.event(this.category,"show")}}const br=()=>(new Date).getTime().toString();window._reset=()=>wr.clear();const vr=e=>Array.from(e),Sr=e=>document.getElementById(e);wn=s("8ABn4"),En=s("h4XuO"),c=s("2xkva"),$n=s("1Tjc3");s("2q4iO");Fn=s("aHNfr");var Tr=s("lSPyV"),Cr=($n=s("1Tjc3"),s("cAnjR")),Rr=(Un=s("2q4iO"),l=s("cEw93"),c=s("2xkva"),Kn=s("ecsdh"),s("6EXXg")),Or=s("gNZIH"),xr=s("94S9N");class _r extends Un.Component{componentDidMount(){l.default.event(this.props.gaCfg.category,"show")}render(){const{closing:e}=this.state,t={transition:"opacity 500ms ease-in-out",opacity:e?0:1};return(0,$n.jsx)($n.Fragment,{children:(0,$n.jsxs)(Or.default,{style:t,className:"welcomemodal big-modal",dimBg:!0,width:630,children:[(0,$n.jsx)("h2",{className:"br",children:"Same team, new name."}),(0,$n.jsx)(xr.AnnounceImg,{}),(0,$n.jsxs)("p",{className:"br15",children:["Full Page Screen Capture is now ",(0,$n.jsx)("strong",{children:"GoFullPage"}),"! Read more"," ",(0,$n.jsx)("a",{href:Kn.BLOG_NAME_CHANGE_URL,target:"_blank",rel:"noopener noreferrer",children:"on the blog"}),"."]}),(0,$n.jsx)("div",{children:(0,$n.jsx)("a",{className:"btn br15",href:"#",onClick:e=>{this.handleLogClick("hit-close",!1,!0,!0),this.handleClose(e)},children:"OK, got it!"})}),(0,$n.jsx)("a",{className:"close close-topright",href:"#",onClick:e=>{this.handleLogClick("hit-close",!1,!0,!0),this.handleClose(e)},children:(0,$n.jsx)(Rr.default,{fill:"#CCC"})})]})})}constructor(e){super(e),(0,Tr.default)(this,"handleClose",(e=>{e&&e.preventDefault(),this.state.closing||(this.setState({closing:!0}),window.setTimeout((()=>{this.props.onClose()}),500))})),(0,Tr.default)(this,"handleLogClick",((e,t,n=!1,r=!1)=>{const o={};o[this.props.gaCfg.keys.LIKE]=!n,o[this.props.gaCfg.keys.DISMISSED]=r,o[this.props.gaCfg.keys.TIMESTAMP]=kr(),this.props.hitStore.setObj(o).catch((e=>c.default.error(e))),l.default[t?"delayedEvent":"event"](this.props.gaCfg.category,"hit",e)})),this.state={closing:!1}}}(0,Tr.default)(_r,"propTypes",{onClose:t(Cr).func.isRequired,hitStore:t(Cr).object.isRequired,gaCfg:t(Cr).shape({keys:t(Cr).shape({DISMISSED:t(Cr).string.isRequired,LIKE:t(Cr).string.isRequired,WENTOUT:t(Cr).string.isRequired,TIMESTAMP:t(Cr).string.isRequired}),category:t(Cr).string.isRequired}).isRequired});const kr=()=>(new Date).getTime().toString();En=s("h4XuO");const Ar=(e,t)=>{const n=document.getElementById("modal-wrapper");En.$.empty(n);const r=document.createElement("div");n.appendChild(r),r.style.opacity="0",r.style.display="";(0,Fn.render)((0,$n.jsx)(_r,{onClose:()=>{r.style.display="none"},hitStore:e,gaCfg:t}),r),window.setTimeout((()=>{r.style.transition="opacity 500ms ease-in-out",r.style.opacity="1",r.style.display=""}),1500)};u=s("alm1K"),h=s("8aJKE"),$n=s("1Tjc3");s("2q4iO");Fn=s("aHNfr"),Tr=s("lSPyV"),$n=s("1Tjc3"),Cr=s("cAnjR"),Un=s("2q4iO"),Mn=s("jmw9X"),l=s("cEw93"),c=s("2xkva"),Rr=s("6EXXg"),Or=s("gNZIH"),xr=s("94S9N");class Nr extends Un.Component{componentDidMount(){l.default.event(this.props.gaCfg.category,"show")}render(){const{editorUrl:e}=this.props,{closing:t}=this.state,n={transition:"opacity 500ms ease-in-out",opacity:t?0:1};return(0,$n.jsx)($n.Fragment,{children:(0,$n.jsxs)(Or.default,{style:n,className:"welcomemodal big-modal",dimBg:!0,width:630,children:[(0,$n.jsx)("h2",{className:"br",children:"Try annotating, cropping, and doing more with your screenshots!"}),(0,$n.jsx)(xr.default,{}),(0,$n.jsx)("p",{className:"br15",children:"Test drive the premium editor and turn your screenshots into masterpieces."}),(0,$n.jsxs)("div",{children:[(0,$n.jsx)("a",{className:"btn br15",href:e,onMouseDown:()=>this.handleLogClick("hit-like",!0),children:"Give it a spin"}),(0,$n.jsx)("p",{className:"dim",children:(0,$n.jsx)("a",{href:Mn.PREMIUM_URL,target:"_blank",rel:"noopener noreferrer",onClick:()=>{this.handleLogClick("hit-learn",!1)},children:"Learn more about premium features"})})]}),(0,$n.jsx)("a",{className:"close close-topright",href:"#",onClick:e=>{this.handleLogClick("hit-close",!1,!0,!0),this.handleClose(e)},children:(0,$n.jsx)(Rr.default,{fill:"#CCC"})})]})})}constructor(e){super(e),(0,Tr.default)(this,"handleClose",(e=>{e&&e.preventDefault(),this.state.closing||(this.setState({closing:!0}),window.setTimeout((()=>{this.props.onClose()}),500))})),(0,Tr.default)(this,"handleLogClick",((e,t,n=!1,r=!1)=>{const o={};o[this.props.gaCfg.keys.LIKE]=!n,o[this.props.gaCfg.keys.DISMISSED]=r,o[this.props.gaCfg.keys.TIMESTAMP]=jr(),this.props.hitStore.setObj(o).catch((e=>c.default.error(e))),l.default[t?"delayedEvent":"event"](this.props.gaCfg.category,"hit",e)})),this.state={closing:!1}}}(0,Tr.default)(Nr,"propTypes",{onClose:t(Cr).func.isRequired,editorUrl:t(Cr).string.isRequired,hitStore:t(Cr).object.isRequired,gaCfg:t(Cr).shape({keys:t(Cr).shape({DISMISSED:t(Cr).string.isRequired,LIKE:t(Cr).string.isRequired,WENTOUT:t(Cr).string.isRequired,TIMESTAMP:t(Cr).string.isRequired}),category:t(Cr).string.isRequired}).isRequired});const jr=()=>(new Date).getTime().toString();En=s("h4XuO");const Ir=(e,t,n)=>{const r=document.getElementById("modal-wrapper");En.$.empty(r);const o=document.createElement("div");r.appendChild(o),o.style.opacity="0",o.style.display="";(0,Fn.render)((0,$n.jsx)(Nr,{onClose:()=>{o.style.display="none"},editorUrl:e,hitStore:t,gaCfg:n}),o),window.setTimeout((()=>{o.style.transition="opacity 500ms ease-in-out",o.style.opacity="1",o.style.display=""}),1500)};f=s("3ESIc");let Lr=!1;const Pr=(e,t)=>t[e.keys.DISMISSED]||void 0!==t[e.keys.LIKE],Dr=async e=>{const t=await wr.load(),n=await h.default.load(),r=Pr(fr,t),o=Pr(pr,t),s=Pr(mr,t);await(0,u.sleep)(250);const i=await wn.Capture.count(),a=n.firstKnownVersion;a&&(0,f.compareVersions)(a,Mn.NAMECHANGE_VERSION)<0&&!s?Ar(wr,mr):i>=8&&!o?Ir(e,wr,pr):i>=5&&!r&&new Er((0,En.$)("how-is-it"),fr)};var Ur=s("ebCbw"),Fr=(c=s("2xkva"),bn=s("2kfQE"),s("k1nP3")),$r=(u=s("alm1K"),g=s("aiU1O"),s("7i7LO")),Br=s("epmSf"),Mr=s("83PZf");w=s("03QYZ");const qr="rejected_dl",Hr=(0,a.tr)("File no longer exists—perhaps it has been cleared from your browser")+" 😐",zr=(0,a.tr)("Your browser does not support the clipboard API, please update to the most recent version."),Gr={record:null,images:null,loaded:!1,rejectedDl:!1},Wr="nav_button",Kr=()=>{(0,Fn.render)((0,Un.createElement)(Wn,{Actions:Qr,STATE:Gr}),document.getElementById("root"))},Xr=()=>{d.default.onUpdated((e=>{if("MIGRATION"===e.source){let t=(0,En.$)("error-status");if(t&&(t.innerText=""),e.isDone)window.location=window.location.href;else if(t&&e.title){let n=`\n${e.title}`;void 0!==e.step&&void 0!==e.numSteps&&(n+=` (${e.step} of ${e.numSteps}).`),t.innerText=n}}}));const e=e=>window.setTimeout((()=>e.blur()),10);En.$.on((0,En.$)("btn-trash"),"click",(function(t){t.preventDefault(),Gr.record&&Qr.remove(Gr.record,Mn.GA_VIA_NAV),e(this)})),En.$.on((0,En.$)("btn-download"),"click",(function(t){if(Gr.rejectedDl)return!0;Gr.record&&(t.preventDefault(),Qr.download(Gr.record,Mn.GA_VIA_NAV)),e(this)})),En.$.on((0,En.$)("btn-downloadpdf"),"click",(function(t){Gr.record&&(t.preventDefault(),Qr.downloadPDF(Gr.record,Mn.GA_VIA_NAV)),e(this)})),En.$.on(document,"keydown",(function(e){const t=(e=>(0,qn.getIsMac)()?e.metaKey:e.ctrlKey)(e);if(t)switch(e.keyCode){case 83:if(Gr.record){const t=e.altKey,n=e.shiftKey;let r=(0,En.$)("btn-download");"none"!==window.getComputedStyle(r).display&&(e.preventDefault(),t?Qr.copyToClipboard(Gr.record,Mn.GA_VIA_KEYPRESS,0,Gr.images):Qr.download(Gr.record,Mn.GA_VIA_KEYPRESS,n))}return;case 67:return void(e.shiftKey||e.altKey||(e.preventDefault(),Gr.record&&Qr.copyToClipboard(Gr.record,Mn.GA_VIA_KEYPRESS,0,Gr.images)));case 69:return e.preventDefault(),void(Gr.record&&Qr.goToEditor(Mn.GA_VIA_KEYPRESS));case 189:case 187:case 48:return e.preventDefault(),void(189===e.keyCode?(0,Vn.default)(window,"ZOOM_OUT"):(0,Vn.default)(window,"ZOOM_IN"))}})),Promise.all([(0,yn.containsDownloads)(),Br.default.load()]).then((([e,t])=>{Gr.rejectedDl=!e&&t[qr],e&&t[qr]&&Br.default.set(qr,!1).catch((e=>c.default.error(e)))})),function(){const e=vn();Sn((0,En.$)("btn-settings"),e.options),Sn((0,En.$)("btn-history"),e.history)}()},Vr=e=>{g.update({name:"SlowLoadingTimeout",message:`After ${e}ms.`},Gr.record).then((()=>{let e=(0,a.tr)("This is taking longer to load than expected. Hang tight! If nothing updates after a while, please report this via the reporting flag button above.");xn((0,a.tr)("Still loading"),e,!1,!0)}))},Yr=(e,t,n)=>{let r,o=!1;return n=n||1e4,t&&(r=window.setTimeout((()=>{o=!0,t(n)}),n)),Promise.all(e.map((e=>(0,u.loadImage)(e)))).then((e=>(window.clearTimeout(r),Gr.loaded=!0,{images:e,didTimeout:o}))).catch((e=>{throw window.clearTimeout(r),e}))},Jr=e=>{Gr.images=e;let t=!1,n=!1,r=null,o=null,s=null,i=null;const a=(0,En.$)("image");En.$.empty(a),a.classList.toggle("one-child",1===e.length);const l=window;function c(){let t=e[0].width,n=e[0].height,r=function(e,t,n,r){let o=n/e,s=r/t,i=Math.min(e*o,e*s,e),a=Math.min(t*o,t*s,t);return{width:i,height:a,scaleRatio:i/e,left:Math.floor((n-i)/2,10),top:Math.floor((r-a)/2,10)}}(t,n,window.innerWidth-40,window.innerHeight-document.getElementsByTagName("header")[0].offsetHeight-40);const o=Gr.record.scaleMultiplier;h(r.scaleRatio*o),e.forEach((({img:e,width:t,height:n},o)=>{e.style.height=n*r.scaleRatio+"px",e.style.width=t*r.scaleRatio+"px",0===o&&e.parentNode&&(e.parentNode.style.padding=r.top+20+"px 0")})),u(!1)}function d(){h(1),e.forEach((({img:e,width:t,height:n},r)=>{let o=eo(t),s=eo(n);e.style.width=o+"px",e.style.height=s+"px",0===r&&(e.parentNode.style.padding="")})),u(!0)}function u(e){let t=null===e?"":e?"can-zoom-out":"can-zoom-in";["can-zoom-in","can-zoom-out"].forEach((e=>document.documentElement.classList.toggle(e,e===t)))}function h(e){let t=(0,En.$)("img-ctrls"),n=(r=e,(r*=100)>=1?Math.floor(r,10).toString():r>=.005?r.toString().substring(0,4):"0");var r;En.$.findClass("zoom-amount",t).forEach((e=>e.innerText=`${n}%`)),En.$.findClass("zoom-btn",t).forEach((t=>{t.classList.toggle("disabled",1===e?t.classList.contains("zoom-in"):t.classList.contains("zoom-out"))}))}function f(n){let r=!0===n,o="object"==typeof n,s=o?n.target:e[0].img,i=e.find((e=>e.img===s))||e[0],a=i.width,h=i.height,f=document.getElementsByTagName("header")[0].offsetHeight,p=a>window.innerWidth||h+40>window.innerHeight-f,m=s.width,g=s.height,y=o?En.$.offsets(s):null,E=document.documentElement.classList.contains("can-zoom-out");if(!0===r&&(E=!E),p)if(E){if(t)return;c()}else d();else e&&e.length&&(e[0].img.parentNode.style.padding="20px 0 0",u(null));if(o&&!E){const e=En.$.offsets(s),t=n.clientX-y.left,r=n.clientY-y.top,o=t/m*eo(a),i=r/g*eo(h),c=En.$.offsets(l),d=l.innerWidth||l.offsetWidth,u=l.innerHeight||l.offsetHeight,f=e.left-c.left+o-d/2,p=e.top-c.top+i-u/2;(0,w.scrollEltTo)(l,f,p)}}e.forEach(((e,t)=>{let n=e.img;n.src=e.src,n.title="Captured screenshot",a.appendChild(n)})),En.$.on(window,"ZOOM_IN",d),En.$.on(window,"ZOOM_OUT",c),f(!0),e.forEach((({img:e})=>En.$.on(e,"click",f))),En.$.on(window,"resize",(()=>f(!0)));const p=e=>{t=e,document.documentElement.classList.toggle("spacebar-down",e)},m={keydown:e=>{if(32===e.keyCode&&"image"===e.target.id)return e.preventDefault(),void p(!0)},keyup:e=>{32!==e.keyCode||(n?En.$.once(document,"click",(e=>{p(!1)})):p(!1))},mousedown:e=>{t&&(n=!0,r=e.clientX,o=e.clientY,s=l.scrollX||l.scrollLeft||0,i=l.scrollY||l.scrollTop||0)},mouseup:e=>{n=!1},mousemove:e=>{if(n&&t){const t=e.clientX,n=e.clientY,a=r-t,c=o-n;r=t,o=n,s+=a,i+=c,(0,w.scrollEltTo)(l,s,i)}}};Object.entries(m).forEach((([e,t])=>{En.$.on(document,e,t)}));const g=(0,En.$)("img-ctrls"),y=En.$.findClass("zoom-btn",g);y.push(En.$.findClass("zoom-amount",g)[0]),y.forEach((e=>{En.$.on(e,"click",(function(e){e.preventDefault(),this.classList.contains("disabled")||f(!1)}))}));const E=e[0].src,b=(0,En.$)("btn-download");b.href=E,b.download=E.split("/").pop(),function(e="img-btn"){if(!Gr.loaded)return void Zr();En.$.findClass(e).forEach((function(e){e.classList.add("show")}))}()};function Zr(){En.$.findClass("img-btn").forEach((function(e){e.classList.remove("show")}))}const Qr=function(){const e={downloadPDF:(t,n,r=!1)=>{l.default.event(Wr,"download_pdf",n),e._if(t).then((()=>(0,yn.requestDownloads)())).then((async e=>{if(e){let e=(0,Ur.getImageFormat)("jpg");const[n,o]=await Promise.all([$r.default.load(),Mr.default.loginStateProm()]),s=[];let i=null,a=0;if(n.pdf_url_and_date){let e=Gr.record.scaleMultiplier;const t=Gr.images[0].width/e,r=0,o={x:0,y:0,width:t,height:r},l=(0,Kn.formatDate)(Gr.record.dateTime,n.pdf_date_fmt),c=(0,Xn.createBrowserTemplate)(Xn.TEMPLATE_DATA_BAR.key,Gr.record.url,t,r,e,Gr.record.title,Gr.record.dateTime,l),d=(0,Yn.computeBaseOffsets)(t,r,e,o,c,100,[],null,0);let u=document.createElement("canvas"),h=u.getContext("2d"),f=e/(h.webkitBackingStorePixelRatio||h.backingStorePixelRatio||1);u.width=d.outerWidth*f,u.height=d.outerHeight*f,a=d.outerHeight,h.scale(f,f),await c.draw(h,Gr.record.url),c.textCoords&&s.push({...c.textCoords,url:Gr.record.url}),i=u}if(n.pdf_insert_links&&o&&o.store.show_experimental&&Gr.record.metadata.links){const e=Gr.record.metadata.links;Array.isArray(e)&&(0,Zn.flattenBounds)(e).forEach((e=>{s.push(a?{...e,y:e.y+a}:e)}))}const l=await(0,Fr.toPDF)(Gr.images,e,Gr.record.scaleMultiplier||window.devicePixelRatio||1,n.pdf_format,n.pdf_smart_page&&o&&"sub-ok"===o.subState,s,Gn.triggerNotifyText.creatingPDF,i),c=(0,Jn.blobToUrl)(l),{hasPerms:d,results:u,failCount:h}=await(0,w.fullServiceDownload)([{url:c,filename:t.pdfFilename}],!1,r);if((0,Jn.revokeObjectUrl)(c),!d){let e=new Error("No downloads perm despite just getting it!");throw e.name="UnreachableError",e}if(h)throw u.find((e=>!1===e.success)).error;Gn.triggerNotifyText.createdPDF()}else{try{await Br.default.set(qr,!0)}catch(e){c.default.error(e)}Gr.rejectedDl=!0;let e=(0,a.tr)("Download permission is required"),t=(0,a.tr)("The download permission is required to enable the download as PDF feature.");xn(e,t,!0,!0)}})).catch((e=>{Gn.triggerNotifyText.clear(),g.update(e,Gr.record).then((()=>{if(c.default.error("Download error",e),sr[e.name])to(e);else{let e=(0,a.tr)("Error downloading file"),t=bn.ERR_MSG_IF_PERSISTS;xn(e,t,!0,!0)}}))}))},download:(t,n,r)=>{l.default.event(Wr,r?"download_img_as":"download_img",n||void 0),e._if(t).then((()=>(0,yn.requestDownloads)())).then((e=>{if(e){let e=t.fullPaths;return(0,w.fullServiceDownload)(e,!1,r).then((({hasPerms:e,results:t,failCount:n})=>{if(!e){let e=new Error("No downloads perm despite just getting it!");throw e.name="UnreachableError",e}if(n)throw t.find((e=>!1===e.success)).error}))}{Br.default.set(qr,!0).catch((e=>c.default.error(e))),Gr.rejectedDl=!0;let e=(0,a.tr)("Download permission not granted"),t=(0,a.tr)("This permission allows greater control over how downloads work within the extension. Your preference has been saved, and this download button will now fall back to default browser on-click downloads. However, you will still be prompted for it in order to use any of the advanced features on the Files or Edit pages, since they need this permissions to work.");return void xn(e,t,!1,!0)}})).catch((e=>{g.update(e,Gr.record).then((()=>{if(c.default.error("Download error",e),sr[e.name])to(e);else{let e=(0,a.tr)("Error downloading file"),t=bn.ERR_MSG_IF_PERSISTS;xn(e,t,!0,!0)}}))}))},goToUrl:(e,t)=>{l.default.event(Wr,"goto_url",t||void 0);const{url:n}=e;window.open(n,"_blank","noopener")},copyUrl:(e,t)=>{l.default.event(Wr,"copy_url",t||void 0);const{url:n}=e;if(!(0,Bn.canCopyTextToClipboard)()){const e=zr;return(0,Gn.triggerNotifyText)(e,4e3),void c.default.error("Copy not supported",e)}(0,Bn.copyTextToClipboard)(n).then((()=>{(0,Gn.triggerNotifyText)(`✅ ${(0,a.tr)("URL copied to clipboard")}`,3e3)})).catch((e=>{c.default.error("Error coping URL"),c.default.error(e),Gn.triggerNotifyText.clear(),g.update(e,Gr.record).then((()=>{let e=bn.ERR_MSG_IF_PERSISTS;xn((0,a.tr)("Error copying URL"),e,!0,!0)}))}))},copyToClipboard:(e,t,n=0,r=null)=>{l.default.event(Wr,"copy_img",t);const o=e.fullPaths[n],s=r&&r[n]||void 0;if(!(0,Bn.canCopyBlobToClipboard)()){const e=zr;return(0,Gn.triggerNotifyText)(e,4e3),void c.default.error("Copy not supported",e)}Gn.triggerNotifyText.copyingImage(),Promise.resolve().then((async()=>{const e=(await $r.default.load()).fit_copies?Bn.GOOGLE_DOCS_MAX_PIXELS:void 0;let t;t=s?await(0,Bn.copyImgEltToClipboard)(s.img,s.width,s.height,e):await(0,Bn.copyImgToClipboard)(o,e),(0,c.default)("Copied image"+(t?" (RESIZED)":"")),Gn.triggerNotifyText.copiedImage(t)})).catch((e=>{c.default.error("Error coping image"),c.default.error(e),Gn.triggerNotifyText.clear(),g.update(e,Gr.record).then((()=>{xn(bn.ERR_TITLE_COPY,bn.ERR_MSG_COPY+"\n\n"+bn.ERR_MSG_IF_PERSISTS,!1,!0)}))}))},openInTabs:(t,n)=>{l.default.event(Wr,"expand",n||void 0),e._if(t).then((()=>nr())).then((e=>rr(e,t.fullPaths))).catch((e=>{(0,c.default)("Error opening file in tabs",e),g.update(e,Gr.record).then((()=>{let e=(0,a.tr)("Something went wrong opening this screenshot into a new.")+" "+bn.ERR_MSG_IF_PERSISTS;xn((0,a.tr)("Error opening screenshot"),e,!0,!0)}))}))},remove:(t,n)=>{l.default.event(Wr,"remove",n||void 0);let r=(0,a.tr)("Are you sure you want to delete this screenshot?\n(This action cannot be undone.)");confirm(r)&&e._if(t).then((()=>t.remove())).then((()=>function(){Zr();let e=(0,En.$)("image");En.$.empty(e),xn((0,a.tr)("Image deleted"),(0,a.tr)("This screenshot been successfully removed."))}())).catch((e=>{(0,c.default)("Error removing file",e),g.update(e,Gr.record).then((()=>{let e=(0,a.tr)("Something went wrong deleting your screenshot.")+" "+bn.ERR_MSG_IF_PERSISTS;xn((0,a.tr)("Error removing screenshot"),e,!0,!0)}))}))},goToEditor:(e,t=0)=>{l.default.event(Wr,"goto_editor",e||void 0),Gr.record&&(window.location=Gr.record.getEditorURL(t))},_if:e=>Promise.resolve().then((()=>{if(!e){let e=new Error("No record on STATE obj");throw e.name="PageStateError",e}return e}))};return e}();function eo(e){const t=Gr.record?Gr.record.scaleMultiplier:window.devicePixelRatio||1;return 1!==t?e/t:e}function to(e){let t=sr[e.name];if(xn(t.title,t.body,!1,!0,!0),t.buttons){let e=document.createElement("div");e.className=xn.extrasClassName,t.buttons().forEach((t=>{e.appendChild(t)})),(0,En.$)("error-body").appendChild(e)}}l.default.pageview(),((e=!1)=>{if(null===y){const e=document.createElement("a");e.style.cssText="position: sticky;",y=-1!==e.style.position.indexOf("sticky")}y&&e&&document.documentElement.classList.add("csspositionsticky")})(!0),Array.prototype.slice.call(document.querySelectorAll("a[data-href]")).forEach((e=>{e.href=e.dataset.href})),(0,a.updateHtml)(),g.update();let no=(0,w.getQueryString)();const ro=e=>{c.default.error("Migration error",e),g.update(e).then((()=>{xn("Data Error","The page encountered an error. Please report this via the the flag reporting button above.",!0,!1)}))};var oo,so;no.src?(so=no.src,wn.Capture.findSrc(so).then((e=>{window.location=e?e.displayURL:"?"})).catch((e=>{c.default.error("lookup Image src error",e),g.update(e).then((()=>{xn((0,a.tr)("Unable to find image"),(0,a.tr)("The specified image could not be found.")+" "+bn.ERR_MSG_IF_PERSISTS)}))}))):no.id?(oo=no.id,document.documentElement.classList.add("page-image"),Xr(),Kr(),wn.Capture.lookup(oo).then((e=>{if(!e)return c.default.error("lookup, no record found",oo),xn((0,a.tr)("Unable to load image"),Hr);Gr.record=e,g.update(void 0,Gr.record),e.format&&((0,En.$)("btn-download").getElementsByClassName("image-type")[0].innerText=`(${e.format.toUpperCase()})`),En.$.findClass("editor-link").forEach((t=>{t.href=e.getEditorURL()}));const t=(0,En.$)("btn-editor-wrap");if(t&&e.images&&e.images.length>0){const n="hov-dropdown";let r=En.$.findClass("hov-dropdown",t)[0];if(r&&r.parentNode.removeChild(r),En.$.findClass("tooltip",t).forEach((e=>{e.classList.remove("hide")})),e.images.length>1){En.$.findClass("tooltip",t).forEach((e=>{e.classList.add("hide")})),r=document.createElement("div"),r.className=n;const o=document.createElement("ul");r.appendChild(o);const s=document.createElement("li"),i=document.createElement("span");i.className="hov-dropdown--title",i.textContent=`${(0,a.tr)("Premium feature")}:`,s.appendChild(i),o.appendChild(s),e.images.forEach(((n,r)=>{const s=document.createElement("li"),i=document.createElement("a");if(i.href=e.getEditorURL(r),i.addEventListener("mousedown",(()=>{l.default.event(Wr,"goto_editor","multi-dropdown")}),!1),i.textContent=`${(0,a.tr)("Edit Image")} ${r+1}`,0===r){const e=document.createElement("span");e.className="hov-dropdown--shortcut",e.textContent=Hn({cmd:!0,char:"E"}),i.prepend(e)}s.appendChild(i),o.appendChild(s);let c=null;t.addEventListener("mouseenter",(()=>{window.clearTimeout(c),t.classList.add("hover")}),!1),t.addEventListener("mouseleave",(()=>{c=window.setTimeout((()=>{t.classList.remove("hover")}),500)}),!1)})),t.appendChild(r)}}var n;return n=e.getEditorURL(),Lr||(Lr=!0,Dr(n).catch((e=>{c.default.error("CAUGHT ERROR in hit.load chain"),c.default.error(e)}))),kn().then((()=>Yr(e.fullPaths,Vr))).then((({images:e,didTimeout:t})=>(t&&_n(),Jr(e)))).then((()=>An())).catch((e=>{An().catch((e=>c.default.error(e))),c.default.error("loadImages error",e),g.update(e,Gr.record).then((()=>{xn((0,a.tr)("Unable to load image"),Hr)}))}))})).catch((e=>{c.default.error("Failed lookup",oo,e),g.update(e,Gr.record).then((()=>{xn((0,a.tr)("Error loading image"),bn.ERR_MSG_IF_PERSISTS,!0,!1)}))}))).then(p).catch(ro):(document.documentElement.classList.add("page-history"),d.default.onUpdated((e=>{"MIGRATION"===e.source&&e.isDone&&Nn()})),function(){const e=vn(),t=e.editor||e.capture;t&&En.$.findClass("back-button").forEach((e=>{Sn(e,t,!0)})),Sn((0,En.$)("btn-settings"),e.options),Sn((0,En.$)("btn-history"),e.history)}(),kn().then(Nn).then(An)).then(p).catch(ro);
//# sourceMappingURL=capture.08265563.js.map
