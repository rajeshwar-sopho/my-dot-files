"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[9143],{1506:(e,t,n)=>{n.d(t,{N:()=>P});var o,r,a,i,c,s,l,u=n(50122),d=n(22155),p=n(30395),f=n.n(p),m=n(21861),v=n(55346),b=n(89310),y=n(54448),g=n(76716),h=d.createElement,k=(o={},(0,u.A)(o,b.cc.Default,"rounded-14"),(0,u.A)(o,b.cc.Small,"rounded-10"),o),A=(r={},(0,u.A)(r,b.cc.Default,"p-4 rounded-t-12"),(0,u.A)(r,b.cc.Small,"p-2 rounded-t-8"),r),O=(a={},(0,u.A)(a,b.cc.Default,"p-4 rounded-12"),(0,u.A)(a,b.cc.Small,"p-2 rounded-8"),a),w=(i={},(0,u.A)(i,b.cc.Default,"typo-body"),(0,u.A)(i,b.cc.Small,"typo-footnote"),i),N=(c={},(0,u.A)(c,b.cc.Default,"p-4"),(0,u.A)(c,b.cc.Small,"p-2"),c),x=(s={},(0,u.A)(s,b.cc.Default,"mt-6 gap-2"),(0,u.A)(s,b.cc.Small,"absolute left-0 right-0 top-0 z-3"),s),S=(l={},(0,u.A)(l,b.cc.Default,"h-3 rounded-6 bg-white"),(0,u.A)(l,b.cc.Small,"h-0.5 bg-white"),l),P=function(e){var t=e.className,n=e.title,o=e.content,r=e.steps,a=e.variant,i=void 0===a?b.cc.Default:a,c=e.isOpen,s=void 0===c||c,l=e.showProgressBar,u=void 0===l||l,d=(0,y.q)({steps:r}),p=d.isDone,P=d.openStep,C=d.onToggleStep,I=d.activeStep;return h(m.Yp,{className:f()(t,k[i])},h("div",{className:f()("relative overflow-hidden bg-gradient-to-t from-raw-cabbage-90 to-raw-cabbage-50",s?A[i]:O[i])},p&&h(g.J,{variant:"checklist"}),h("p",{className:f()("relative mb-1 font-bold text-white",w[i])},n),h("div",{className:"relative"},o),u&&h("div",{className:f()("flex",x[i])},r.map((function(e){return h("div",{key:e.action.type,className:f()("flex-1",!e.action.completedAt&&"opacity-24",S[i]),"data-testid":e.action.completedAt?"checklist-card-progress":void 0})})))),s&&h("div",{className:f()("flex flex-col gap-2",N[i])},r.map((function(e){var t=e.component||v.V;return h(t,{key:e.action.type,step:e,isOpen:P===e.action.type,isActive:I===e.action.type,onToggle:C,className:{checkmark:p&&"text-brand-default"},variant:i})}))))}},76716:(e,t,n)=>{n.d(t,{J:()=>l});var o=n(22155),r=n(30395),a=n.n(r),i=n(16763),c=o.createElement,s={checklist:i.D,checklistBar:i.uQ},l=function(e){var t=e.className,n=e.variant;return c("div",{className:a()(t,"pointer-events-none absolute")},c("img",{src:s[n],alt:"Confetti"}))}},55346:(e,t,n)=>{n.d(t,{V:()=>O});var o,r,a,i,c,s=n(50122),l=n(22155),u=n(30395),d=n.n(u),p=n(97838),f=n(76423),m=n(43918),v=n(89310),b=l.createElement,y=(o={},(0,s.A)(o,v.cc.Default,"size-10"),(0,s.A)(o,v.cc.Small,"w-8 h-6"),o),g=(r={},(0,s.A)(r,v.cc.Default,p.lK.Small),(0,s.A)(r,v.cc.Small,p.lK.XSmall),r),h=(a={},(0,s.A)(a,v.cc.Default,"typo-callout"),(0,s.A)(a,v.cc.Small,"typo-footnote pr-1"),a),k=(i={},(0,s.A)(i,v.cc.Default,"typo-callout"),(0,s.A)(i,v.cc.Small,"typo-footnote"),i),A=(c={},(0,s.A)(c,v.cc.Default,"ml-9"),(0,s.A)(c,v.cc.Small,"ml-7 pr-1"),c),O=function(e){var t=e.className,n=void 0===t?{}:t,o=e.step,r=e.isOpen,a=void 0!==r&&r,i=e.isActive,c=void 0!==i&&i,s=e.onToggle,l=e.children,u=e.variant,p=!!o.action.completedAt;return b("div",{className:n.container},b("button",{type:"button",className:"flex w-full items-center justify-between","data-testid":"checklist-step",onClick:function(e){e.preventDefault(),s(o.action)}},b("div",{className:"flex-start flex flex-1 items-center gap-1"},b("div",{className:d()("-ml-2 flex items-center justify-center text-text-tertiary",y[u],p&&"text-text-quaternary"),id:o.action.type},b("div",{className:d()(c&&"rounded-full bg-brand-active p-1"),"data-testid":"checklist-step-".concat(c?"active":"inactive")},b(f.R,{className:d()(c&&"text-brand-default",n.checkmark),"data-testid":"checklist-step-".concat(p?"completed":"incomplete"),size:g[u],secondary:!p}))),b("p",{className:d()("flex-1 text-left",c?"font-bold !text-text-primary":"font-normal",p?"text-text-quaternary line-through":"text-text-tertiary",h[u],n.title)},o.title)),b(m.HK,{className:d()(c?"text-text-primary":"text-text-tertiary",!a&&"rotate-180",p&&"opacity-32"),"data-testid":"checklist-step-".concat(a?"open":"closed"),size:g[u]})),a&&b("div",{className:d()("my-2",A[u])},b("p",{className:d()("text-text-secondary",k[u],n.description)},o.description),!!l&&b("div",{className:"mt-4"},l)))}},23653:(e,t,n)=>{n.d(t,{g:()=>m});var o=n(7527),r=n(75087),a=n(22155),i=n(30395),c=n.n(i),s=n(53823),l=n(83448),u=n(89310),d=n(16925),p=["className"],f=a.createElement,m=function(e){var t=e.className,n=(0,r.A)(e,p),a=(0,d.V)().setChecklistView;return f(s.$n,(0,o.A)({},n,{className:c()(t,"border-white text-white"),variant:l.Ak.Secondary,size:l.Mp.XSmall,onClick:function(){a(u.JV.Hidden)}}),"Dismiss")}},97999:(e,t,n)=>{n.d(t,{W:()=>b});var o=n(22155),r=n(30395),a=n.n(r),i=n(89310),c=n(53823),s=n(83448),l=n(62859),u=n(60471),d=n(41453),p=n(97900),f=n(81668),m=n(16925),v=o.createElement,b=function(e){var t=e.className,n=(0,m.V)().setChecklistView,r=(0,p.A)({id:f.t.SidebarOnboardingChecklistCard}),b=r.onMenuClick,y=r.isOpen;return v(o.Fragment,null,v("div",{className:a()(t,"flex")},v(c.$n,{icon:v(u.Z,{className:"text-white"}),variant:s.Ak.Tertiary,size:s.Mp.XSmall,onClick:function(e){e.stopPropagation(),b(e)}})),v(l.default,{id:f.t.SidebarOnboardingChecklistCard,className:"menu-primary typo-callout",animation:"fade",options:[{icon:v(d.L,null),label:"Hide forever",action:function(){n(i.JV.Hidden)}}],isOpen:y}))}},8942:(e,t,n)=>{n.d(t,{X:()=>A});var o=n(7527),r=n(75087),a=n(22155),i=n(9487),c=n(70591),s=n(80244),l=n(72870),u=n(91850),d=n(48389),p=n(87822),f=n(83448),m=n(53823),v=n(59904),b=n(27504),y=n(36599),g=n(10495),h=["className","compact","sidebar","footer","onClick","showIcon"],k=a.createElement;function A(e){var t=e.className,n=e.compact,a=e.sidebar,A=e.footer,O=e.onClick,w=e.showIcon,N=(0,r.A)(e,h),x=(0,s.Z2)(),S=x.user,P=x.squads,C=(0,i.useRouter)(),I=C.route,j=C.query,D=(0,l.G6)(l.bh.Laptop),q=(0,l.G6)(l.bh.LaptopL),E="/squads/[handle]"===I?j.handle:"",B=(0,u.C)({handle:E}).squad,F=(0,d.pZ)(B,p.Wk.Post),M=!E||(null==P?void 0:P.some((function(e){return(0,d.pZ)(e,p.Wk.Post)}))),L=(0,g.A)().customFeedPlacement;if(!A&&!S)return null;var Z=c.nf.post.create+(B&&F?"?sid=".concat(B.handle):""),X=O?{onClick:O}:{tag:"a",href:Z},V=!1!==n&&(D&&!q||n);return k(b.A,{condition:V,wrapper:function(e){return k(y.S,{placement:"bottom",content:"New Post"},e)}},k(m.$n,(0,o.A)({},X,{variant:L?f.Ak.Secondary:a||A?f.Ak.Float:f.Ak.Primary,className:t,disabled:!M||!!E&&!F,icon:(V||w)&&k(v.c,null),size:D||a||A?f.Mp.Medium:f.Mp.Small},N),V?null:"New post"))}},89961:(e,t,n)=>{n.r(t),n.d(t,{SidebarDesktop:()=>Ot});var o=n(7527),r=n(30395),a=n.n(r),i=n(22155),c=n(9487),s=n(8301),l=n(52045),u=n(63700),d=n(80244),p=n(36797),f=n.n(p),m=n(89310),v=n(53823),b=n(83448),y=n(43918),g=n(16925),h=n(15360),k=n(55551),A=n(97999),O=n(1506),w=n(23653),N=i.createElement,x=f()((function(){return n.e(4210).then(n.bind(n,18819))}),{loadableGenerated:{webpack:function(){return[18819]}}}),S=function(e){var t=e.className,n=(0,g.V)(),o=n.checklistView,r=n.setChecklistView,c=n.isDone,s=n.steps,l=o===m.JV.Hidden;if(!(0,h.G)({feature:k.N4.onboardingChecklist,shouldEvaluate:!l}).value)return null;if(l)return null;var u=o===m.JV.Open;return c?N("div",{className:"sticky bottom-2 mx-2"},N(O.N,{className:"!h-auto w-full !border-0 text-center",title:"Get started like a pro",content:N(i.Fragment,null,N("p",{className:a()("mb-2 text-center font-bold text-white typo-footnote")},"Perfectly done!"),N(w.g,null)),steps:s,variant:m.cc.Small,isOpen:!1,showProgressBar:!1})):N("div",{className:a()(t,"bottom-0 left-0 z-popup !h-auto px-2 pb-2",u&&"sticky")},N("div",{className:"relative"},N(x,{isOpen:u,variant:m.cc.Small}),N("div",{className:"absolute right-2 top-2 flex"},u&&N(A.W,null),N(v.$n,{icon:N(y.HK,{className:a()("text-white",u&&"rotate-180")}),variant:b.Ak.Tertiary,size:b.Mp.XSmall,onClick:function(){r(u?m.JV.Closed:m.JV.Open)}}))))};var P=n(75087),C=n(95974),I=n(12430),j=["item","isButton","showLogin","children"],D=i.createElement;function q(e){var t=e.item,n=e.isButton,r=e.showLogin,c=e.children,l=(0,P.A)(e,j),u=(0,i.useCallback)((function(e){var n;r?(e.preventDefault(),r()):null===(n=t.action)||void 0===n||n.call(t,e)}),[r,t]);return n||t.action&&!t.path?D("button",(0,o.A)({},l,{type:"button",className:s.KT,onClick:u}),c):D(C.A,{href:t.path,passHref:!0,prefetch:!1},D("a",(0,o.A)({},l,(0,I.t)(u),{target:null==t?void 0:t.target,className:a()(s.KT,l.className),rel:"noopener noreferrer"}),c))}var E=i.createElement,B=function(e){var t=e.item,n=e.activePage,o=e.isItemsButton,r=e.shouldShowLabel,a=(0,i.useContext)(d.Ay),c=a.user,l=a.showLogin,u=function(e){return e.active||e.path===n};return E(s.jl,{active:u(t),ref:t.navItemRef,color:t.color},E(q,{item:t,showLogin:t.requiresLogin&&!c?function(){return l({trigger:t.title})}:null,isButton:o&&!(null!=t&&t.isForcedLink),className:"truncate"},E(s.Cr,{item:t,shouldShowLabel:r,active:u(t)})))},F=n(68390),M=n(50421),L=i.createElement;function Z(e){var t=e.title,n=e.items,o=e.sidebarExpanded,r=e.shouldShowLabel,c=e.activePage,u=e.isItemsButton,d=e.className,p=e.flag,f=e.isAlwaysOpenOnMobile,m=(0,l.Mp)(),g=m.flags,h=m.updateFlag,k=(0,M.A)().sidebarRendered,A=f&&!k,O=(0,i.useRef)(!!(0,F.hX)(null==g?void 0:g[p])||g[p]);return L(s.RQ,{className:d},t&&L(s.lb,{className:a()("hidden justify-between laptop:flex",o?"px-3 opacity-100":"px-0 opacity-0")},t,L(v.$n,{variant:b.Ak.Tertiary,onClick:function(){h(p,!O.current),O.current=!O.current},size:b.Mp.XSmall,icon:L(y.HK,{className:O.current?"rotate-360":"rotate-180"})})),(O.current||A)&&n.map((function(e){return L(B,{key:"".concat(e.title,"-").concat(e.path),item:e,activePage:c,isItemsButton:u,shouldShowLabel:r})})))}var X=n(53075),V=n(71444),T=n(33345),z=n(75191),R=n(38638),K=n(30530),_=n(54883),$=n(43905),H=n(16714),Q=n(10495),J=["isItemsButton","onNavTabClick"],G=i.createElement,U=function(e){var t=e.isItemsButton,n=e.onNavTabClick,r=(0,P.A)(e,J),a=(0,d.Z2)(),c=a.user,l=a.isLoggedIn,u=(0,$.A)(),p=u.isCustomDefaultFeed,f=u.defaultFeedId,m=(0,Q.A)().customFeedPlacement,v=(0,i.useMemo)((function(){var e=p?"/my-feed":"/";return F.o&&!m&&(e="/my-feed"),p&&m&&(e="/feeds/".concat(f)),[l?{title:m?"Home":"My feed",path:e,action:function(){return null==n?void 0:n(p?H.Vl.MyFeed:"/")},icon:function(e){return m?G(X.f,{secondary:e}):G(R.Y3,{size:R.Ov.XSmall,user:c})}}:void 0,{title:"Following",path:"/following",action:function(){return null==n?void 0:n(K.iN.Following)},icon:function(e){return G(s.kp,{Icon:function(){return G(V._,{secondary:e})}})}},{icon:function(e){return G(s.kp,{Icon:function(){return G(T.T,{secondary:e})}})},title:"Explore",path:"/posts",action:function(){return null==n?void 0:n(K.iN.Explore)}},{icon:function(e){return G(s.kp,{Icon:function(){return G(z.b,{secondary:e})}})},title:"History",path:"".concat(_.ZO,"history"),isForcedLink:!0,requiresLogin:!0}].filter(Boolean)}),[l,c,p,n,m,f]);return G(Z,(0,o.A)({},r,{items:v,isItemsButton:t,className:"!mt-0"}))},W=n(92203),Y=n(43298),ee=n(18356),te=n(59904),ne=n(41260),oe=n(22111),re=n(9099),ae=["isItemsButton","onNavTabClick"],ie=i.createElement,ce=function(e){var t=e.isItemsButton,n=e.onNavTabClick,r=(0,P.A)(e,ae),a=(0,ne.V)().feeds,c=(0,$.A)().defaultFeedId,s=(0,re.U)({edges:null==a?void 0:a.edges}),l=(0,i.useMemo)((function(){var e,t=null!==(e=s.map((function(e){if(c===e.node.id){var t=["".concat(_.ZO,"feeds/").concat(e.node.id),"/"].includes(r.activePage);return{title:e.node.flags.name||"Feed ".concat(e.node.id),path:F.o?void 0:"/",action:F.o?function(){return null==n?void 0:n("default")}:void 0,icon:e.node.flags.icon||ie(Y.y,{secondary:t}),rightIcon:function(){return ie(ee.G,{secondary:!0,className:"text-surface-disabled"})},active:t}}var o="".concat(_.ZO,"feeds/").concat(e.node.id);return{title:e.node.flags.name||"Feed ".concat(e.node.id),path:o,icon:e.node.flags.icon||ie(Y.y,{secondary:r.activePage===o})}})))&&void 0!==e?e:[];return[].concat((0,W.A)(t),[{icon:function(){return ie("div",{className:"rounded-6 bg-background-subtle"},ie(te.c,null))},title:"Custom feed",path:"".concat(_.ZO,"feeds/new"),requiresLogin:!0,isForcedClickable:!0}]).filter(Boolean)}),[r.activePage,s,c,n]);return ie(Z,(0,o.A)({},r,{items:l,isItemsButton:t,flag:oe.X1.CustomFeedsExpanded}))},se=n(75570),le=n(32052),ue=n(26540),de=n(77955),pe=n(89883),fe=n(9495),me=n(71623),ve=["isItemsButton"],be=i.createElement,ye=function(e){e.isItemsButton;var t=(0,P.A)(e,ve),n=(0,fe.d)().completeAction,r=(0,d.Z2)().user,a=(0,pe.d)(),c=a.modal,l=a.openModal,u=(0,i.useMemo)((function(){return[{icon:function(e){return be(s.kp,{Icon:function(){return be(Y.y,{secondary:e})}})},title:"Tags",path:"".concat(_.ZO,"tags")},{icon:function(e){return be(s.kp,{Icon:function(){return be(se.O,{secondary:e})}})},title:"Sources",path:"".concat(_.ZO,"sources")},{icon:function(e){return be(s.kp,{Icon:function(){return be(V._,{secondary:e})}})},title:"Leaderboard",path:"".concat(_.ZO,"users")},{icon:function(e){return be(s.kp,{Icon:function(){return be(le.u,{secondary:e})}})},title:"Discussions",path:"".concat(_.ZO,"discussed"),action:function(){r&&n(me.X2.CommentFeed)}},{icon:function(e){return be(s.kp,{Icon:function(){return be(ue.q,{secondary:e})}})},title:"Submit a link",action:function(){return l({type:de.K2.SubmitArticle})},active:(null==c?void 0:c.type)===de.K2.SubmitArticle}].filter(Boolean)}),[n,null==c?void 0:c.type,l,r]);return be(Z,(0,o.A)({},t,{items:u,isItemsButton:!1,flag:oe.X1.OtherExpanded}))},ge=n(6724),he=n(23695),ke=n(36532),Ae=n(72255),Oe=n(80886),we=n(89338),Ne=n(50122),xe=n(2827),Se=n.n(xe),Pe=n(69918),Ce=n(14243),Ie=n(5947),je=n(82422),De=n(55059),qe=n(90087),Ee=n(47791);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){(0,Ne.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=["isItemsButton"],Le=i.createElement,Ze=function(e){var t,n,r,a,c,l,u,p,f,m,v,b,y,g=e.isItemsButton,h=(0,P.A)(e,Me),k=(t=(0,i.useContext)(je.Ay),n=t.alerts,r=t.updateAlerts,a=(0,M.A)().sidebarRendered,c=(0,Pe.jE)(),l=(0,d.Z2)().user,u=(0,K.$h)(K.jZ.Changelog,l,"latest-post"),p=(0,Ce.I)({queryKey:u,queryFn:De.kn,enabled:a&&!!n.changelog}).data,f=function(e){return c.setQueryData(u,(function(t){return Fe(Fe({},t),e(t))}))},m=(0,qe.o)({onMutate:function(e){var t,n=e.vote,o=Ee.TU[n];if(o){var r=null===(t=c.getQueryData(u))||void 0===t||null===(t=t.userState)||void 0===t?void 0:t.vote;return f(o),function(){var e=Ee.TU[r];e&&f(e)}}}}).toggleUpvote,v=(0,i.useMemo)((function(){if(!a)return!1;var e=Date.parse(null==n?void 0:n.lastChangelog),t=Date.parse(null==p?void 0:p.createdAt);return!Number.isNaN(e)&&!Number.isNaN(t)&&t>e}),[n.lastChangelog,null==p?void 0:p.createdAt,a]),b=(0,Ie.n)({mutationFn:function(){var e=new Date;return r({lastChangelog:e.toISOString()})}}),y=function(){var e=(0,we.A)(Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.isPending){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b.mutateAsync();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),{isAvailable:v,latestPost:p,dismiss:y,toggleUpvote:m}),A=(0,i.useMemo)((function(){return[{title:"Advertise",path:_.T1,icon:function(){return Le(s.kp,{Icon:function(){return Le(ge.s,null)}})},target:"_blank"},{icon:function(){return Le(s.kp,{Icon:function(){return Le(he.V,null)}})},title:"Docs",path:_.mN,target:"_blank"},{icon:function(){return Le(s.kp,{Icon:function(){return Le(ke.k,null)}})},title:"Changelog",path:"".concat(_.ZO,"sources/daily_updates"),rightIcon:function(){return k.isAvailable&&Le(Oe.I,{className:"-top-1 right-0",color:Oe.m.Cabbage})}},{icon:function(){return Le(s.kp,{Icon:function(){return Le(Ae.h,null)}})},title:"Feedback",path:_.mp,target:"_blank"}].filter(Boolean)}),[k.isAvailable]);return Le(Z,(0,o.A)({},h,{items:A,isItemsButton:g,flag:oe.X1.ResourcesExpanded}))},Xe=n(67380),Ve=n(15483),Te=n(62362),ze=n(36599),Re=n(61663),Ke=i.createElement,_e=function(){var e=(0,l.Mp)(),t=e.sidebarExpanded,n=e.toggleSidebarExpanded,o=(0,i.useContext)(Re.Ay).logEvent;return Ke("div",{className:a()("flex h-12 items-center",t?void 0:"justify-center")},Ke(Xe.o5,{type:Xe.kR.Callout,color:Xe.X8.Quaternary,bold:!0,className:a()("transition-all",t?"w-auto pl-4 opacity-100 delay-150":"hidden opacity-0")},"Menu"),Ke(ze.S,{placement:"right",content:"".concat(t?"Close":"Open"," sidebar")},Ke(v.$n,{variant:b.Ak.Tertiary,size:b.Mp.Small,onClick:function(){o({event_name:"".concat(t?"open":"close"," sidebar")}),n()},className:a()("z-1",t?"ml-auto mr-2":void 0),icon:Ke(t?Ve.n:Te.e,null)})))},$e=n(8942),He=n(71548),Qe=n(14890),Je=n(38817),Ge=n(46757),Ue=n(72870),We=n(75912),Ye=["isItemsButton"],et=i.createElement,tt=function(e){var t=e.isItemsButton,n=(0,P.A)(e,Ye),r=(0,pe.d)(),a=r.openModal,i=r.closeModal,c=(0,Je.u)().folders,l=(0,Ge.a)().createFolder,u=!(0,Ue.G6)(Ue.bh.Laptop)&&function(){return et(y.HK,{className:"rotate-90"})},d=[{icon:function(e){return et(s.kp,{Icon:function(){return et(He.c,{secondary:e})}})},title:"Quick saves",path:"".concat(_.ZO,"bookmarks"),isForcedLink:!0,requiresLogin:!0,rightIcon:u},{icon:function(e){return et(s.kp,{Icon:function(){return et(Qe.O,{secondary:e})}})},title:"Read it later",path:"".concat(_.ZO,"bookmarks/later"),isForcedLink:!0,requiresLogin:!0,rightIcon:u}].concat((0,W.A)((null!=c?c:[]).map((function(e){return{icon:e.icon||function(e){return et(s.kp,{Icon:function(){return et(We.s,{secondary:e})}})},title:e.name,path:"".concat(_.ZO,"bookmarks/").concat(e.id),isForcedLink:!0,requiresLogin:!0,rightIcon:u}}))),[{icon:function(){return et("div",{className:"rounded-6 bg-background-subtle"},et(te.c,{"aria-label":"Add"}))},title:"New folder",requiresLogin:!0,action:function(e){var t;e.preventDefault(),a({type:de.K2.BookmarkFolder,props:{onSubmit:(t=(0,we.A)(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:i();case 3:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}})}}]);return et(Z,(0,o.A)({},n,{items:d,isItemsButton:t,flag:oe.X1.BookmarksExpanded,isAlwaysOpenOnMobile:!0}))},nt=n(75192),ot=n(48191),rt=n(9149),at=n(17369),it=n(57952),ct=n(8952),st=n(41536),lt=n(16763),ut=i.createElement,dt=function(e){var t=e.className,n=e.image,o=e.name,r=e.handle;return ut(st._V,{title:o,src:null!=n?n:lt.N_,alt:"".concat(r,"'s logo"),fallbackSrc:lt.N_,className:a()("rounded-full object-cover",t),loading:"lazy"})},pt=n(15819),ft=n(48389),mt=n(36899),vt=n(87822);function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){(0,Ne.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt=["isItemsButton"],ht=i.createElement,kt=function(e){e.isItemsButton;var t=(0,P.A)(e,gt),n=(0,d.Z2)().squads,r=(0,ct.i)().openNewSquad,a=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.squadId,r=n.status,a=void 0===r?[ft._m.Pending]:r,c=n.enabled,s=void 0===c||c,l=(0,d.Z2)(),u=l.user,p=l.squads,f=(0,i.useMemo)((function(){return null==p?void 0:p.some((function(e){return(0,ft.pZ)(e,vt.Wk.ModeratePost)}))}),[p]),m=(0,pt.q)({queryKey:(0,K.$h)(K.jZ.SquadPostRequests,u,null!=o?o:"all",a),queryFn:(t=(0,we.A)(Se().mark((function e(t){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pageParam,e.abrupt("return",mt.e.request(ft.iF,{sourceId:o,status:a,after:n}).then((function(e){return e.sourcePostModerations})));case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),initialPageParam:"",getNextPageParam:function(e){return(0,K.iP)(null==e?void 0:e.pageInfo)},enabled:s&&(Boolean(o)||f),select:(0,i.useCallback)((function(e){if(e)return yt(yt({},e),{},{pages:e.pages.filter((function(e){return!(null==e||!e.edges.length)}))})}),[])});return yt(yt({},m),{},{count:(null==m||null===(e=m.data)||void 0===e||null===(e=e.pages.flatMap((function(e){return e.edges})))||void 0===e?void 0:e.length)||0,isModeratorInAnySquad:f})}({status:[ft._m.Pending]}),c=a.count,l=a.isModeratorInAnySquad,u=(0,i.useMemo)((function(){var e,t=null!==(e=null==n?void 0:n.map((function(e){var t=e.name,n=e.image,r=e.handle;return{icon:function(){return n?ht(dt,(0,o.A)({className:"h-5 w-5"},e)):ht(nt.H,null)},title:t,path:"".concat(_.ZO,"squads/").concat(r)}})))&&void 0!==e?e:[];return[l&&c>0&&{icon:function(){return ht(s.kp,{Icon:function(){return ht(ot.x,null)}})},title:"Pending Posts",path:"".concat(_.ZO,"squads/moderate"),rightIcon:function(){return ht(Xe.o5,{color:Xe.X8.Secondary,bold:!0,className:"rounded-6 bg-background-subtle px-1.5"},c)}},{icon:function(e){return ht(s.kp,{Icon:function(){return ht(rt.p,{secondary:e})}})},title:"Find Squads",path:"".concat(_.ZO,"squads"),isForcedLink:!0}].concat((0,W.A)(t),[{icon:function(){return ht(at.m,null)},title:"New Squad",action:function(){return r({origin:it.$e.Sidebar})},requiresLogin:!0}]).filter(Boolean)}),[r,n,c,l]);return ht(Z,(0,o.A)({},t,{items:u,isItemsButton:!1,flag:oe.X1.SquadExpanded}))},At=i.createElement,Ot=function(e){var t=e.activePage,n=e.featureTheme,r=e.isNavButtons,p=e.onNavTabClick,f=(0,c.useRouter)(),v=(0,l.Mp)(),y=v.sidebarExpanded,g=v.onboardingChecklistView,h=(0,u.Y)().isAvailable,k=(0,d.Z2)().isLoggedIn,A=t||f.asPath||f.pathname,O=(0,Q.A)().customFeedPlacement,w=(0,i.useMemo)((function(){return{sidebarExpanded:y,shouldShowLabel:y,activePage:A}}),[y,A]),N=(0,i.useMemo)((function(){var e=[At(kt,(0,o.A)({},w,{title:"Network",isItemsButton:r,key:"network-section"})),At(tt,(0,o.A)({},w,{title:"Bookmarks",isItemsButton:!1,key:"bookmark-section"}))];return O?e.reverse():e}),[w,O,r]),x=g===m.JV.Hidden;return At(s.t4,{"data-testid":"sidebar-aside",className:a()(y?"laptop:w-60":"laptop:w-11",h?"laptop:top-24 laptop:h-[calc(100vh-theme(space.24))]":"laptop:top-16 laptop:h-[calc(100vh-theme(space.16))]",n&&"bg-transparent")},At(s.tW,null,At(s.so,null,At(_e,null),At($e.X,{className:a()("mb-4 !flex whitespace-nowrap",y?"mx-4":"mx-auto"),compact:!y,size:y?b.Mp.Small:b.Mp.XSmall,showIcon:!0}),At(U,(0,o.A)({},w,{onNavTabClick:p,isItemsButton:r})),!O&&At(ce,(0,o.A)({},w,{onNavTabClick:p,title:"Custom feeds",isItemsButton:!1})),N,At(ye,(0,o.A)({},w,{title:"Discover",isItemsButton:r})),At(Ze,(0,o.A)({},w,{title:"Resources",isItemsButton:!1}))),k&&y&&!x&&At(i.Fragment,null,At("div",{className:"flex-1"}),At(S,null))))}},8301:(e,t,n)=>{n.d(t,{Cr:()=>k,KT:()=>u,RQ:()=>m,jl:()=>A,kp:()=>y,lb:()=>v,so:()=>f,t4:()=>d,tW:()=>p});var o=n(7527),r=n(22155),a=n(30395),i=n.n(a),c=n(63423),s=n(36599),l=r.createElement,u="flex flex-1 items-center pl-2 laptop:pl-0 pr-5 laptop:pr-3 h-10 laptop:h-8",d=((0,c.A)("div","fixed w-full h-full bg-overlay-quaternary-onion z-3 cursor-pointer inset-0"),(0,c.A)("aside","flex flex-col z-sidebarOverlay laptop:z-sidebar laptop:-translate-x-0 left-0 bg-background-default border-r border-border-subtlest-tertiary transition-[width,transform] duration-300 ease-in-out group fixed top-0  h-full ")),p=(0,c.A)("div","flex overflow-x-hidden overflow-y-auto flex-col h-full no-scrollbar"),f=(0,c.A)("nav","mb-4"),m=(0,c.A)("ul","mt-0 laptop:mt-4"),v=(0,c.A)("li","typo-callout text-text-quaternary h-8 flex items-center font-bold transition-opacity"),b=(0,c.A)("li","flex items-center typo-callout hover:bg-theme-active"),y=function(e){var t=e.Icon;return l(t,{className:"pointer-events-none h-5 w-5"})},g=function(e){var t=e.alert,n=e.icon,o=e.active,r=e.iconClassName;return l("span",{className:void 0===r?"relative px-3":r},t,n instanceof Function?n(o):n)},h=function(e){var t=e.alert,n=e.icon,r=e.title,a=e.tooltip,c=void 0===a?{}:a,u=e.active;return l(s.S,(0,o.A)({},c,{content:r,placement:"right"}),l("span",{className:i()("relative px-3",void 0!==c.visible&&"pointer-events-none")},t,n instanceof Function?n(u):n))},k=function(e){var t,n=e.item,a=e.shouldShowLabel,c=e.active,s=a?g:h;return l(r.Fragment,null,"string"==typeof n.icon?l(g,{icon:l("span",{className:"inline-block w-5 text-center"},n.icon)}):l(s,(0,o.A)({},n,{active:c})),l("span",{className:i()("flex-1 truncate text-left transition-opacity",a?"opacity-100 delay-150":"opacity-0",null==n||null===(t=n.className)||void 0===t?void 0:t.text),title:n.title},n.title),n.rightIcon&&l(g,(0,o.A)({},n,{icon:n.rightIcon,iconClassName:"relative"})))},A=(0,r.forwardRef)((function(e,t){var n=e.className,o=e.color,r=e.active,a=e.children,c=r?"text-text-primary":"hover:text-text-primary text-text-tertiary";return l(b,{ref:t,className:i()(n,o||c,r&&"bg-theme-active")},a)}));A.displayName="NavItem"},38817:(e,t,n)=>{n.d(t,{u:()=>c});var o=n(14243),r=n(85021),a=n(30530),i=n(80244),c=function(){var e=(0,i.Z2)(),t=e.isAuthReady,n=e.isLoggedIn,c=(0,o.I)({queryKey:(0,a.$h)(a.jZ.BookmarkFolders),queryFn:r.uC,staleTime:a.b2.Default,enabled:t&&n}),s=c.data;return{isPending:c.isPending,isSuccess:c.isSuccess,folders:null!=s?s:[]}}},46757:(e,t,n)=>{n.d(t,{a:()=>m});var o=n(50122),r=n(92203),a=n(69918),i=n(5947),c=n(85021),s=n(61663),l=n(57952),u=n(68392),d=n(30530);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(){var e=(0,s.DX)().logEvent,t=(0,u.mu)().displayToast,n=(0,a.jE)(),o=(0,i.n)({mutationFn:c.l0,onSuccess:function(o,a){var i=o.id;e({event_name:l.VB.CreateBookmarkFolder,target_id:i});var c=(0,d.$h)(d.jZ.BookmarkFolders);n.setQueryData(c,(function(e){return[].concat((0,r.A)(e),[f({id:i},a)]).sort((function(e,t){return e.name.localeCompare(t.name)}))})),t("".concat(o.name," has been created"))},onError:function(){t("Failed to create folder")}}),p=o.mutateAsync;return{isPending:o.isPending,createFolder:p}}},91850:(e,t,n)=>{n.d(t,{C:()=>u});var o=n(14243),r=n(22155),a=n(48389),i=n(36899),c=n(80244),s=n(68390),l=n(30530),u=function(e){var t=e.handle,n=(0,r.useContext)(c.Ay),u=n.isFetched,d=n.user,p=(0,l.$h)(l.jZ.Squad,d,t),f=(0,o.I)({queryKey:p,queryFn:function(){return(0,a.H8)(t)},enabled:u&&!!t,retry:!1}),m=f.data,v=f.isLoading,b=f.isFetched,y=f.error;return{squad:m,isLoading:v,isFetched:b,isForbidden:!(0,s.hX)(y)&&!!(0,i.Pd)(y,i.hD.Forbidden)}}},54448:(e,t,n)=>{n.d(t,{q:()=>d});var o=n(92203),r=n(50122),a=n(22155),i=n(69918),c=n(14243),s=n(68390);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var u=["checklistOpenStepKey"],d=function(e){var t=e.steps,n=(0,i.jE)(),d=(0,a.useMemo)((function(){var e;return null===(e=t.find((function(e){return!e.action.completedAt})))||void 0===e?void 0:e.action.type}),[t]),p=(0,c.I)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({queryKey:u,queryFn:function(){return n.getQueryData(u)||null},initialData:null},s.e_)),f=p.data,m=(0,a.useCallback)((function(e){n.setQueryData(u,(function(){return e})),n.invalidateQueries({queryKey:u})}),[n]);(0,a.useEffect)((function(){m(d)}),[n,m,d]);var v=(0,a.useCallback)((function(e){var t=f===e.type?null:e.type;m(t)}),[f,m]),b=(0,a.useMemo)((function(){return t.length>0&&t.every((function(e){return!!e.action.completedAt}))}),[t]),y=(0,a.useMemo)((function(){return t.filter((function(e){return!!e.action.completedAt}))}),[t]),g=(0,a.useMemo)((function(){return(0,o.A)(t).sort((function(e,t){return e.action.completedAt&&!t.action.completedAt?-1:!e.action.completedAt&&t.action.completedAt?1:0}))}),[t]),h=(0,a.useMemo)((function(){return null==t?void 0:t.find((function(e){return!y.some((function(t){return t.action===e.action}))}))}),[t,y]);return{steps:g,openStep:f,onToggleStep:v,isDone:b,activeStep:d,completedSteps:y,nextStep:h}}},16925:(e,t,n)=>{n.d(t,{V:()=>A});var o=n(50122),r=n(22155),a=n(9487),i=n(71623),c=n(89310),s=n(9495),l=n(54448),u=n(53823),d=n(83448),p=n(55346),f=n(54883),m=n(80244),v=n(52045),b=n(61663),y=n(57952),g=r.createElement;function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(){var e=(0,b.DX)().logEvent,t=(0,v.Mp)(),n=t.onboardingChecklistView,o=t.setOnboardingChecklistView,h=(0,a.useRouter)(),A=(0,m.Z2)(),O=A.isLoggedIn,w=A.user,N=(0,s.d)(),x=N.actions,S=N.isActionsFetched,P=N.completeAction,C=S&&O,I=(0,r.useMemo)((function(){return C?[(0,c.XD)({type:i.X2.MyFeed,step:{title:"Create a personal feed",description:"Customize your feed by selecting topics that interest you the most.",component:function(e){return g(p.V,e,g("div",{className:"flex"},g(u.$n,{variant:d.Ak.Primary,size:d.Mp.XSmall,onClick:function(){h.push("".concat(f.ZO,"feeds/").concat(w.id,"/edit"))}},"Customize your feed")))}},actions:x}),(0,c.XD)({type:i.X2.VotePost,step:{title:"Upvote or downvote a post",description:"Engage with the community by voting on posts based on their relevance and quality."},actions:x}),(0,c.XD)({type:i.X2.BookmarkPost,step:{title:"Bookmark your first post",description:"Save posts you find valuable for easy access later."},actions:x}),(0,c.XD)({type:i.X2.DigestConfig,step:{title:"Configure your personalized digest",description:"Adjust the frequency and send time of your personalized digest to help build a habit and stay updated.",component:function(e){return g(p.V,e,g("div",{className:"flex"},g(u.$n,{tag:"a",variant:d.Ak.Primary,size:d.Mp.XSmall,href:"".concat(f.ZO,"account/notifications"),onClick:function(){P(i.X2.DigestConfig)}},"Set up now")))}},actions:x}),(0,c.XD)({type:i.X2.StreakMilestone,step:{title:"Reach the first streaks milestone",description:"Read a post for two days in a row (or more) to achieve your first reading streak milestone.",component:function(e){return g(p.V,e,g("div",{className:"flex"},g(u.$n,{variant:d.Ak.Primary,size:d.Mp.XSmall,onClick:function(){var e=document.getElementById("reading-streak-header-button");e&&e.click()}},"Track your streak")))}},actions:x})]:[]}),[C,x,h,null==w?void 0:w.id,P]);return k(k({},(0,l.q)({steps:I})),{},{checklistView:n,setChecklistView:function(t){t===c.JV.Closed&&e({event_name:y.VB.ChecklistClose,target_id:y.TB.General}),o(t)},isChecklistReady:C})}},8952:(e,t,n)=>{n.d(t,{i:()=>d});var o=n(9487),r=n(22155),a=n(57952),i=n(28926),c=n(80244),s=n(54883),l=n(89883),u=n(77955),d=function(){var e=(0,c.Z2)(),t=e.user,n=e.showLogin,d=(0,o.useRouter)(),p=(0,l.d)().openModal,f="".concat(s.ZO,"squads/new"),m=(0,r.useCallback)((function(e){var o,r;if(!t)return null==e||null===(r=e.event)||void 0===r||r.preventDefault(),void n({trigger:i._f.CreateSquad});null==e||null===(o=e.event)||void 0===o||o.preventDefault(),null!=e&&e.pageRedirect?d.push("".concat(f,"?origin=").concat(e.origin)):p({type:u.K2.NewSquad})}),[t,p,n,d,f]),v=(0,r.useCallback)((function(e){var t=e.handle;d.push("".concat(s.ZO,"squads/").concat(t,"/edit"))}),[d]);return(0,r.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=Object.fromEntries(e);if(null!=t&&t.squad){var n=window.location,o=n.origin,r=n.pathname;m({origin:a.$e.Notification}),d.replace(o+r)}}),[d.pathname]),{openNewSquad:m,editSquad:v,newSquadUrl:f}}}}]);