"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[7511,9686],{84606:(e,t,n)=>{n.r(t),n.d(t,{OTHER_KEY:()=>b,ReasonSelectionModal:()=>y,default:()=>O});var r=n(7527),o=n(75087),a=n(22155),s=n(35234),u=n(53823),i=n(83448),c=n(94198),l=n(16714),p=n(72870),f=n(64142),m=["onReport","reasons","heading","title","footer","disabled"],d=a.createElement,b="OTHER";function y(e){var t=e.onReport,n=e.reasons,y=e.heading,O=e.title,g=e.footer,v=e.disabled,R=(0,o.A)(e,m),h=(0,a.useState)(null),A=h[0],S=h[1],C=(0,a.useState)(),E=C[0],k=C[1],w=(0,p.G6)(p.bh.MobileL),P={disabled:!A||A===b&&!E||v,onClick:function(e){return t(e,A,E)}};return d(c.aF,(0,r.A)({isOpen:!0,kind:c.aF.Kind.FixedCenter},R,{formProps:{form:null,title:y,rightButtonProps:P,copy:{right:"Submit report"}}}),d(c.aF.Header,{title:y}),d(c.aF.Body,{className:"py-5"},O&&d("p",{className:"mb-6 text-text-tertiary typo-callout"},O),d(s.s,{name:"report_reason",options:"function"==typeof n?n(A):n,value:A,onChange:S}),d("p",{className:"mb-1 mt-6 px-2 font-bold typo-caption1"},"Anything else you'd like to add?"),d("textarea",{onInput:function(e){return k(e.currentTarget.value)},onFocus:function(){A||S(f.dV.Other)},className:"mb-1 h-20 w-full resize-none self-stretch rounded-10 bg-surface-float p-2 typo-body","data-testid":"report_comment"}),w?g:null),d(c.aF.Footer,{justify:g&&!w?l.F1.Between:l.F1.End},w?null:g,d(u.$n,{variant:i.Ak.Primary,disabled:!A||A===b&&!E||v,onClick:function(e){return t(e,A,E)}},"Submit report")))}const O=y},27284:(e,t,n)=>{n.r(t),n.d(t,{ReportCommentModal:()=>A,default:()=>S});var r=n(7527),o=n(89338),a=n(75087),s=n(2827),u=n.n(s),i=n(22155),c=n(84606),l=n(5947),p=n(80244),f=n(28926),m=n(91201),d=n(99604);var b=n(61663),y=n(11924),O=n(57952),g=n(64142),v=["onReport","comment","post"],R=i.createElement,h=[{value:g.dV.Hateful,label:"Hateful or offensive content"},{value:g.dV.Harassment,label:"Harassment or bullying"},{value:g.dV.Spam,label:"Spam or scams"},{value:g.dV.Nsfw,label:"Explicit sexual content"},{value:g.dV.Misinformation,label:"False information or misinformation"},{value:g.dV.Other,label:"Other"}];function A(e){var t=e.onReport,n=e.comment,s=e.post,g=(0,a.A)(e,v),A=function(){var e=(0,i.useContext)(p.Ay),t=e.user,n=e.showLogin,r=(0,m.D)().requestMethod,a=(0,l.n)({mutationFn:function(e){return r(d.Nk,e)}}).mutateAsync,s=function(){var e=(0,o.A)(u().mark((function e(r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return n({trigger:f._f.ReportPost}),e.abrupt("return",{successful:!1});case 3:return e.next=5,a(r);case 5:return e.abrupt("return",{successful:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{reportComment:s}}(),S=A.reportComment,C=(0,b.DX)().logEvent,E=function(){var e=(0,o.A)(u().mark((function e(r,o,a){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({commentId:n.id,reason:o,note:a});case 2:if(i=e.sent,i.successful){e.next=6;break}return e.abrupt("return");case 6:C((0,y.P5)(O.VB.ReportComment,s,{extra:{commentId:n.id}})),"function"==typeof t&&t(n),g.onRequestClose(r);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return R(c.ReasonSelectionModal,(0,r.A)({},g,{isOpen:!0,onReport:E,reasons:h,heading:"Report comment"}))}const S=A},64142:(e,t,n)=>{n.d(t,{UR:()=>d,_q:()=>f,dV:()=>p,kt:()=>l});var r,o=n(50122),a=n(91591),s=n(2972),u=n(36899);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){return e.Post="post",e.Source="source",e.Comment="comment",e.User="user",e}({}),p=function(e){return e.Nsfw="NSFW",e.Other="OTHER",e.Broken="BROKEN",e.Clickbait="CLICKBAIT",e.Low="LOW",e.Irrelevant="IRRELEVANT",e.Spam="SPAM",e.Harassment="HARASSMENT",e.Hateful="HATEFUL",e.Copyright="COPYRIGHT",e.Privacy="PRIVACY",e.Miscategorized="MISCATEGORIZED",e.Misinformation="MISINFORMATION",e.Illegal="ILLEGAL",e}({}),f=(0,s.gql)(r||(r=(0,a.A)(["\n  mutation SendReport(\n    $type: ReportEntity!\n    $id: ID!\n    $reason: ReportReason!\n    $comment: String\n    $tags: [String]\n  ) {\n    sendReport(\n      type: $type\n      id: $id\n      reason: $reason\n      comment: $comment\n      tags: $tags\n    ) {\n      _\n    }\n  }\n"]))),m=function(e){return u.e.request(f,e)},d=function(e){return m(c(c({},e),{},{type:l.Source}))}}}]);