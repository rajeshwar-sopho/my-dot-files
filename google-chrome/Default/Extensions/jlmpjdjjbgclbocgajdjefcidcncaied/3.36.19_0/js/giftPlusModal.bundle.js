(self.webpackChunkextension=self.webpackChunkextension||[]).push([[1212],{28812:(e,t,n)=>{"use strict";n.d(t,{E:()=>c});var l=n(30395),o=n.n(l),r=n(22155),a=n(96878),i=n(27504),u=n(36599),s=r.createElement;function c(e){var t=e.className,n=e.users,l=e.selected,r=e.onClick,c=e.checkIsDisabled,d=e.disabledTooltip;return null!=n&&n.length?s("ul",{className:o()("flex flex-col overflow-hidden rounded-16 border border-border-subtlest-secondary text-text-primary",t),role:"listbox"},n.map((function(e,t){return s(i.A,{key:e.username,condition:(null==c?void 0:c(e))&&!!d,wrapper:function(e){return s(u.S,{content:d},s("div",null,e))}},s(a.u,{user:e,className:{container:o()("cursor-pointer p-3",null!=c&&c(e)?"pointer-events-none opacity-64":"cursor-pointer",t===l&&"bg-theme-active")},imageSize:"large",tag:"li",onClick:function(){return r(e)},"aria-selected":t===l,role:"option",disableTooltip:!0,showDescription:!1}))}))):null}},30355:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GiftPlusModal:()=>Y,GiftPlusModalComponent:()=>H,default:()=>Z});var l=n(7527),o=n(89338),r=n(98093),a=n(75087),i=n(2827),u=n.n(i),s=n(22155),c=n(14243),d=n(30395),p=n.n(d),v=n(94198),m=n(67380),f=n(49577),y=n(83448),g=n(53823),b=n(5566),h=n(89010),C=n(43660),k=n(9711),x=n(36899),w=n(99604),P=n(28812),N=n(6948),T=n(34229),S=s.createElement,E=function(e){return e.Success="bg-action-upvote-float",e.Help="bg-action-help-float",e}({});function O(e){var t=e.label,n=e.color,o=e.className,r=e.typographyProps,a=void 0===r?{}:r;return S(m.o5,(0,l.A)({tag:m.UL.Span,type:m.kR.Caption1},a,{className:p()("rounded-10 px-2 py-1",n,o),bold:!0}),t)}var A=n(33318),_=n(36504),I=n(95974),R=n(72870),D=n(41536),M=n(74502),F=n(38638),L=n(27504),j=n(63952),z=n(97838),U=n(23104),q=n(63423),V=n(25752),B=n(54883),G=["preselected","onSelected"],K=s.createElement,X=(0,q.A)("span","flex flex-row items-center justify-center");function H(e){var t,n,i,d,S,q=e.preselected,H=e.onSelected,Y=(0,a.A)(e,G),Z=(0,s.useState)(),W=Z[0],$=Z[1],J=Y.onRequestClose,Q=(0,h.P5)().giftOneYear,ee=(0,s.useState)(q),te=ee[0],ne=ee[1],le=(0,s.useState)(0),oe=le[0],re=le[1],ae=(0,s.useState)(""),ie=ae[0],ue=ae[1],se=(0,T.A)(ue,500),ce=(0,r.A)(se,1)[0],de=(0,c.I)({queryKey:["search","users",ie],queryFn:(S=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.e.request(w.EI,{query:ie});case 2:return t=e.sent,re(0),e.abrupt("return",t.recommendedMentions);case 5:case"end":return e.stop()}}),e)}))),function(){return S.apply(this,arguments)}),enabled:!(null==ie||!ie.length)}),pe=de.data,ve=!(null==pe||!pe.length||null==ie||!ie.length),me=(0,R.G6)(R.bh.Tablet);return K(v.aF,(0,l.A)({},Y,{isOpen:!0,kind:v.aF.Kind.FixedCenter,size:v.aF.Size.Small,overlayRef:$,isDrawerOnMobile:!0}),K(v.aF.Body,{className:"gap-4 tablet:!p-4"},K("div",{className:"flex flex-row justify-between"},K(b.R,{type:m.kR.Callout,bold:!0}),K(f.A,{type:"button",size:y.Mp.Small,onClick:J})),K(m.o5,{bold:!0,type:m.kR.Title1,className:"text-center"},"Gift daily.dev Plus ðŸŽ"),K("div",{className:"flex flex-col items-center gap-2"},K(D._V,{src:null!==(t=null==te?void 0:te.image)&&void 0!==t?t:M.Tv.avatar,className:p()(F.UZ.xxxxlarge,"rounded-26")}),q&&K(s.Fragment,null,K(X,null,K(m.o5,{bold:!0,type:m.kR.Title3},q.name),K(U.E,{className:"ml-0.5 !typo-footnote",user:{reputation:q.reputation},iconProps:{size:z.lK.XSmall},disableTooltip:!0})),K(X,null,K(m.o5,{type:m.kR.Footnote,color:m.X8.Secondary},"@",q.username),K(j.wv,null),K(V.A,{className:"text-text-quaternary typo-caption2",date:new Date(q.createdAt)})))),K(L.$,{condition:!q},te?K(_.l,{user:te,onClose:function(){return ne(null)}}):K("div",{className:"flex flex-col"},K(N.BaseTooltip,{appendTo:me?W:null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body,onClickOutside:function(){return ue("")},visible:ve,showArrow:!1,interactive:!0,content:K(P.E,{className:"w-[24rem]",users:pe,selected:oe,onClick:function(e){ne(e),re(0),ue("")},checkIsDisabled:function(e){return e.isPlus},disabledTooltip:"This user already has daily.dev Plus"}),container:{className:"shadow",paddingClassName:"p-0",roundedClassName:"rounded-16",bgClassName:"bg-accent-pepper-subtlest"}},K(C.A,{leftIcon:K(k.n,null),inputId:"search_user",fieldType:"tertiary",autoComplete:"off",label:"Select a recipient by name or handle",onKeyDown:function(e){[A.tg.Up,A.tg.Down,A.Rc.Enter].includes(e.key)&&null!=pe&&pe.length&&(e.preventDefault(),e.key===A.tg.Down?re((function(e){for(var t=e+1,n=0;null!==(l=pe[t%pe.length])&&void 0!==l&&l.isPlus;){var l;if(t+=1,(n+=1)>pe.length)return-1}return t%pe.length})):e.key===A.tg.Up?re((function(e){for(var t=e-1,n=0;null!==(l=pe[(t+pe.length)%pe.length])&&void 0!==l&&l.isPlus;){var l;if(t-=1,(n+=1)>pe.length)return-1}return(t+pe.length)%pe.length})):ne(pe[oe]))},onChange:function(e){return ce(e.currentTarget.value.trim())},onFocus:function(e){return ue(e.currentTarget.value.trim())}})))),K("div",{className:"flex w-full flex-row items-center gap-2 rounded-10 bg-surface-float p-2 py-3"},K(m.o5,{bold:!0,type:m.kR.Callout},"One-year plan"),(null==Q?void 0:Q.extraLabel)&&K(O,{color:E.Success,label:null==Q?void 0:Q.extraLabel,typographyProps:{color:m.X8.StatusSuccess}}),K(m.o5,{type:m.kR.Body,className:"ml-auto mr-1"},K("strong",{className:"mr-1"},null==Q||null===(i=Q.price)||void 0===i?void 0:i.formatted),null==Q?void 0:Q.currencyCode)),K(m.o5,{type:m.kR.Callout},"Gift one year of daily.dev Plus for ",null==Q||null===(d=Q.price)||void 0===d?void 0:d.formatted,". Once the payment is processed, theyâ€™ll be notified of your gift. This is a one-time purchase, not a recurring subscription."),K(I.A,{href:"".concat(B.ZO,"plus?gift=").concat(null==te?void 0:te.id),passHref:!0},K(g.$n,{tag:"a",disabled:!te,variant:y.Ak.Primary,onClick:function(){return null==H?void 0:H(te)}},"Gift & Pay ",null==Q?void 0:Q.price.formatted))))}function Y(e){return K(h.Pr,null,K(H,e))}const Z=Y},36504:(e,t,n)=>{"use strict";n.d(t,{l:()=>d});var l=n(22155),o=n(30395),r=n.n(o),a=n(38638),i=n(67380),u=n(49577),s=n(83448),c=l.createElement;function d(e){var t=e.user,n=e.onClose,l=e.className,o=t.username,d=t.name;return c("div",{className:r()("flex w-full max-w-full flex-row items-center gap-2 rounded-10 bg-surface-float p-2",l)},c(a.Y3,{user:t,size:a.Ov.Medium}),c("span",{className:"flex w-full flex-1 flex-row items-center gap-2 truncate"},c(i.o5,{bold:!0,type:i.kR.Callout},d),c(i.o5,{type:i.kR.Footnote,color:i.X8.Secondary},o)),c(u.A,{type:"button",onClick:n,size:s.Mp.XSmall}))}},5566:(e,t,n)=>{"use strict";n.d(t,{R:()=>d});var l=n(7527),o=n(22155),r=n(30395),a=n.n(r),i=n(67380),u=n(99193),s=n(97838),c=o.createElement;function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.className;return c(i.o5,(0,l.A)({tag:i.UL.Span,type:i.kR.Caption1,color:i.X8.Plus},e,{className:a()("flex flex-row items-center gap-0.5",t)}),c(u.d,{size:s.lK.XSmall})," Plus")}},25752:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var l=n(75087),o=n(22155),r=n(71087),a=["date"],i=o.createElement;function u(e){var t=e.date,n=(0,l.A)(e,a);return i("div",n,"JoinedÂ ",i("time",{dateTime:t.toISOString()},(0,r.A)(t,"MMMM y")))}},96878:(e,t,n)=>{"use strict";n.d(t,{u:()=>w});var l=n(7527),o=n(75087),r=n(30395),a=n.n(r),i=n(22155),u=n(38638),s=n(16714),c=n(48831),d=n(23104),p=n(4177),v=n(81712),m=n(69321),f=n(96451),y=n(88663),g=n(48389),b=["imageSize","tag","user","className","disableTooltip","scrollingContainer","appendTooltipTo","children","afterContent","showDescription","transformUsername","showFollow","showSubscribe","copyType","origin","feedId"],h=i.createElement,C="py-3 px-6 hover:bg-surface-hover",k="flex-1",x=function(e,t){var n,r,i,x,w=e.imageSize,P=void 0===w?u.Ov.Large:w,N=e.tag,T=e.user,S=e.className,E=void 0===S?{}:S,O=e.disableTooltip,A=e.scrollingContainer,_=e.appendTooltipTo,I=e.children,R=e.afterContent,D=e.showDescription,M=void 0===D||D,F=e.transformUsername,L=e.showFollow,j=e.showSubscribe,z=e.copyType,U=e.origin,q=e.feedId,V=(0,o.A)(e,b),B=N||"a",G=T.name,K=T.username,X=T.bio,H=T.companies,Y=T.isPlus,Z=T.role,W={appendTo:_||(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body)||"parent",visible:!O&&void 0};return h(B,(0,l.A)({ref:t},V,{className:a()("flex flex-row",null!==(r=E.container)&&void 0!==r?r:C)}),h(c.H,{userId:null==T?void 0:T.id,tooltip:W,scrollingContainer:A},h(u.Y3,{user:T,size:P,nativeLazyLoading:!0})),h(c.H,{userId:null==T?void 0:T.id,tooltip:W,scrollingContainer:A},h("div",{className:a()("ml-4 flex max-w-full flex-col overflow-auto typo-callout",null!==(i=E.textWrapper)&&void 0!==i?i:k)},h("div",{className:"flex items-center gap-1"},h(s.mE,{className:"font-bold typo-callout",title:G},G),Y&&h(f.R,{user:{isPlus:Y},tooltip:!1}),h(s.mE,{className:"text-text-tertiary typo-footnote",title:"@".concat(K)},F?F(T):"@".concat(K))),h("div",{className:"flex gap-2"},h(d.E,{user:T}),(null==H?void 0:H.length)>0&&h(p.m,{user:{companies:H}}),(0,g.cb)(Z)&&h(y.A,{role:Z},(0,s.mA)(Z))),X&&M&&h("span",{className:"text-text-tertiary typo-footnote"},X))),I,!!L&&h(m.W,{showSubscribe:j,entityId:T.id,type:v.ZD.User,status:null===(x=T.contentPreference)||void 0===x?void 0:x.status,entityName:"@".concat(T.username),origin:U,copyType:z,feedId:q}),h("div",{className:"z-1"},R))},w=(0,i.forwardRef)(x)},89010:(e,t,n)=>{"use strict";n.d(t,{Pr:()=>N,P5:()=>T});var l=n(50122),o=n(89338),r=n(2827),a=n.n(r),i=n(22155),u=n(63982),s=n(14243),c=n(9487),d=n(80244),p=n(54883),v=n(57952),m=n(92315),f=n(55551),y=n(16354),g=n(81602),b=n(62424),h=n(68390),C=(0,i.createContext)({trackSignup:function(){},trackPayment:function(){},trackEvent:function(){}}),k=i.createElement;function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=i.createContext(void 0);var N=function(e){var t=e.children,n=(0,c.useRouter)(),l=(0,d.Z2)(),r=l.user,x=l.geo,N=l.isValidRegion,T=(0,i.useContext)(C).trackPayment,S=(0,b.iT)(f.N4.pricingIds),E=(0,i.useState)(),O=E[0],A=E[1],_=(0,m.L)(),I=_.logSubscriptionEvent,R=_.isPlus,D=(0,i.useRef)();D.current=I,(0,i.useEffect)((function(){if(!(0,h.oX)()){var e=(0,u.getPaddleInstance)();e?A(e):(0,u.initializePaddle)({environment:"MISSING_ENV_VAR".NEXT_PUBLIC_PADDLE_ENVIRONMENT||"production",token:"topsecret",eventCallback:function(e){var t,l,o,r;switch(null==e?void 0:e.name){case u.CheckoutEventNames.CHECKOUT_PAYMENT_SELECTED:D.current({event_name:v.VB.SelectCheckoutPayment,target_id:null==e||null===(t=e.data)||void 0===t?void 0:t.payment.method_details.type});break;case u.CheckoutEventNames.CHECKOUT_COMPLETED:D.current({event_name:"gifter_id"in e.data.custom_data?v.VB.CompleteGiftCheckout:v.VB.CompleteCheckout,extra:{user_id:"gifter_id"in e.data.custom_data&&"user_id"in e.data.custom_data?e.data.custom_data.user_id:void 0,cycle:null!==(l=null==e||null===(o=e.data.items)||void 0===o||null===(o=o[0])||void 0===o||null===(o=o.billing_cycle)||void 0===o?void 0:o.interval)&&void 0!==l?l:"one-off",localCost:null==e?void 0:e.data.totals.total,localCurrenct:null==e?void 0:e.data.currency_code,payment:null==e?void 0:e.data.payment.method_details.type}}),T(null==e?void 0:e.data.totals.total,null==e?void 0:e.data.currency_code,null==e||null===(r=e.data)||void 0===r?void 0:r.transaction_id),n.push(p.j$);break;case"checkout.warning":D.current({event_name:v.VB.WarningCheckout});break;case u.CheckoutEventNames.CHECKOUT_ERROR:D.current({event_name:v.VB.ErrorCheckout})}}}).then((function(e){e&&A(e)}))}}),[n,T]);var M=(0,i.useCallback)((0,o.A)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null==O?void 0:O.PricePreview({items:Object.keys(S).map((function(e){return{priceId:e,quantity:1}})),address:(null==x?void 0:x.region)&&{countryCode:x.region}}));case 1:case"end":return e.stop()}}),e)}))),[O,S,null==x?void 0:x.region]),F=(0,s.I)({queryKey:["productPrices",r,S],queryFn:M,enabled:!!(O&&S&&x&&r)}),L=F.data,j=F.isLoading,z=(0,i.useMemo)((function(){var e,t,n,l,o=new Intl.NumberFormat(null!==(e=null===globalThis||void 0===globalThis||null===(t=globalThis.navigator)||void 0===t?void 0:t.language)&&void 0!==e?e:"en-US",{minimumFractionDigits:2});return null!==(n=null==L||null===(l=L.data)||void 0===l||null===(l=l.details)||void 0===l||null===(l=l.lineItems)||void 0===l?void 0:l.map((function(e){var t,n,l,r,a,i=!(null!==(t=e.price)&&void 0!==t&&null!==(t=t.billingCycle)&&void 0!==t&&t.interval),u="year"===(null===(n=e.price)||void 0===n||null===(n=n.billingCycle)||void 0===n?void 0:n.interval),s=i||u?y.qf.Yearly:y.qf.Monthly,c=(0,g.y8)(e),d=s===y.qf.Yearly?12:1,p=Number((c/d).toString().match(/^-?\d+(?:\.\d{0,2})?/)[0]),v=null==L?void 0:L.data.currencyCode,m=e.formattedTotals.total.replace(/\d|\.|\s|,/g,"");return{label:e.price.name,value:e.price.id,price:{amount:c,formatted:e.formattedTotals.total,monthlyAmount:p,monthlyFormatted:"".concat(m).concat(o.format(p))},currencyCode:v,currencySymbol:m,extraLabel:null===(l=e.price.customData)||void 0===l?void 0:l.label,appsId:null!==(r=null===(a=e.price.customData)||void 0===a?void 0:a.appsId)&&void 0!==r?r:y.lL.Default,duration:s,trialPeriod:e.price.trialPeriod}})))&&void 0!==n?n:[]}),[null==L?void 0:L.data]),U=(0,i.useMemo)((function(){var e;return null===(e=z.find((function(e){return e.appsId===y.lL.EarlyAdopter})))||void 0===e?void 0:e.value}),[z]),q=(0,i.useMemo)((function(){return z.find((function(e){return e.appsId===y.lL.GiftOneYear}))}),[z]),V=(0,i.useMemo)((function(){return z.some((function(e){return!!e.trialPeriod}))}),[z]),B=(0,i.useCallback)((function(e){var t=e.priceId,n=e.giftToUserId;R&&t!==(null==q?void 0:q.value)||N&&(null==O||O.Checkout.open({items:[{priceId:t,quantity:1}],customer:{email:null==r?void 0:r.email},customData:w({user_id:null!=n?n:null==r?void 0:r.id},!!n&&{gifter_id:null==r?void 0:r.id}),settings:{displayMode:"inline",frameTarget:"checkout-container",frameInitialHeight:500,frameStyle:"width: 100%; background-color: transparent; border: none;",theme:"dark"}}))}),[null==q?void 0:q.value,R,N,null==O?void 0:O.Checkout,null==r?void 0:r.email,null==r?void 0:r.id]),G=(0,i.useMemo)((function(){return{openCheckout:B,paddle:O,productOptions:z.filter((function(e){return e.value!==(null==q?void 0:q.value)})),earlyAdopterPlanId:U,isPlusAvailable:N,giftOneYear:q,isPricesPending:j,isFreeTrialExperiment:V}}),[q,U,B,O,z,N,j,V]);return k(P.Provider,{value:G},t)},T=function(){return(0,i.useContext)(P)}},63982:()=>{}}]);