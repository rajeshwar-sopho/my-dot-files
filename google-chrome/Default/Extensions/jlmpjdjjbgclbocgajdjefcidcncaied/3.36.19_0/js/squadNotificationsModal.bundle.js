"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[7892],{91988:(e,t,n)=>{n.r(t),n.d(t,{SquadNotificationsModal:()=>S,default:()=>F});var o=n(7527),s=n(75087),i=n(22155),d=n(69918),a=n(94198),r=n(79227),u=n(87822),c=n(68334),l=n(31121),m=n(30530),f=n(80244),w=n(85548),h=n(30395),p=n.n(h),_=["className","children"],y=i.createElement;function N(e){var t=e.className,n=e.children,i=(0,s.A)(e,_);return y("a",(0,o.A)({},i,{className:p()("text-text-link underline hover:no-underline",t)}),n)}var b=n(54883),v=["onRequestClose","squad"],q=i.createElement;function S(e){var t=e.onRequestClose,n=e.squad,h=(0,s.A)(e,v),p=(0,r.G)({params:[{referenceId:null==n?void 0:n.id,notificationType:l._n.SquadPostAdded},{referenceId:null==n?void 0:n.id,notificationType:l._n.SquadMemberJoined}],squad:n}),_=p.preferences,y=p.isPreferencesReady,S=p.muteNotification,F=p.clearNotificationPreference,P=p.showSourceFeedPosts,g=p.hideSourceFeedPosts,M=(0,d.jE)(),k=(0,f.Z2)().user,A=M.getQueryData((0,m.$h)(m.jZ.Squad,k,null==n?void 0:n.handle)),x=(0,i.useMemo)((function(){var e;return{hideFeedPosts:null==A||null===(e=A.currentMember)||void 0===e||null===(e=e.flags)||void 0===e?void 0:e.hideFeedPosts,mutedNewPosts:null==_?void 0:_.some((function(e){return(0,r.Q)(e,l._n.SquadPostAdded,null==n?void 0:n.id,[w.nb.Muted])})),mutedNewMembers:null==_?void 0:_.some((function(e){return(0,r.Q)(e,l._n.SquadMemberJoined,null==n?void 0:n.id,[w.nb.Muted])}))}}),[_,n,A]),I=x.hideFeedPosts,C=x.mutedNewPosts,T=x.mutedNewMembers;return y?q(a.aF,(0,o.A)({},h,{isOpen:!0,onRequestClose:t,kind:a.aF.Kind.FlexibleCenter,size:a.aF.Size.Small}),q(a.aF.Header,{title:"Notifications"}),q(a.aF.Body,{className:"gap-3"},q(c.d,{"data-testid":"show_new_posts-switch",inputId:"show_new_posts-switch",name:"show_new_posts",className:"w-20",compact:!1,checked:!I,onToggle:I?P:g},"Show new posts on my feed"),q(c.d,{"data-testid":"notify_new_posts-switch",inputId:"notify_new_posts-switch",name:"notify_new_posts",className:"w-20",compact:!1,checked:!C,onToggle:function(){return(C?F:S)({type:l._n.SquadPostAdded,referenceId:n.id})}},"Notify me about new posts"),n.currentMember.role===u._h.Admin&&q(c.d,{"data-testid":"notify_new_members-switch",inputId:"notify_new_members-switch",name:"notify_new_members",className:"w-20",compact:!1,checked:!T,onToggle:function(){return(T?F:S)({type:l._n.SquadMemberJoined,referenceId:n.id})}},"Notify me about new members"),q("p",{className:"text-text-tertiary typo-callout"},"For more options, go to your",q(N,{className:"ml-1",href:"".concat(b.ZO,"account/notifications")},"notifications settings")))):null}const F=S}}]);