"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[5635],{19217:(e,n,t)=>{t.d(n,{T:()=>d});var r,o=t(7527),a=t(22155),i=t(97838);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c.apply(null,arguments)}const l=function(e){return a.createElement("svg",c({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M6.091 8.625a.844.844 0 01.115 1.68l-.115.008c-.727 0-1.324.552-1.396 1.26l-.008.143v6.19c0 .728.554 1.327 1.263 1.4l.144.006h6.185c.728 0 1.327-.553 1.399-1.262l.007-.144a.844.844 0 111.687 0 3.094 3.094 0 01-2.905 3.088L12.28 21H6.094a3.094 3.094 0 01-3.088-2.905L3 17.906v-6.19a3.091 3.091 0 013.091-3.091zM17.906 3a3.094 3.094 0 013.088 2.905l.005.189v6.187a3.094 3.094 0 01-2.905 3.088l-.188.006h-6.189A3.094 3.094 0 018.63 12.47l-.005-.189V6.094a3.094 3.094 0 012.905-3.088L11.717 3h6.189zm0 1.688h-6.189c-.728 0-1.327.553-1.399 1.262l-.007.144v6.187c0 .728.554 1.327 1.263 1.4l.143.007h6.189c.728 0 1.327-.554 1.399-1.263l.007-.144V6.094c0-.728-.554-1.327-1.263-1.4l-.143-.006z",fill:"currentcolor",fillRule:"evenodd"})))};var s;function u(){return u=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},u.apply(null,arguments)}const p=function(e){return a.createElement("svg",u({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),s||(s=a.createElement("path",{d:"M6.091 8.625a.844.844 0 01.115 1.68l-.115.008c-.727 0-1.324.552-1.396 1.26l-.008.143v6.19c0 .728.554 1.327 1.263 1.4l.144.006h6.185c.728 0 1.327-.553 1.399-1.262l.007-.144a.844.844 0 111.687 0 3.094 3.094 0 01-2.905 3.088L12.28 21H6.094a3.094 3.094 0 01-3.088-2.905L3 17.906v-6.19a3.091 3.091 0 013.091-3.091zM17.906 3a3.094 3.094 0 013.088 2.905l.005.189v6.187a3.094 3.094 0 01-2.905 3.088l-.188.006h-6.189A3.094 3.094 0 018.63 12.47l-.005-.189V6.094a3.094 3.094 0 012.905-3.088L11.717 3h6.189z",fill:"currentcolor",fillRule:"evenodd"})))};var v=a.createElement,d=function(e){return v(i.Ay,(0,o.A)({},e,{IconPrimary:l,IconSecondary:p}))}},81555:(e,n,t)=>{t.d(n,{r:()=>d});var r,o=t(7527),a=t(22155),i=t(97838);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c.apply(null,arguments)}const l=function(e){return a.createElement("svg",c({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M16.667 4.5a4.833 4.833 0 014.828 4.618l.005.215v5.33a4.833 4.833 0 01-4.618 4.829l-.215.005H8.333a4.833 4.833 0 01-4.828-4.618l-.005-.216v-5.33a4.833 4.833 0 014.618-4.828l.215-.005h8.334zm0 1.5H8.333a3.333 3.333 0 00-3.328 3.15L5 9.333v5.33a3.333 3.333 0 003.15 3.329l.183.005h8.334a3.333 3.333 0 003.328-3.15l.005-.184v-5.33a3.333 3.333 0 00-3.15-3.328L16.667 6zm1.68 3.396c.269.42.175 1-.21 1.294l-5.03 3.846a1 1 0 01-1.215 0l-5.03-3.846c-.384-.294-.478-.874-.208-1.294.27-.42.8-.522 1.185-.228l4.66 3.564 4.662-3.564c.385-.294.916-.192 1.185.228z",fill:"currentcolor",fillRule:"evenodd"})))};var s;function u(){return u=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},u.apply(null,arguments)}const p=function(e){return a.createElement("svg",u({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),s||(s=a.createElement("path",{d:"M17 4.8l.22.006a4 4 0 013.774 3.775L21 8.8v6.396l-.006.22a4 4 0 01-3.775 3.774l-.219.006H7l-.22-.006a4 4 0 01-3.774-3.775L3 15.196V8.8l.006-.22A4 4 0 016.78 4.807L7 4.8h10zm2.015 4.075c-.298-.465-.864-.605-1.312-.346l-.11.073L12 12.878 6.406 8.602c-.461-.353-1.098-.23-1.421.273a1.19 1.19 0 00.142 1.458l.108.095 6.036 4.615a1.2 1.2 0 001.324.089l.134-.09 6.036-4.614c.461-.353.574-1.048.25-1.553z",fill:"currentcolor",fillRule:"evenodd"})))};var v=a.createElement,d=function(e){return v(i.Ay,(0,o.A)({},e,{IconPrimary:l,IconSecondary:p}))}},16125:(e,n,t)=>{t.d(n,{h:()=>f});var r,o=t(7527),a=t(22155),i=t(97838);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c.apply(null,arguments)}const l=function(e){return a.createElement("svg",c({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M20.765 4.02l-.14.007c-.512.044-1.303.293-3.517 1.182L13.41 6.732c-1.916.805-5.334 2.28-10.255 4.423-.872.347-1.329.686-1.37 1.018-.055.44.367.671 1.015.896l.975.314c.94.305 2.205.663 2.863.677.596.013 1.262-.233 1.997-.738l6.61-4.418c.712-.464 1.098-.703 1.158-.716.115-.026.274-.059.381.037.108.096.097.277.086.326-.091.388-4.803 4.674-5.075 4.956l-.26.26c-.951.93-1.803 1.575-.136 2.673l1.078.72c.665.448 1.25.852 1.927 1.307l1.105.734c1.035.679 1.848 1.484 2.917 1.385.492-.045 1-.508 1.259-1.888l.309-1.697c.64-3.59 1.542-9.068 1.777-11.543a3.248 3.248 0 00-.03-.725c-.025-.143-.076-.347-.263-.499-.22-.179-.561-.216-.713-.214z",fill:"currentcolor",fillRule:"evenodd"})))};var s,u;function p(){return p=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},p.apply(null,arguments)}const v=function(e){return a.createElement("svg",p({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),s||(s=a.createElement("defs",null,a.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"99.258%",id:"secondary_svg__a"},a.createElement("stop",{stopColor:"#2AABEE",offset:"0%"}),a.createElement("stop",{stopColor:"#229ED9",offset:"100%"})))),u||(u=a.createElement("g",{fillRule:"nonzero",fill:"none"},a.createElement("circle",{fill:"url(#secondary_svg__a)",cx:12,cy:12,r:10}),a.createElement("path",{d:"M6.527 11.894c2.915-1.27 4.859-2.107 5.831-2.512 2.777-1.155 3.355-1.355 3.73-1.362.083-.001.268.02.388.116a.421.421 0 01.142.271c.014.078.03.255.017.394-.15 1.581-.801 5.418-1.133 7.19-.14.749-.416 1-.683 1.025-.58.053-1.022-.384-1.584-.753-.88-.577-1.378-.936-2.232-1.499-.987-.65-.347-1.008.215-1.593.148-.153 2.706-2.48 2.756-2.691.006-.026.012-.125-.047-.177-.058-.052-.144-.034-.207-.02-.088.02-1.494.95-4.218 2.788-.399.274-.76.408-1.084.4-.357-.007-1.044-.201-1.555-.367-.626-.204-1.124-.311-1.08-.657.022-.18.27-.364.744-.553z",fill:"currentcolor"}))))};var d=a.createElement,f=function(e){return d(i.Ay,(0,o.A)({},e,{IconPrimary:l,IconSecondary:v}))}},23804:(e,n,t)=>{t.r(n),t.d(n,{default:()=>w});var r=t(7527),o=t(50122),a=t(75087),i=t(22155),c=t(81633),l=t(59421),s=t(61663),u=t(11924),p=t(94198),v=t(16354),d=t(72870),f=["post","comment","origin","columns","column","row","parentSelector","onRequestClose"],h=i.createElement;function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){(0,o.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(e){var n=e.post,t=e.comment,o=e.origin,m=e.columns,w=e.column,b=e.row,O=e.parentSelector,y=e.onRequestClose,S=(0,a.A)(e,f),k=!!t,j=(0,d.G6)(d.bh.MobileL),E=(0,i.useContext)(s.Ay).logEvent,A=function(e,r){return E((0,u.P5)(e,n,{extra:g(g({},r),{},{origin:o,variant:v.Hx.PostCardShareVersion},t&&{commentId:t.id}),columns:m,column:w,row:b}))};(0,i.useEffect)((function(){return A("open share"),function(){return A("close share")}}),[]);var x=(0,c.uh)({onSwipedDown:function(e){0===e.event.currentTarget.scrollTop&&y(e)}}),C=(0,i.useState)();return h(p.aF,(0,r.A)({size:p.aF.Size.Small,kind:p.aF.Kind.FlexibleCenter,onRequestClose:y},S,{parentSelector:O,className:"overflow-hidden",isDrawerOnMobile:!0,shouldCloseOnOverlayClick:!j||!C[0]}),h(p.aF.Header,{title:k?"Share comment":"Share post"}),h(p.aF.Body,x,h(l.T,{post:n,comment:t,origin:o,columns:m,column:w,row:b,onClose:function(){return y(null)},parentSelector:O,shareToSquadState:C})))}},8483:(e,n,t)=>{t.d(n,{A:()=>d});var r=t(7527),o=t(75087),a=t(22155),i=t(27504),c=t(38638),l=t(55052),s=t(16763),u=t(91201),p=["source","rounded","isLink"],v=a.createElement;const d=function(e){var n=e.source,t=e.rounded,a=void 0===t?"full":t,d=e.isLink,f=(0,o.A)(e,p),h=(0,u.D)().isCompanion;return v(i.A,{condition:!!d,wrapper:function(e){return v(l.y,{href:n.permalink},e)}},v(c.Y3,(0,r.A)({},f,{rounded:a,user:{id:n.id,image:n.image,username:n.handle},fallbackSrc:s.N_,nativeLazyLoading:h})))}},70962:(e,n,t)=>{t.d(n,{g:()=>m});var r=t(22155),o=t(48389),a=t(87822),i=t(8483),c=t(63037),l=t(80244),s=t(57952),u=t(59904),p=t(8952),v=t(83448),d=t(19505),f=t(38638),h=r.createElement;function m(e){var n=e.isLoading,t=e.onClick,m=e.size,g=void 0===m?v.Mp.Large:m,w=e.squadAvatarSize,b=void 0===w?f.Ov.XLarge:w,O=(0,l.Z2)().squads,y=(0,p.i)().openNewSquad,S=(0,r.useMemo)((function(){var e;return null!==(e=null==O?void 0:O.filter((function(e){return e.active&&(0,o.pZ)(e,a.Wk.Post)})).map((function(e){return h(c.$,{key:e.id,onClick:function(n){return t(n,e)},icon:h(i.A,{source:e,size:b}),size:g,label:"@".concat(e.handle),disabled:n})})))&&void 0!==e?e:[]}),[O,n,t,g,b]);return S.length?h(r.Fragment,null,S):h(c.$,{onClick:function(){return y({origin:s.$e.Share,pageRedirect:!0})},icon:h(u.c,{className:"text-surface-invert"}),variant:v.Ak.Primary,color:d.h.Cabbage,className:"!rounded-full",label:"New Squad",size:g})}},59421:(e,n,t)=>{t.d(n,{T:()=>A});var r=t(89338),o=t(50122),a=t(98093),i=t(2827),c=t.n(i),l=t(22155),s=t(46721),u=t(11924),p=t(57952),v=t(61663),d=t(99604),f=t(72549),h=t(8660),m=t(98235),g=t(70962),w=t(32929),b=t(2941),O=t(37673),y=t(80244),S=t(92339),k=l.createElement;function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,o.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var A=function(e){var n=e.post,t=e.comment,o=e.origin,i=e.columns,j=e.column,A=e.row,x=e.onClose,C=e.parentSelector,P=e.shareToSquadState,L=!!t,T=(0,y.Z2)(),M=T.user,D=T.isAuthReady,z=L?"".concat(null==n?void 0:n.commentsPermalink).concat((0,d.M$)(t.id)):null==n?void 0:n.commentsPermalink,N=L?O.p.ShareComment:O.p.SharePost,q=D&&M?(0,s.qC)({link:z,userId:M.id,cid:N}):z,R=(0,b.h)().getShortUrl,U=(0,m.L)(),$=(0,a.A)(U,2),I=$[0],F=$[1],B=(0,l.useContext)(v.Ay).logEvent,J=(0,f.P)(p.$e.Share).openNativeSharePost,_=(0,a.A)(P,2),H=_[0],Z=_[1],V=function(e){return B((0,u.P5)("share post",n,{columns:i,column:j,row:A,extra:E({provider:e,origin:o},t&&{commentId:t.id})}))},X=function(){var e=(0,r.A)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(q);case 2:n=e.sent,F({link:n}),V(s.JA.CopyLink);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return k(l.Fragment,null,!L&&!n.private&&k(h.k,{title:"Share with your squad",className:"mb-4"},k(g.g,{onClick:function(e,n){return Z(n)}})),k(h.k,{title:"Share externally"},k(w.D,{link:q,description:null==n?void 0:n.title,isCopying:I,onCopy:X,onNativeShare:function(){return J(n)},onClickSocial:V,emailTitle:"I found this amazing post"})),H&&k(S.CreateSharedPostModal,{isOpen:!0,preview:n,squad:H,onSharedSuccessfully:function(){B((0,u.P5)(p.VB.ShareToSquad,n)),x&&x()},parentSelector:C,onRequestClose:function(){return Z(null)}}))}},63037:(e,n,t)=>{t.d(n,{$:()=>g});var r,o=t(7527),a=t(75087),i=t(50122),c=t(22155),l=t(30395),s=t.n(l),u=t(83448),p=t(53823),v=t(63423),d=["href","icon","label","size"],f=c.createElement,h=(0,v.A)("span","text-text-tertiary cursor-pointer"),m=(r={},(0,i.A)(r,u.Mp.Large,"typo-caption2"),(0,i.A)(r,u.Mp.Medium,"typo-caption1"),r),g=function(e){var n=e.href,t=e.icon,r=e.label,i=e.size,l=void 0===i?u.Mp.Large:i,v=(0,a.A)(e,d),g=(0,c.useRef)(),w=n&&{href:n,rel:"noopener",target:"blank",tag:"a"};return f("div",{className:"flex w-16 flex-col items-center"},f(p.$n,(0,o.A)({},w,v,{"data-testid":"social-share-".concat(r),size:l,icon:t,ref:g})),f(h,{className:s()("mt-1.5 max-w-16 overflow-hidden overflow-ellipsis text-center",m[l]),onClick:function(){var e;return null==g||null===(e=g.current)||void 0===e?void 0:e.click()}},r))}},8660:(e,n,t)=>{t.d(n,{k:()=>c});var r=t(22155),o=t(30395),a=t.n(o),i=r.createElement;function c(e){var n=e.title,t=e.className,r=e.children;return i("section",{className:a()("flex flex-col",t)},i("h4",{className:"font-bold typo-callout"},n),i("div",{className:"tablet:overflow no-scrollbar mt-4 flex w-fit max-w-full flex-row gap-4 overflow-x-scroll tablet:grid tablet:grid-cols-5 tablet:overflow-hidden"},r))}},32929:(e,n,t)=>{t.d(n,{D:()=>k});var r=t(89338),o=t(2827),a=t.n(o),i=t(22155),c=t(63037),l=t(46721),s=t(19217),u=t(9064),p=t(27179),v=t(63913),d=t(39850),f=t(71212),h=t(16125),m=t(81555),g=t(60471),w=t(97838),b=t(83448),O=t(19505),y=t(2941),S=i.createElement;function k(e){var n,t=e.link,o=e.emailTitle,k=e.description,j=e.isCopying,E=e.onCopy,A=e.onNativeShare,x=e.onClickSocial,C=e.shortenUrl,P=void 0===C||C,L=(0,y.h)().getShortUrl,T=function(){var e=(0,r.A)(a().mark((function e(n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(n),!P){e.next=7;break}return e.next=4,L(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=t;case 8:r=e.t0,i=(0,l.g6)({provider:n,link:r,text:n===l.JA.Email&&null!=o?o:k}),window.open(i,"_blank");case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return S(i.Fragment,null,E&&S(c.$,{onClick:E,icon:S(s.T,{secondary:j}),variant:b.Ak.Primary,label:j?"Copied!":"Copy link"}),S(c.$,{icon:S(u.F,null),variant:b.Ak.Primary,color:O.h.Twitter,onClick:function(){return T(l.JA.Twitter)},label:"X"}),S(c.$,{icon:S(p.Y,null),onClick:function(){return T(l.JA.WhatsApp)},variant:b.Ak.Primary,color:O.h.WhatsApp,label:"WhatsApp"}),S(c.$,{icon:S(v.i,null),variant:b.Ak.Primary,color:O.h.Facebook,onClick:function(){return T(l.JA.Facebook)},label:"Facebook"}),S(c.$,{icon:S(d.G,null),variant:b.Ak.Primary,color:O.h.Reddit,onClick:function(){return T(l.JA.Reddit)},label:"Reddit"}),S(c.$,{icon:S(f.k,null),variant:b.Ak.Primary,color:O.h.LinkedIn,onClick:function(){return T(l.JA.LinkedIn)},label:"LinkedIn"}),S(c.$,{icon:S(h.h,null),variant:b.Ak.Primary,color:O.h.Telegram,onClick:function(){return T(l.JA.Telegram)},label:"Telegram"}),S(c.$,{icon:S(m.r,null),variant:b.Ak.Primary,onClick:function(){return T(l.JA.Email)},label:"Email"}),(null===globalThis||void 0===globalThis||null===(n=globalThis.navigator)||void 0===n?void 0:n.share)&&S(c.$,{icon:S(g.Z,{size:w.lK.Large,className:"rotate-90"}),variant:b.Ak.Primary,onClick:A,label:"Share via..."}))}},8952:(e,n,t)=>{t.d(n,{i:()=>p});var r=t(9487),o=t(22155),a=t(57952),i=t(28926),c=t(80244),l=t(54883),s=t(89883),u=t(77955),p=function(){var e=(0,c.Z2)(),n=e.user,t=e.showLogin,p=(0,r.useRouter)(),v=(0,s.d)().openModal,d="".concat(l.ZO,"squads/new"),f=(0,o.useCallback)((function(e){var r,o;if(!n)return null==e||null===(o=e.event)||void 0===o||o.preventDefault(),void t({trigger:i._f.CreateSquad});null==e||null===(r=e.event)||void 0===r||r.preventDefault(),null!=e&&e.pageRedirect?p.push("".concat(d,"?origin=").concat(e.origin)):v({type:u.K2.NewSquad})}),[n,v,t,p,d]),h=(0,o.useCallback)((function(e){var n=e.handle;p.push("".concat(l.ZO,"squads/").concat(n,"/edit"))}),[p]);return(0,o.useEffect)((function(){var e=new URLSearchParams(window.location.search),n=Object.fromEntries(e);if(null!=n&&n.squad){var t=window.location,r=t.origin,o=t.pathname;f({origin:a.$e.Notification}),p.replace(r+o)}}),[p.pathname]),{openNewSquad:f,editSquad:h,newSquadUrl:d}}},81633:(e,n,t)=>{t.d(n,{uh:()=>g});var r=t(22155);const o="Left",a="Right",i="Up",c="Down",l={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},s={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},u="mousemove",p="mouseup",v="touchend",d="touchmove",f="touchstart";function h(e,n){if(0===n)return e;const t=Math.PI/180*n;return[e[0]*Math.cos(t)+e[1]*Math.sin(t),e[1]*Math.cos(t)-e[0]*Math.sin(t)]}function m(e,n){const t=n=>{const t="touches"in n;t&&n.touches.length>1||e(((e,o)=>{o.trackMouse&&!t&&(document.addEventListener(u,r),document.addEventListener(p,g));const{clientX:a,clientY:i}=t?n.touches[0]:n,c=h([a,i],o.rotationAngle);return o.onTouchStartOrOnMouseDown&&o.onTouchStartOrOnMouseDown({event:n}),Object.assign(Object.assign(Object.assign({},e),s),{initial:c.slice(),xy:c,start:n.timeStamp||0})}))},r=n=>{e(((e,t)=>{const r="touches"in n;if(r&&n.touches.length>1)return e;if(n.timeStamp-e.start>t.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;const{clientX:s,clientY:u}=r?n.touches[0]:n,[p,v]=h([s,u],t.rotationAngle),d=p-e.xy[0],f=v-e.xy[1],m=Math.abs(d),g=Math.abs(f),w=(n.timeStamp||0)-e.start,b=Math.sqrt(m*m+g*g)/(w||1),O=[d/(w||1),f/(w||1)],y=function(e,n,t,r){return e>n?t>0?a:o:r>0?c:i}(m,g,d,f),S="number"==typeof t.delta?t.delta:t.delta[y.toLowerCase()]||l.delta;if(m<S&&g<S&&!e.swiping)return e;const k={absX:m,absY:g,deltaX:d,deltaY:f,dir:y,event:n,first:e.first,initial:e.initial,velocity:b,vxvy:O};k.first&&t.onSwipeStart&&t.onSwipeStart(k),t.onSwiping&&t.onSwiping(k);let j=!1;return(t.onSwiping||t.onSwiped||t[`onSwiped${y}`])&&(j=!0),j&&t.preventScrollOnSwipe&&t.trackTouch&&n.cancelable&&n.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:k,swiping:!0})}))},m=n=>{e(((e,t)=>{let r;if(e.swiping&&e.eventData){if(n.timeStamp-e.start<t.swipeDuration){r=Object.assign(Object.assign({},e.eventData),{event:n}),t.onSwiped&&t.onSwiped(r);const o=t[`onSwiped${r.dir}`];o&&o(r)}}else t.onTap&&t.onTap({event:n});return t.onTouchEndOrOnMouseUp&&t.onTouchEndOrOnMouseUp({event:n}),Object.assign(Object.assign(Object.assign({},e),s),{eventData:r})}))},g=e=>{document.removeEventListener(u,r),document.removeEventListener(p,g),m(e)},w=(e,n)=>{let o=()=>{};if(e&&e.addEventListener){const a=Object.assign(Object.assign({},l.touchEventOptions),n.touchEventOptions),i=[[f,t,a],[d,r,Object.assign(Object.assign({},a),n.preventScrollOnSwipe?{passive:!1}:{})],[v,m,a]];i.forEach((([n,t,r])=>e.addEventListener(n,t,r))),o=()=>i.forEach((([n,t])=>e.removeEventListener(n,t)))}return o},b={ref:n=>{null!==n&&e(((e,t)=>{if(e.el===n)return e;const r={};return e.el&&e.el!==n&&e.cleanUpTouch&&(e.cleanUpTouch(),r.cleanUpTouch=void 0),t.trackTouch&&n&&(r.cleanUpTouch=w(n,t)),Object.assign(Object.assign(Object.assign({},e),{el:n}),r)}))}};return n.trackMouse&&(b.onMouseDown=t),[b,w]}function g(e){const{trackMouse:n}=e,t=r.useRef(Object.assign({},s)),o=r.useRef(Object.assign({},l)),a=r.useRef(Object.assign({},o.current));let i;for(i in a.current=Object.assign({},o.current),o.current=Object.assign(Object.assign({},l),e),l)void 0===o.current[i]&&(o.current[i]=l[i]);const[c,u]=r.useMemo((()=>m((e=>t.current=e(t.current,o.current)),{trackMouse:n})),[n]);return t.current=function(e,n,t,r){return n.trackTouch&&e.el?e.cleanUpTouch?n.preventScrollOnSwipe!==t.preventScrollOnSwipe||n.touchEventOptions.passive!==t.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,n)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,n)}):(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0}))}(t.current,o.current,a.current,u),c}}}]);