"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[7715,9686],{95412:(e,t,n)=>{n.d(t,{S:()=>p});var r=n(7527),a=n(75087),o=n(22155),l=n(30395),i=n.n(l),c=n(36780),s=n(52788),u=["name","checked","children","className","checkmarkClassName","onToggleCallback","id","disabled","defaultChecked"],d=o.createElement,p=(0,o.forwardRef)((function(e,t){var n=e.name,l=e.checked,p=e.children,f=e.className,m=e.checkmarkClassName,b=e.onToggleCallback,h=e.id,y=void 0===h?"":h,k=e.disabled,g=e.defaultChecked,v=(0,a.A)(e,u),O=(0,o.useState)(null!=l?l:g),R=O[0],S=O[1],A=(0,o.useId)(),I=y.concat(A);(0,o.useEffect)((function(){S(null!=l?l:g)}),[l,g]);return d("label",{className:i()("relative z-1 inline-flex select-none items-center p-1 pr-3 text-text-tertiary typo-footnote",!k&&"cursor-pointer",s.A.label,f,{checked:R,disabled:k}),style:{transition:"color 0.1s linear"},htmlFor:I},d("input",(0,r.A)({"aria-labelledby":"label-span-".concat(A),checked:l,defaultChecked:g,className:"absolute h-0 w-0 opacity-0","data-testid":"checkbox-input",disabled:k,id:I,name:n,onChange:function(e){S(e.target.checked),null==b||b(e.target.checked)},ref:t,type:"checkbox"},v)),d("div",{"aria-checked":l,"aria-labelledby":"label-".concat(A),className:i()("relative z-1 mr-3 flex h-5 w-5 items-center justify-center rounded-6 border-2 border-border-subtlest-primary",s.A.checkmark,m),role:"checkbox"},d(c.w,{"aria-hidden":!0,className:"icon h-full w-full text-text-primary opacity-0",role:"presentation",style:{transition:"opacity 0.1s linear"}})),d("span",{className:"min-w-0 flex-1",id:"label-span-".concat(A)},p))}))},84606:(e,t,n)=>{n.r(t),n.d(t,{OTHER_KEY:()=>b,ReasonSelectionModal:()=>h,default:()=>y});var r=n(7527),a=n(75087),o=n(22155),l=n(35234),i=n(53823),c=n(83448),s=n(94198),u=n(16714),d=n(72870),p=n(64142),f=["onReport","reasons","heading","title","footer","disabled"],m=o.createElement,b="OTHER";function h(e){var t=e.onReport,n=e.reasons,h=e.heading,y=e.title,k=e.footer,g=e.disabled,v=(0,a.A)(e,f),O=(0,o.useState)(null),R=O[0],S=O[1],A=(0,o.useState)(),I=A[0],N=A[1],E=(0,d.G6)(d.bh.MobileL),P={disabled:!R||R===b&&!I||g,onClick:function(e){return t(e,R,I)}};return m(s.aF,(0,r.A)({isOpen:!0,kind:s.aF.Kind.FixedCenter},v,{formProps:{form:null,title:h,rightButtonProps:P,copy:{right:"Submit report"}}}),m(s.aF.Header,{title:h}),m(s.aF.Body,{className:"py-5"},y&&m("p",{className:"mb-6 text-text-tertiary typo-callout"},y),m(l.s,{name:"report_reason",options:"function"==typeof n?n(R):n,value:R,onChange:S}),m("p",{className:"mb-1 mt-6 px-2 font-bold typo-caption1"},"Anything else you'd like to add?"),m("textarea",{onInput:function(e){return N(e.currentTarget.value)},onFocus:function(){R||S(p.dV.Other)},className:"mb-1 h-20 w-full resize-none self-stretch rounded-10 bg-surface-float p-2 typo-body","data-testid":"report_comment"}),E?k:null),m(s.aF.Footer,{justify:k&&!E?u.F1.Between:u.F1.End},E?null:k,m(i.$n,{variant:c.Ak.Primary,disabled:!R||R===b&&!I||g,onClick:function(e){return t(e,R,I)}},"Submit report")))}const y=h},93781:(e,t,n)=>{n.r(t),n.d(t,{ReportUserModal:()=>b,default:()=>h});var r=n(22155),a=n(5947),o=n(84606),l=n(64142),i=n(95412),c=n(36899),s=n(81712),u=n(80244),d=n(68392),p=n(89883),f=r.createElement,m=[{value:"INAPPROPRIATE",label:"Inappropriate or NSFW content"},{value:"TROLLING",label:"Trolling or disruptive behavior"},{value:"HARASSMENT",label:"Harassment or bullying"},{value:"IMPERSONATION",label:"Impersonation or false identity"},{value:"SPAM",label:"Spam or unsolicited advertising"},{value:"MISINFORMATION",label:"Misinformation or false claims"},{value:"HATEFUL",label:"Hate speech or discrimination"},{value:"PRIVACY",label:"Privacy or copyright violation"},{value:"PLAGIARISM",label:"Plagiarism or content theft"},{value:"OTHER",label:"Other"}],b=function(e){var t=e.offendingUser,n=e.defaultBlockUser,b=e.feedId,h=e.onBlockUser,y=(0,p.d)().closeModal,k=(0,d.mu)().displayToast,g=(0,u.Z2)().user,v=(0,r.useState)(n),O=v[0],R=v[1],S=(0,a.n)({mutationFn:function(){return c.e.request(s.q9,{id:t.id,entity:s.ZD.User,feedId:null!=b?b:null==g?void 0:g.id})},onSuccess:function(){k("🚫 ".concat(t.username," has been blocked")),null==h||h()},onError:function(){k("❌ Failed to block ".concat(t.username))},onSettled:function(){return y()}}),A=S.isPending,I=S.mutateAsync,N=(0,a.n)({mutationFn:function(e){var n=e.reason,r=e.text;return c.e.request(l._q,{id:t.id,type:l.kt.User,reason:n,comment:r})},onSuccess:function(){O||k("🗒️ ".concat(t.username," has been reported"))},onError:function(){k("❌ Failed to report ".concat(t.username))},onSettled:function(){return y()}}),E=N.isPending,P=N.mutateAsync,C=A||E,T=n||C;return f(o.ReasonSelectionModal,{isOpen:!0,onReport:function(e,t,n){e.preventDefault(),P({reason:t,text:n}),O&&I()},disabled:C,reasons:m,onRequestClose:y,heading:"Select reason for reporting",footer:f(i.S,{name:"blockUser",className:"font-normal",disabled:T,onChange:function(e){return R(e.target.checked)},checked:O},"Block ",t.username)})};const h=b},64142:(e,t,n)=>{n.d(t,{UR:()=>m,_q:()=>p,dV:()=>d,kt:()=>u});var r,a=n(50122),o=n(91591),l=n(2972),i=n(36899);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return e.Post="post",e.Source="source",e.Comment="comment",e.User="user",e}({}),d=function(e){return e.Nsfw="NSFW",e.Other="OTHER",e.Broken="BROKEN",e.Clickbait="CLICKBAIT",e.Low="LOW",e.Irrelevant="IRRELEVANT",e.Spam="SPAM",e.Harassment="HARASSMENT",e.Hateful="HATEFUL",e.Copyright="COPYRIGHT",e.Privacy="PRIVACY",e.Miscategorized="MISCATEGORIZED",e.Misinformation="MISINFORMATION",e.Illegal="ILLEGAL",e}({}),p=(0,l.gql)(r||(r=(0,o.A)(["\n  mutation SendReport(\n    $type: ReportEntity!\n    $id: ID!\n    $reason: ReportReason!\n    $comment: String\n    $tags: [String]\n  ) {\n    sendReport(\n      type: $type\n      id: $id\n      reason: $reason\n      comment: $comment\n      tags: $tags\n    ) {\n      _\n    }\n  }\n"]))),f=function(e){return i.e.request(p,e)},m=function(e){return f(s(s({},e),{},{type:u.Source}))}},52788:(e,t,n)=>{n.d(t,{A:()=>r});const r={checkmark:"Ur6sCRLeLJ0xiAl0Ry8kcA==",label:"_0ta8J6BOiKQx6kRDDsqEHg=="}}}]);