"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[2955],{20506:(e,t,r)=>{r.d(t,{K:()=>p});var n,o=r(7527),l=r(22155),a=r(97838);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(null,arguments)}const c=function(e){return l.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),n||(n=l.createElement("path",{d:"M10 3.347c1.138 0 2.213.266 3.163.739-.255.462-.74.764-1.283.787l-.87.036A5.636 5.636 0 0010 4.818c-3.038 0-5.5 2.415-5.5 5.394 0 2.906 2.344 5.276 5.279 5.39l.221.004.221-.004c2.935-.114 5.279-2.484 5.279-5.39l-.003-.13.082-.215c.2-.524.676-.893 1.234-.967l.058-.005a6.771 6.771 0 01-.803 4.742 2.849 2.849 0 012.076.657l.157.143 1.872 1.836a2.731 2.731 0 010 3.916 2.864 2.864 0 01-3.852.13l-.14-.13-1.872-1.836a2.732 2.732 0 01-.818-2.19 7.062 7.062 0 01-3.491.914c-3.866 0-7-3.073-7-6.865 0-3.791 3.134-6.865 7-6.865zm5.37 12.13a1.28 1.28 0 00-.097 1.73l.096.106 1.872 1.836c.241.236.552.362.868.378h.135l.135-.013c.269-.04.527-.162.733-.365a1.28 1.28 0 00.097-1.73l-.097-.106-1.871-1.835a1.342 1.342 0 00-1.872 0zm.05-12.056l.044 1.013a2.493 2.493 0 001.648 2.225l.97.355c.457.167.35.83-.138.85l-1.033.044a2.592 2.592 0 00-.304.03l-.05.01c-.08.014-.159.032-.236.054l-.147.046-.18.07-.168.08-.113.063-.141.09-.164.121-.032.026c-.323.27-.579.62-.734 1.026l-.361.95a.43.43 0 01-.373.285h-.078l-.077-.012a.429.429 0 01-.34-.407l-.044-1.014a2.493 2.493 0 00-1.648-2.224l-.97-.355c-.457-.167-.35-.83.138-.85l1.034-.044c.3-.013.588-.077.855-.185l.109-.048c.175-.08.34-.178.49-.294l.148-.122.12-.114.136-.152.045-.056.078-.104.055-.082-.03.046a2.47 2.47 0 00.262-.505l.362-.95c.17-.45.846-.345.867.134z",fill:"currentcolor",fillRule:"evenodd"})))};var u;function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(null,arguments)}const v=function(e){return l.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),u||(u=l.createElement("path",{d:"M10 3a6.97 6.97 0 013.288.819l-.034.092-.045.109c-.017.035-.034.07-.053.104l-.051.083-.036.055-.051.069-.02.025-.103.112-.068.063-.094.076a1.517 1.517 0 01-.266.157l-.103.047c-.13.052-.305.091-.484.099l-1.034.044c-1.577.068-1.923 2.252-.444 2.804l.97.361c.578.216.971.757.998 1.375l.044 1.033a1.433 1.433 0 001.102 1.344l.157.029.164.012h.078c.627-.054 1.101-.402 1.303-.94l.361-.97c.093-.248.246-.465.445-.634l.025-.021.126-.094.081-.05.063-.033.113-.053.111-.04.082-.025a1.92 1.92 0 01.114-.024l.04-.007a1.52 1.52 0 01.175-.018l-.024.002c.046.325.07.657.07.995 0 1.272-.34 2.465-.932 3.492a2.813 2.813 0 012.076.67l.157.147 1.872 1.871a2.823 2.823 0 01-3.852 4.125l-.14-.132-1.872-1.872a2.817 2.817 0 01-.818-2.234A7 7 0 1110 3zm5.37 12.37a1.324 1.324 0 00-.097 1.763l.096.108 1.872 1.871c.241.242.552.37.868.386h.135l.135-.014a1.324 1.324 0 00.83-2.136l-.097-.107-1.871-1.872a1.323 1.323 0 00-1.872 0zm.05-11.94l.044 1.033a2.537 2.537 0 001.648 2.268l.97.362c.457.17.35.846-.138.867l-1.033.044-.153.011-.15.02-.051.01c-.08.014-.159.033-.236.055l-.147.047-.18.071-.168.082-.113.064-.141.092-.164.124-.032.026a2.534 2.534 0 00-.734 1.046l-.361.97a.432.432 0 01-.296.276l-.077.013h-.078l-.077-.011a.435.435 0 01-.34-.416l-.044-1.033a2.537 2.537 0 00-1.648-2.269l-.97-.361c-.457-.171-.35-.847.138-.868l1.034-.044c.3-.013.588-.078.855-.188l.109-.05c.175-.08.34-.181.49-.3l.148-.124.12-.116.136-.155.045-.057.078-.106.03-.049-.004.008.006-.009.092-.15a2.54 2.54 0 00.163-.352l.362-.97c.17-.457.846-.35.867.138z",fill:"currentcolor",fillRule:"evenodd"})))};var d=l.createElement,p=function(e){return d(a.Ay,(0,o.A)({},e,{IconPrimary:c,IconSecondary:v}))}},96719:(e,t,r)=>{r.r(t),r.d(t,{SearchPanel:()=>$,default:()=>Q});var n=r(50122),o=r(22155),l=r(30395),a=r.n(l),i=r(9487),c=r(36797),u=r.n(c),s=r(7527),v=r(86548),d=r(57952),p=r(97838),f=r(77501),m=r(20506),b=r(24927),y=r(95098),h=r(61663),g=r(80244),x=r(28926),A=r(27496),O=r(72870),w=r(4004),P=r(68390),N=o.createElement,j=function(e){var t=e.className,r=e.keys,n=(0,o.useState)(!1),l=n[0],i=n[1];return(0,o.useEffect)((function(){i(!0)}),[]),l?N("div",{className:a()(t,"flex")},r.map((function(e,t){return N(o.Fragment,{key:e},N("kbd",{className:"flex min-w-5 justify-center rounded-8 border border-border-subtlest-tertiary bg-background-subtle px-2 py-0.5 font-sans text-text-tertiary typo-footnote"},e),t!==r.length-1&&N("span",{className:"mx-1 py-0.5 text-text-tertiary typo-footnote"},"+"))}))):null},k=r(4394),I=r(60092),q=o.createElement;function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=E(E({},I.Au),{},(0,n.A)({},k.dw.Posts,void 0)),C=function(e){var t=e.className,r=(0,o.useContext)(A.I);if(r.providerIcon)return r.providerIcon;var n=T[r.provider];return n?q(n,{className:a()(t,"rounded-8 p-1"),size:p.lK.Large}):null},B=r(10867),D=o.createElement,M=function(e){var t=e.className,r=(0,o.useContext)(A.I),n=(0,B.X)();if(!r.providerText)return null;var l=null==n?void 0:n.sanitize;return D("div",{className:a()(null==t?void 0:t.main,"pointer-events-none absolute left-14 flex h-10")},D("span",{"aria-hidden":"true",className:a()(null==t?void 0:t.input,"invisible typo-body")},r.query),!!l&&D("div",{className:"ml-0.5 flex items-center rounded-4 bg-overlay-quaternary-cabbage px-1"},D("span",{className:"text-text-tertiary typo-footnote",dangerouslySetInnerHTML:{__html:l(r.providerText)}})))},z=r(87192),L=r(53823),F=r(83448),_=r(63204),R=r(54883),K=o.createElement,X=[(0,P.lg)()?"âŒ˜":"Ctrl","K"],G=function(e){var t=e.className,r=e.inputProps,n=e.valueChanged,l=e.children,c=(0,i.useRouter)(),u=(0,z.Z)().search,N=(0,o.useContext)(A.I),q=(0,o.useRef)(),S=(0,h.DX)().logEvent,E=r||{},T=E.value,B=E.readOnly,D=E.disabled,G=E.onFocus,H=E.onBlur,V=E.onClick,Z=E.placeholder,J=void 0===Z?N.isActive?"Search posts or ask a question...":"Search":Z,$=(0,y.G)(T,n),Q=$.inputRef,U=$.focused,W=$.hasInput,Y=$.onFocus,ee=$.onBlur,te=$.onInput,re=$.setInput,ne=(0,g.Z2)(),oe=ne.isLoggedIn,le=ne.showLogin,ae=(0,O.G6)(O.bh.Laptop);(0,w.M)(globalThis,"click",(function(e){(0,P.hX)(q.current)||q.current.contains(e.target)||!q.current||(ee(),N.setActive({isActive:!1}))}));var ie=N.isActive&&N.query.length>=k.Tp;(0,w.M)(globalThis,"keydown",(function(e){var t,r;(0,P.N9)({event:e})&&"k"===e.key&&(e.preventDefault(),N.isActive?(null===(t=Q.current)||void 0===t||t.blur(),N.setActive({isActive:!1})):(null===(r=Q.current)||void 0===r||r.focus(),N.setActive({isActive:!0}),S({event_name:d.VB.KeyboardShortcutTriggered,target_id:d.TB.SearchActivation})))})),(0,w.M)(globalThis,"keydown",(function(e){var t;"Escape"===e.key&&(e.preventDefault(),N.isActive&&(null===(t=Q.current)||void 0===t||t.blur(),N.setActive({isActive:!1})))}));var ce=(0,_.O)({provider:void 0,text:I.AP[I.B5]});return K("div",{className:a()(null==t?void 0:t.container)},K("form",{onSubmit:function(e,t){var r,n;if(e.preventDefault(),!oe)return le({trigger:x._f.SearchInput});var o=null!=t?t:Q.current.value,l=null!==(r=N.provider)&&void 0!==r?r:I.B5;return S({event_name:d.VB.SubmitSearch,extra:JSON.stringify({query:o,provider:l})}),re(o),N.setActive({isActive:!1}),null===(n=Q.current)||void 0===n||n.blur(),u({provider:l,query:o})},className:a()(null==t?void 0:t.form,"relative w-full")},K(v.s,{className:a()("relative h-12 items-center rounded-12 !bg-background-subtle !px-3 laptop:border laptop:py-1 laptop:backdrop-blur-[3.75rem]",null==t?void 0:t.field,{focused:U},N.isActive&&"!border-border-subtlest-tertiary laptop:shadow-2",N.isActive&&ie?"laptop:rounded-b-none laptop:rounded-t-16":"laptop:rounded-16"),ref:q},K(m.K,{size:p.lK.Large,className:"mr-3 text-text-tertiary"}),K(v.T,(0,s.A)({},r,{"data-search-panel-item":"true",placeholder:J,ref:Q,onFocus:function(e){Y(),null==G||G(e),ce.onFocus(e),S({event_name:d.VB.FocusSearch})},onBlur:function(e){ee(),null==H||H(e),ce.onBlur(e)},onClick:function(e){oe||le({trigger:x._f.SearchInput}),null==V||V(e)},onInput:te,type:"primary",autoComplete:"off",className:a()("h-full flex-1",N.isActive?"!placeholder-text-quaternary":"!placeholder-text-tertiary",(0,f.pJ)({readOnly:B,disabled:D,hasInput:W,focused:U}))})),K("div",{className:a()("flex h-full items-center bg-background-subtle",N.isActive&&"-mr-2")},N.isActive&&!!N.query&&K(L.$n,{id:"search-panel-input-clear-button",type:"button",className:"mr-2",size:F.Mp.XSmall,title:"Clear query",onClick:function(e){var t;e.stopPropagation(),c.push("".concat(R.ZO,"posts")),re(""),null===(t=Q.current)||void 0===t||t.focus()},icon:K(b.v,{secondary:!0})}),N.isActive&&K("div",{className:"flex h-full items-center border-l border-surface-float laptop:hidden"},K(L.$n,{type:"button",onClick:function(){N.setActive({isActive:!1})}},"Cancel"))),K("div",{className:"z-1 hidden items-center gap-3 laptop:flex"},!N.isActive&&K(j,{keys:X}),N.isActive&&N.query.length>=k.Tp&&K(o.Fragment,null,ae&&K(M,null),K(C,{className:"ml-2"})))),l))},H=o.createElement;function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=u()((function(){return r.e(9748).then(r.bind(r,31452))}),{ssr:!1,loadableGenerated:{webpack:function(){return[31452]}}}),$=function(e){var t=e.className,r=(0,i.useRouter)().query,n=(0,o.useState)((function(){return{provider:void 0,query:"",isActive:!1,providerText:void 0,providerIcon:void 0}})),l=n[0],c=n[1],u=(0,o.useRef)();(0,o.useEffect)((function(){var e,t=null==r||null===(e=r.q)||void 0===e?void 0:e.toString();t&&c((function(e){return e.query?e:Z(Z({},e),{},{query:t})}))}),[null==r?void 0:r.q]);var s=(0,o.useMemo)((function(){return Z(Z({},l),{},{setProvider:function(e){var t=e.provider,r=e.text,n=e.icon;c((function(e){return Z(Z({},e),{},{provider:t,providerText:r||void 0,providerIcon:n||void 0})}))},setActive:function(e){var t=e.isActive;c((function(e){return Z(Z({},e),{},{isActive:t})}))}})}),[l]),v=l.isActive&&l.query.length>=k.Tp;return H(A.I.Provider,{value:s},H("div",{ref:u,className:a()(null==t?void 0:t.container,"flex flex-col"),"data-testid":"search-panel"},H(G,{className:{container:a()("w-full laptop:w-[26.25rem] laptop:max-w-[29.5rem] laptopL:w-full laptopL:max-w-[35rem]"),field:null==t?void 0:t.field},valueChanged:function(e){c((function(t){return Z(Z({},t),{},{query:e,provider:void 0,providerText:I.AP[I.B5],providerIcon:void 0})}))},inputProps:{value:l.query,onFocus:function(){s.setActive({isActive:!0})}}},v&&H(J,{query:l.query,anchor:u}))))};const Q=$},27496:(e,t,r)=>{r.d(t,{I:()=>a});var n=r(22155),o=r(4394),l=function(){},a=(0,n.createContext)({provider:o.dw.Posts,providerText:void 0,providerIcon:void 0,query:"",isActive:!1,setProvider:l,setActive:l})},63204:(e,t,r)=>{r.d(t,{O:()=>a});var n=r(22155),o=r(27496),l=r(60092),a=function(e){var t=e.provider,r=e.text,a=e.icon,i=(0,n.useContext)(o.I),c=function(){i.setProvider({provider:t,text:r||l.AP[t],icon:a})},u=function(){i.setProvider({provider:void 0})};return{onMouseEnter:c,onMouseLeave:u,onFocus:function(e){(null==e?void 0:e.target)instanceof HTMLElement&&e.target.setAttribute("data-search-panel-active","true");c()},onBlur:function(e){(null==e?void 0:e.target)instanceof HTMLElement&&e.target.removeAttribute("data-search-panel-active");u()}}}}}]);