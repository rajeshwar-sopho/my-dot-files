"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[6196],{44481:(e,t,n)=>{n.d(t,{A:()=>O});var o=n(89338),r=n(98093),a=n(2827),i=n.n(a),l=n(22155),s=n(19217),c=n(27179),u=n(63913),d=n(9064),m=n(52645),p=n(46721),f=n(61663),v=n(11924),h=n(5196),b=n(57952),y=n(77955),g=n(89883),x=n(63037),k=n(70962),w=n(83448),N=n(2941),A=n(37673),P=n(38638),C=l.createElement;function O(e){var t=e.post,n=t.commentsPermalink,a=A.p.SharePost,O=(0,N.h)().getShortUrl,S=(0,m.D)(),L=(0,r.A)(S,2),j=L[0],E=L[1],M=(0,l.useContext)(f.Ay).logEvent,F=(0,g.d)().openModal,I=function(e){return M((0,v.P5)("share post",t,{extra:{provider:e,origin:b.$e.ShareBar}}))},D=function(){var e=(0,o.A)(i().mark((function e(o){var r,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(o),e.next=3,O(n,a);case 3:r=e.sent,l=(0,p.g6)({provider:o,link:r,text:null==t?void 0:t.title}),window.open(l,"_blank");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,o.A)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(n,a);case 2:t=e.sent,E({link:t}),I(p.JA.CopyLink);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return C(h.uM,{className:"hidden flex-col p-3 laptop:flex"},C("p",{className:"mb-4 text-text-tertiary typo-callout"},"Would you recommend this post?"),C("div",{className:"grid grid-cols-4 gap-2 gap-y-4"},C(x.$,{size:w.Mp.Medium,variant:w.Ak.Tertiary,onClick:T,pressed:j,icon:C(s.T,{className:j&&"text-accent-avocado-default",secondary:j}),label:j?"Copied!":"Copy link"}),C(x.$,{size:w.Mp.Medium,variant:w.Ak.Tertiary,icon:C(c.Y,{secondary:!0}),className:"text-white",onClick:function(){return D(p.JA.WhatsApp)},label:"WhatsApp"}),C(x.$,{size:w.Mp.Medium,variant:w.Ak.Tertiary,icon:C(u.i,{secondary:!0}),onClick:function(){return D(p.JA.Facebook)},label:"Facebook"}),C(x.$,{size:w.Mp.Medium,variant:w.Ak.Tertiary,icon:C(d.F,null),onClick:function(){return D(p.JA.Twitter)},label:"X"}),C(k.g,{size:w.Mp.Medium,squadAvatarSize:P.Ov.Large,onClick:function(e,n){return function(e){M((0,v.P5)(b.VB.StartShareToSquad,t)),F({type:y.K2.CreateSharedPost,props:{squad:e,preview:t,onSharedSuccessfully:function(){return M((0,v.P5)(b.VB.ShareToSquad,t))}}})}(n)}})))}},22514:(e,t,n)=>{n.d(t,{_:()=>b});var o=n(98093),r=n(22155),a=n(26540),i=n(20861),l=n(52645),s=n(53823),c=n(83448),u=n(19505),d=n(5196),m=n(11924),p=n(57952),f=n(61663),v=n(72549),h=r.createElement;function b(e){var t=e.onCopyPostLink,n=e.post,r=e.link,b=e.origin,y=(0,l.D)(r),g=(0,o.A)(y,1)[0],x=(0,v.P)(b).openSharePost,k=(0,f.DX)().logEvent;return h(d.uM,{className:"flex flex-col items-start gap-2 p-3 laptop:hidden"},h(s.$n,{size:c.Mp.Small,onClick:t,pressed:g,icon:h(a.q,null),variant:c.Ak.Tertiary,color:u.h.Avocado},g?"Copied!":"Copy link"),h(s.$n,{size:c.Mp.Small,onClick:function(){k((0,m.P5)(p.VB.StartShareToSquad,n)),x({post:n})},icon:h(i.l,null),variant:c.Ak.Tertiary,color:u.h.Cabbage},"Share with your friends"))}},13090:(e,t,n)=>{n.d(t,{i:()=>L});var o=n(22155),r=n(9487),a=n(30395),i=n.n(a),l=n(80244),s=n(38638),c=n(67380),u=n(69321),d=n(81712),m=n(57952),p=n(89338),f=n(2827),v=n.n(f),h=n(14243),b=n(42104),y=n(30530),g=n(36899),x=function(e){var t,n=e.id,o=e.initialData,r=(0,l.Z2)().user,a=(0,y.$h)(y.jZ.UserShortById,r,{id:n}),i=(0,h.I)({queryKey:a,queryFn:(t=(0,p.A)(v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.e.request(b.xp,{id:n});case 2:return t=e.sent,e.abrupt("return",t.user);case 4:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),staleTime:y.b2.Default,enabled:!!n&&(null==r?void 0:r.id)!==n,initialData:o});return i},k=n(98093),w=n(50122),N=n(87053),A=n(84295);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,w.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t,n=e.id,o=e.entity,r=e.queryOptions,a=(0,l.Z2)(),i=a.user,s=!!(a.isLoggedIn&&n&&o),c=(0,y.$h)(y.jZ.ContentPreference,i,{id:n,entity:o}),u=(0,h.I)(C(C({queryKey:c,queryFn:(t=(0,p.A)(v().mark((function e(t){var n,o,r,a,i,l,s,c;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.queryKey,o=n,r=(0,k.A)(o,3),a=r[2],e.prev=2,e.next=5,g.e.request(d.ej,a);case 5:return i=e.sent,e.abrupt("return",i.contentPreferenceStatus);case 9:if(e.prev=9,e.t0=e.catch(2),s=e.t0,c=null===(l=s.response)||void 0===l||null===(l=l.errors)||void 0===l||null===(l=l[0])||void 0===l||null===(l=l.extensions)||void 0===l?void 0:l.code,![g.hD.NotFound].includes(c)){e.next=15;break}return e.abrupt("return",null);case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(e){return t.apply(this,arguments)}),staleTime:y.b2.Default},r),{},{enabled:void 0!==(null==r?void 0:r.enabled)?r.enabled&&s:s}));return(0,N.K)({matcher:A.cI,callback:function(e){var t=e.mutation,r=e.queryClient,a=e.variables,i=t.options.mutationKey,l=(0,k.A)(i,1)[0],s=a,u=s.id,d=s.entity;if(u===n&&d===o){var m=A.WK[l];m?r.setQueryData(c,{status:m,referenceId:u,type:d,createdAt:new Date}):r.setQueryData(c,null)}}}),u},S=o.createElement,L=function(e){var t=e.className,n=(0,l.Z2)().user,o=(0,r.useRouter)().query,a=(null==o?void 0:o.userid)||null,p=O({id:a,entity:d.ZD.User,queryOptions:{enabled:!!a&&a!==(null==n?void 0:n.id)}}).data,f=x({id:a}).data;return a&&a!==(null==n?void 0:n.id)&&f?S("div",{className:i()("mt-5 flex items-center gap-2 rounded-14 border border-brand-float bg-background-subtle p-2 laptop:mt-0",t)},S(s.Y3,{user:f,size:s.Ov.Large,nativeLazyLoading:!0}),S(c.o5,{truncate:!0,type:c.kR.Subhead,color:c.X8.Secondary},S("strong",null,f.name)," Shared this post"),S(u.W,{className:"ml-auto",entityId:a,type:d.ZD.User,entityName:"@".concat(f.username),status:null==p?void 0:p.status,origin:m.$e.PostSharedBy})):null}},97789:(e,t,n)=>{n.d(t,{j:()=>c});var o=n(22155),r=n(30395),a=n.n(r),i=n(54883),l=n(76800),s=o.createElement,c=function(e){var t=e.className;return s("footer",{className:"z-1"},s("nav",null,s("ul",{className:a()(t,"flex flex-row flex-wrap justify-center gap-3 text-text-tertiary typo-caption1")},s("li",null,"Â© ",(new Date).getFullYear()," Daily Dev Ltd."),s("li",null,s("a",{href:i.fX,target:"_blank",rel:l.O8},"Guidelines")),s("li",null,s("a",{href:"".concat(i.ZO,"posts")},"Explore")),s("li",null,s("a",{href:"".concat(i.ZO,"tags")},"Tags")),s("li",null,s("a",{href:"".concat(i.ZO,"sources")},"Sources")),s("li",null,s("a",{href:"".concat(i.ZO,"squads")},"Squads")),s("li",null,s("a",{href:"".concat(i.ZO,"users")},"Leaderboard")))))}},92575:(e,t,n)=>{n.d(t,{D:()=>p});var o,r=n(7527),a=n(22155),i=n(97838);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(null,arguments)}const s=function(e){return a.createElement("svg",l({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),o||(o=a.createElement("path",{d:"M5.75 6h12.5a.75.75 0 110 1.5H5.75a.75.75 0 010-1.5zm0 5h12.5a.75.75 0 110 1.5H5.75a.75.75 0 110-1.5zm0 5h6.5a.75.75 0 110 1.5h-6.5a.75.75 0 110-1.5z",fill:"currentcolor",fillRule:"evenodd"})))};var c;function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u.apply(null,arguments)}const d=function(e){return a.createElement("svg",u({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),c||(c=a.createElement("path",{d:"M12.5 16a1 1 0 01.117 1.993L12.5 18h-7a1 1 0 01-.117-1.993L5.5 16h7zm6-5a1 1 0 01.117 1.993L18.5 13h-13a1 1 0 01-.117-1.993L5.5 11h13zm0-5a1 1 0 01.117 1.993L18.5 8h-13a1 1 0 01-.117-1.993L5.5 6h13z",fill:"currentcolor",fillRule:"evenodd"})))};var m=a.createElement,p=function(e){return m(i.Ay,(0,r.A)({},e,{IconPrimary:s,IconSecondary:d}))}},99391:(e,t,n)=>{n.d(t,{A:()=>O});var o=n(7527),r=n(75087),a=n(22155),i=n(30395),l=n.n(i),s=n(94198);const c="_29h7Y86KWZAFwDQZdpKlfQ==";var u=n(9062),d=n(5196),m=a.createElement,p=function(){return m("article",{"aria-busy":!0,className:"relative flex items-start py-2 pl-4 pr-2"},m(u._,{className:"w-7 h-7 rounded-full mt-1"}),m("div",{className:"flex flex-col ml-3 mr-2 flex-1"},m(d.xN,{className:"w-4/5"}),m(d.xN,{className:"w-4/5"}),m(d.xN,{className:"w-2/5"})))},f=n(16714),v=n(78907),h=n(12034),b=n(63423),y=a.createElement,g=(0,b.A)("div","flex flex-col flex-1 p-8"),x=function(e){var t=e.children;return y(d.uM,null,y(d.xN,{className:"my-4 ml-6 w-2/5"}),y(d.pC,null),t,y(d.pC,null),y(d.xN,{className:"my-4 ml-6 w-2/5",style:{height:"1.25rem"}}))},k=function(e){var t=e.shouldShowWidgets,n=void 0===t||t,o=e.className;return y(a.Fragment,null,y(g,{className:o},y(u._,{className:"my-2 mb-8 h-8 w-3/5 rounded-10"}),y(v.B,{padding:"p-0 gap-2",textClassName:"h-4"}),y("div",{className:"my-8 flex flex-row gap-2"},y(u._,{className:"h-6 w-20 rounded-10"}),y(u._,{className:"h-6 w-20 rounded-10"})),y(u._,{className:"h-52 w-4/5 rounded-16"}),y(u._,{className:"my-8 h-8 w-2/5 rounded-10"}),y(d.pC,null),y(h.A,null)),n&&y(f.P8,{className:"flex-1 p-8"},y(d.xN,null),y(x,null,y(p,null),y(p,null),y(p,null)),y(x,null,y(v.B,null),y(v.B,null),y(v.B,null))))},w=n(30606),N=a.createElement;const A=function(e){var t=e.type,n=e.className,o=e.hasNavigation;return t?N(w.A,{hasNavigation:o,className:l()(n,"laptop:flex-row laptop:pb-0")},N(k,{className:"tablet:border-r tablet:border-border-subtlest-tertiary"})):null};var P=["className","children","isLoading","postType","source","loadingClassName"],C=a.createElement;const O=function(e){var t=e.className,n=e.children,a=e.isLoading,i=e.postType,u=(e.source,e.loadingClassName),d=(0,r.A)(e,P);return C(s.aF,(0,o.A)({size:s.aF.Size.XLarge,kind:s.aF.Kind.FlexibleTop,portalClassName:c,id:"post-modal"},d,{overlayClassName:"post-modal-overlay bg-overlay-quaternary-onion",className:l()(t,"laptop: mx-auto !bg-background-default focus:outline-none tablet:h-full laptop:h-auto laptop:overflow-hidden")}),a?C(A,{hasNavigation:!0,type:i,className:u}):n)}},59837:(e,t,n)=>{n.d(t,{N:()=>ut});var o=n(7527),r=n(36797),a=n.n(r),i=n(22155),l=n(30395),s=n.n(l),c=n(98093),u=n(80244),d=n(91110),m=n(66167),p=n(28926),f=n(75087),v=n(9487),h=n(38638),b=n(83448),y=n(53823),g=n(41536),x=n(74502),k=n(61663),w=n(11924),N=n(57952),A=n(55059),P=["className","size","onCommented","post"],C=["comment"],O=i.createElement,S=a()((function(){return Promise.all([n.e(9163),n.e(2408)]).then(n.bind(n,98474))}),{loadableGenerated:{webpack:function(){return[98474]}}}),L={large:b.Mp.Medium,medium:b.Mp.Small};function j(e,t){var n=e.className,r=e.size,a=void 0===r?h.Ov.Large:r,l=e.onCommented,c=e.post,d=(0,f.A)(e,P),m=(0,v.useRouter)(),j=(0,k.DX)().logEvent,E=(0,u.Z2)(),M=E.user,F=E.showLogin,I=(0,i.useState)(void 0),D=I[0],T=I[1],q=(0,i.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";j((0,w.P5)(N.VB.OpenComment,c,{extra:{origin:e}})),T(t)}),[c,j,T]),z="string"==typeof m.query.comment;(0,i.useEffect)((function(){if(z&&c.type===A.xj.Welcome){var e=m.query,t=e.comment,n=(0,f.A)(e,C);q(N.$e.SquadChecklist,t),m.replace({pathname:m.pathname,query:n},void 0,{shallow:!0})}}),[c,z,q,m]);var R=function(e){return M?q(e):F({trigger:p._f.NewComment})};if((0,i.useImperativeHandle)(t,(function(){return{onShowInput:R}})),void 0!==D)return O(S,(0,o.A)({},d,{post:c,className:{input:{container:"my-4",tab:null==n?void 0:n.tab}},onCommented:function(e,t){T(void 0),null==l||l(e,t)},initialContent:D,onClose:function(){return T(void 0)}}));var $="hidden tablet:flex";return O("button",{type:"button",className:s()("flex w-full items-center gap-4 rounded-16 border-t border-border-subtlest-tertiary bg-blur-highlight p-3 typo-callout hover:border-border-subtlest-primary hover:bg-surface-hover tablet:border tablet:bg-surface-float",null==n?void 0:n.container),onClick:function(){return R(N.$e.StartDiscussion)}},M?O(h.Y3,{user:M,size:a,nativeLazyLoading:!0,className:$}):O(g._V,{src:x.Tv.avatar,alt:"Placeholder image for anonymous user",className:s()($,(0,h.ko)(h.Ov.Large)),"aria-hidden":!0,fetchPriority:"low",height:40,loading:"lazy",role:"presentation",width:40}),O("span",{className:"text-text-tertiary"},"Share your thoughts"),O(y.$n,{size:L[a],className:"ml-auto hidden text-text-primary tablet:flex",variant:b.Ak.Secondary,tag:"a",disabled:!0},"Post"))}var E=(0,i.forwardRef)(j),M=n(89338),F=n(2827),I=n.n(F),D=n(88193),T=n(74921),q=n(32052),z=n(26540),R=n(89875),$=n(90087),B=n(21861),K=n(27504),U=n(11917),_=n(84660),Z=n(73216),V=n(19505),W=n(15215),H=i.createElement;function X(e){var t,n,o,r,a,i,l=e.onCopyLinkClick,c=e.post,u=e.actionsClassName,d=void 0===u?"hidden mobileL:flex":u,m=e.onComment,p=e.origin,f=void 0===p?N.$e.ArticlePage:p,v=(0,_.L)(c),h=v.data,y=v.onShowPanel,g=v.onClose,x=h.showTagsPanel,k=(0,$.o)(),w=k.toggleUpvote,P=k.toggleDownvote,C=(0,Z.C)().toggleBookmark,O=function(){var e=(0,M.A)(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C({post:c,origin:f});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,M.A)(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null==c||null===(t=c.userState)||void 0===t?void 0:t.vote)===A.mj.None&&g(!0),e.next=3,w({payload:c,origin:f});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,M.A)(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null===(t=c.userState)||void 0===t?void 0:t.vote)!==A.mj.Down?y():g(!0),e.next=3,P({payload:c,origin:f});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return H(K.A,{condition:void 0!==x,wrapper:function(e){return H("div",{className:"flex flex-col"},e,H(U.i,{post:c,className:"mt-4",toastOnSuccess:!1}))}},H("div",{className:"flex items-center rounded-16 border border-border-subtlest-tertiary"},H(B.Zp,{className:s()("flex !flex-row gap-2 hover:border-border-subtlest-tertiary",{"border-accent-avocado-default hover:!border-accent-avocado-default bg-theme-overlay-float-avocado":(null==c||null===(t=c.userState)||void 0===t?void 0:t.vote)===A.mj.Up,"border-accent-ketchup-default hover:!border-accent-ketchup-default bg-theme-overlay-float-ketchup":(null==c||null===(n=c.userState)||void 0===n?void 0:n.vote)===A.mj.Down})},H(R.f,{id:"upvote-post-btn",pressed:(null==c||null===(o=c.userState)||void 0===o?void 0:o.vote)===A.mj.Up,onClick:S,icon:H(D.l,{secondary:(null==c||null===(r=c.userState)||void 0===r?void 0:r.vote)===A.mj.Up}),"aria-label":"Upvote",responsiveLabelClass:d,variant:b.Ak.Tertiary,color:V.h.Avocado}),H(R.f,{id:"downvote-post-btn",pressed:(null==c||null===(a=c.userState)||void 0===a?void 0:a.vote)===A.mj.Down,onClick:L,icon:H(T.y,{secondary:(null==c||null===(i=c.userState)||void 0===i?void 0:i.vote)===A.mj.Down}),"aria-label":"Downvote",responsiveLabelClass:d,variant:b.Ak.Tertiary,color:V.h.Ketchup})),H("div",{className:"flex flex-1 items-center justify-between px-4 py-2"},H(R.f,{id:"comment-post-btn",pressed:c.commented,onClick:m,icon:H(q.u,{secondary:c.commented}),"aria-label":"Comment",responsiveLabelClass:d,className:"btn-tertiary-blueCheese"},"Comment"),H(W.T,{post:c,contextMenuId:"post-content-bookmark",buttonProps:{id:"bookmark-post-btn",pressed:c.bookmarked,onClick:O,responsiveLabelClass:d,className:"btn-tertiary-bun"}},"Bookmark"),H(R.f,{id:"copy-post-btn",onClick:function(){return l(c)},icon:H(z.q,null),responsiveLabelClass:d,className:"btn-tertiary-cabbage"},"Copy"))))}var G=n(50122),Q=n(14243),Y=n(99604),J=n(59452),ee=n(12034),te=n(91201),ne=n(54883),oe=n(99947),re=n(16714),ae=n(68390),ie=n(84295),le=n(87053),se=n(30530);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,G.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=i.createElement;function me(e){var t,n,o=e.post,r=e.origin,a=e.sortBy,l=e.onShare,s=e.onClickUpvote,d=e.modalParentSelector,m=e.permissionNotificationCommentId,p=e.joinNotificationCommentId,f=e.className,v=void 0===f?{}:f,h=e.onCommented,b=o.id,y=(0,i.useRef)(),g=(0,i.useContext)(u.Ay).tokenRefreshed,x=(0,te.D)().requestMethod,k=(0,se.HY)({postId:b,sortBy:a}),w=(0,Q.I)({queryKey:k,queryFn:function(){var e;return x(Y.Jk,(e={postId:b},(0,G.A)(e,ne.Cp,N),(0,G.A)(e,"first",500),(0,G.A)(e,"sortBy",a),e),{requestKey:JSON.stringify(k)})},enabled:!!b&&g,refetchInterval:6e4,refetchOnWindowFocus:!1}),N=w.data,A=w.isLoading;!function(e){var t=e.queryKey;(0,le.K)({matcher:ie.cI,callback:function(e){var n=e.mutation,o=e.variables,r=e.queryClient,a=r.getQueryData(t),i=n.options.mutationKey,l=(0,c.A)(i,1)[0];if(a){var s=ie.WK[l],u=o,d=u.id,m=u.entity;r.setQueryData(t,(function(e){return ue(ue({},e),{},{postComments:ue(ue({},e.postComments),{},{edges:e.postComments.edges.map((function(e){var t=(0,se.N9)({data:e.node,status:s,entityId:d,entity:m});return ue(ue({},e),{},{node:t})}))})})}))}}})}({queryKey:k});var P=((null===globalThis||void 0===globalThis||null===(t=globalThis.window)||void 0===t?void 0:t.location)||{}).hash,C=(null==N||null===(n=N.postComments)||void 0===n||null===(n=n.edges)||void 0===n?void 0:n.length)||0,O=(0,i.useRef)(null),S=(0,oe.y)().deleteComment,L=(0,i.useState)(!!P),j=L[0],E=L[1];return(0,i.useEffect)((function(){C>0&&j&&O.current&&(O.current.scrollIntoView({block:"center",inline:"nearest"}),E(!1))}),[C,j]),A||(0,ae.hX)(N)?de(ee.A,{placeholderAmount:o.numComments}):0===C?de("div",{className:"mb-12 mt-8 text-center text-text-quaternary typo-subhead"},"Be the first to comment."):de("div",{className:"-mx-4 mb-12 mt-6 flex flex-col gap-4 mobileL:mx-0",ref:y},N.postComments.edges.map((function(e,t){var n,a;return de(J.A,{className:{commentBox:v},post:o,origin:r,commentHash:P,commentRef:O,comment:e.node,key:e.node.id,onShare:l,onDelete:function(e,t){return S(e.id,t,o)},onShowUpvotes:s,postAuthorId:null===(n=o.author)||void 0===n?void 0:n.id,postScoutId:null===(a=o.scout)||void 0===a?void 0:a.id,appendTooltipTo:null!=d?d:function(){return null==y?void 0:y.current},permissionNotificationCommentId:m,joinNotificationCommentId:p,onCommented:h,lazy:!P&&t>=re.hV})})))}var pe=n(51034),fe=n(81602),ve=i.createElement;function he(e){var t=e.post,n=e.onUpvotesClick,o=t.numUpvotes||0,r=t.numComments||0;return o>0||r>0||t.views>0?ve("div",{className:"mb-5 flex items-center gap-x-4 text-text-tertiary typo-callout","data-testid":"statsBar"},t.views>0&&ve("span",null,(0,fe.Kt)(t.views)," Views"),o>0&&ve(pe.S,{onClick:function(){return n(o)}},(0,fe.Kt)(o)," Upvote",o>1?"s":""),r>0&&ve("span",null,(0,fe.Kt)(r)," Comment".concat(1===r?"":"s"))):ve(i.Fragment,null)}var be=n(48389),ye=n(7848),ge=n(34086),xe=n(13634),ke=n(46721),we=n(2941),Ne=n(37673),Ae=n(68219),Pe=i.createElement;function Ce(e){var t=e.post,n=(0,xe.H)({post:t}),o=n.onInteract,r=n.interaction,a=(0,we.h)({query:{url:t.commentsPermalink,cid:Ne.p.SharePost,enabled:"upvote"===r}}),i=a.isLoading,l=a.shareLink;return"upvote"!==r||i?null:Pe(Ae.m,{className:"mt-6",title:"Should anyone else see this post?"},Pe(ge.U,{className:{container:"w-full flex-1"},link:l,onCopy:function(){return o("none")},logProps:(0,w.P5)("share post",t,{extra:{provider:ke.JA.CopyLink,origin:N.$e.PostContent}})}))}var Oe,Se=n(87822),Le=n(9495),je=n(15360),Ee=n(71623),Me=n(55194),Fe=n(16763),Ie=n(24824),De=n(17984),Te=n(92315),qe=n(67274),ze=n(76573),Re=n(67371),$e=n(71838),Be=i.createElement,Ke=function(e){var t=e.postId,n=(0,k.DX)().logEvent,o=(0,u.Z2)().user,r=(0,Te.L)().isPlus,a=(0,Q.I)({queryKey:(0,se.$h)(se.jZ.Ads,o,t),queryFn:De.le,enabled:!0,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1,staleTime:se.b2.OneHour}),l=a.data,s=a.refetch,c=a.isFetching,d=a.isRefetching,m=(0,i.useCallback)((function(e){n((0,w.Mk)(e,l,{extra:{origin:"post page"}}))}),[n,l]),p=(0,i.useCallback)((0,M.A)(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(De.Jz.Refresh),e.next=3,s();case 3:case"end":return e.stop()}}),e)}))),[m,s]);if((0,i.useEffect)((function(){l&&(null==l?void 0:l.impressionStatus)!==$e.IO.LOGGED&&(m(De.Jz.Impression),l.impressionStatus=$e.IO.LOGGED)}),[l,m]),!l)return null;if(c&&!d)return Be(ee.A,{placeholderAmount:1});var f=l.providerId,v=l.source,y=l.image,g=l.description,x=l.pixel,N=l.company,A=l.tagLine;return Be("div",{className:"relative mt-6 flex flex-wrap rounded-16 border border-border-subtlest-tertiary p-4 hover:bg-surface-hover focus:outline"},Be(Me.A,{ad:l,onLinkClick:function(){return m(De.Jz.Click)}}),Be(h.Y3,{nativeLazyLoading:!0,className:"!inline-block",size:h.Ov.Large,user:{id:f,username:v,image:y},fallbackSrc:Fe.uC,style:{backgroundColor:null==l?void 0:l.backgroundColor}}),Be("div",{className:"ml-3"},Be(re.mE,{className:"commentAuthor flex w-fit font-bold text-text-primary typo-callout"},N),Be(re.mE,{className:"flex w-fit text-text-quaternary typo-callout"},"Promoted by ",v)),Be("div",{className:"z-1 ml-auto flex gap-1"},Be(ze.F,{variant:b.Ak.Tertiary,onClick:p,loading:d}),!r&&Be(qe.m,{iconOnly:!0,variant:b.Ak.Tertiary,icon:Be(Re.d,null)})),Be("p",{className:"mt-3 w-full text-text-primary typo-body"},Be("b",null,A),Be("br",null),g),Be(Ie.W,{pixel:x}))},Ue=n(67380),_e=n(97838);function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ze.apply(null,arguments)}const Ve=function(e){return i.createElement("svg",Ze({width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Oe||(Oe=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.663 5.748a.625.625 0 00-1.245.085v6.826l-1.434-1.432-.07-.06a.626.626 0 00-.814.943L5.6 14.61c.02.02.043.04.07.06l.073.046.057.028.088.03.031.007.076.01.048.002c.063 0 .124-.01.182-.027l.086-.034.074-.041a.629.629 0 00.1-.081l2.501-2.499.06-.07a.624.624 0 00-.06-.813l-.07-.06a.626.626 0 00-.814.06l-1.434 1.432V5.833l-.006-.085zm4.379-.54a.625.625 0 100 1.25h5.416a.625.625 0 100-1.25h-5.416zm0 4.167a.625.625 0 100 1.25h3.75a.625.625 0 100-1.25h-3.75zm-.625 4.792c0-.345.28-.625.625-.625h2.083a.625.625 0 010 1.25h-2.083a.625.625 0 01-.625-.625z",fill:"currentcolor"})))};var We;function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},He.apply(null,arguments)}const Xe=function(e){return i.createElement("svg",He({width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),We||(We=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.663 5.748a.625.625 0 00-1.245.085v6.826l-1.434-1.432-.07-.06a.626.626 0 00-.814.943L5.6 14.61c.02.02.043.04.07.06l.073.046.057.028.088.03.031.007.076.01.048.002c.063 0 .124-.01.182-.027l.086-.034.074-.041a.629.629 0 00.1-.081l2.501-2.499.06-.07a.624.624 0 00-.06-.813l-.07-.06a.626.626 0 00-.814.06l-1.434 1.432V5.833l-.006-.085zm4.379-.54a.625.625 0 100 1.25h5.416a.625.625 0 100-1.25h-5.416zm0 4.167a.625.625 0 100 1.25h3.75a.625.625 0 100-1.25h-3.75zm-.625 4.792c0-.345.28-.625.625-.625h2.083a.625.625 0 010 1.25h-2.083a.625.625 0 01-.625-.625z",fill:"currentcolor"})))};var Ge=i.createElement,Qe=function(e){return Ge(_e.Ay,(0,o.A)({},e,{IconPrimary:Ve,IconSecondary:Xe}))},Ye=n(68276),Je=n(55551),et=n(85745),tt=n(52045),nt=i.createElement,ot=a()((function(){return n.e(2105).then(n.bind(n,11859))}),{loadableGenerated:{webpack:function(){return[11859]}}});const rt=function(e){var t=e.post,n=e.onCopyLinkClick,o=e.logOrigin,r=e.shouldOnboardAuthor,a=(0,Le.d)().completeAction,l=["post",t.id],s=(0,tt.Mp)(),f=s.sortCommentsBy,v=s.updateSortCommentsBy,h=(0,u.Z2)(),g=h.user,x=h.showLogin,k=(0,Te.L)().isPlus,w=(0,i.useRef)(),A=(0,i.useState)(!1),P=A[0],C=A[1],O=(0,i.useState)(),S=O[0],L=O[1],j=(0,i.useState)(),M=j[0],F=j[1],I=(0,m.F)().onShowUpvoted,D=(0,d.o)(o).openShareComment,T=(0,ye.A)(be.D,!1),q=(0,c.A)(T,1)[0],z=(0,i.useState)(!1),R=z[0],$=z[1],B=(0,je.G)({feature:Je.di,shouldEvaluate:R}).value,K=function(e,n){var o,r;n&&(L(e.id),!(0,be.v7)(t.source)||null!==(o=t.source)&&void 0!==o&&o.currentMember||q||F(e.id),(null===(r=t.source)||void 0===r?void 0:r.type)===Se.Y1.Squad&&a(Ee.X2.SquadFirstComment))};return(0,i.useEffect)((function(){r&&C(!0)}),[r]),nt(i.Fragment,null,nt(he,{post:t,onUpvotesClick:function(e){return I(t.id,e)}}),nt(X,{onCopyLinkClick:function(){$(!0),null==n||n(t)},post:t,postQueryKey:l,onComment:function(){return w.current.onShowInput(N.$e.PostCommentButton)},actionsClassName:"hidden laptop:flex",origin:o}),nt(et.K,{post:t}),nt(Ce,{post:t}),B&&nt(Ye.A,{post:t,className:"mt-6"}),nt("span",{className:"mt-6 flex flex-row items-center"},nt(Ue.o5,{type:Ue.kR.Callout},"Sort:"),nt(y.$n,{className:"ml-1 !px-0",iconPosition:b.bQ.Right,size:b.Mp.Small,icon:nt(Qe,{secondary:!0,className:f===Y.ww.OldestFirst&&"rotate-180"}),onClick:function(){return v(f===Y.ww.NewestFirst?Y.ww.OldestFirst:Y.ww.NewestFirst)}},f===Y.ww.NewestFirst?"Newest first":"Oldest first")),nt(E,{className:{container:"mt-6 hidden tablet:flex"},post:t,ref:w,onCommented:K}),!k&&nt(Ke,{postId:t.id}),nt(me,{post:t,sortBy:f,origin:o,onShare:function(e){return D(e,t)},onClickUpvote:function(e,t){return I(e,t,"comment")},permissionNotificationCommentId:S,joinNotificationCommentId:M,onCommented:K}),P&&nt(ot,{onSignUp:!g&&function(){return x({trigger:p._f.Author})}}))};var at=n(82804),it=n(21216),lt=i.createElement,st=a()((function(){return n.e(3182).then(n.bind(n,51826))}),{loadableGenerated:{webpack:function(){return[51826]}}}),ct=a()((function(){return n.e(8521).then(n.bind(n,85118))}),{ssr:!1,loading:function(){return lt("div",{className:"-mx-4 h-12 border-b border-border-subtlest-tertiary laptop:hidden"})},loadableGenerated:{webpack:function(){return[85118]}}});function ut(e){var t=e.post,n=e.isFallback,r=e.origin,a=e.children,l=e.className,c=void 0===l?{}:l,u=e.navigationProps,d=e.engagementProps,m=e.shouldOnboardAuthor,p=e.isPostPage,f=(null!=t?t:{}).id,v=d.onCopyPostLink;return f||n?lt(i.Fragment,null,p?lt(ct,{className:s()(c.header,"-mx-4")},lt(at.l,{post:t,className:"ml-auto",contextMenuId:"post-page-header-actions",onReadArticle:u.onReadArticle})):lt(it.A,(0,o.A)({},u,{className:c.navigation})),a,lt(rt,{post:t,onCopyLinkClick:v,logOrigin:r,shouldOnboardAuthor:m})):lt(st,null)}},29164:(e,t,n)=>{n.d(t,{IT:()=>H,AK:()=>V});var o=n(50122),r=n(7527),a=n(75087),i=n(30395),l=n.n(i),s=n(22155),c=n(36797),u=n.n(c),d=n(55059),m=n(7986),p=n(16714),f=n(22514),v=n(80244),h=n(44481),b=n(43306),y=n(5510),g=n(82804),x=n(97789),k=s.createElement;function w(e){var t=e.onCopyPostLink,n=e.onReadArticle,o=e.post,r=e.className,a=e.onClose,i=e.origin,l=(0,s.useContext)(v.Ay).tokenRefreshed;return k(p.P8,{className:r},k(g.l,{onReadArticle:n,post:o,onClose:a,className:"hidden pt-6 laptop:flex",contextMenuId:"post-widgets-context"}),k(y.WE,{post:o,origin:i}),k(h.A,{post:o}),k(f._,{post:o,origin:i,link:o.commentsPermalink,onCopyPostLink:t}),l&&k(b.A,{currentPost:o}),k(x.j,null))}var N=n(10306),A=n(68392),P=n(30606),C=n(76179),O=n(59837),S=n(12430),L=n(56047),j=n(56761),E=n(29192),M=n(62424),F=n(55551),I=n(71992),D=n(16763),T=n(1414),q=n(47375),z=n(39762),R=n(13090),$=n(69366),B=n(42392),K=["children"],U=s.createElement;function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=80,W=u()((function(){return n.e(4332).then(n.bind(n,48354)).then((function(e){return e.PostCodeSnippets}))}),{loadableGenerated:{webpack:function(){return[48354]}}});var H=(0,T.h)((function(e){var t,n,o,i,c=e.post,u=e.className,f=void 0===u?{}:u,h=e.shouldOnboardAuthor,b=e.origin,y=e.position,g=e.inlineActions,x=e.onPreviousPost,k=e.onNextPost,T=e.onClose,_=e.postPosition,V=e.isFallback,H=e.customNavigation,X=e.onRemovePost,G=e.backToSquad,Q=e.isBannerVisible,Y=e.isPostPage,J=(0,v.Z2)().user,ee=(0,A.mu)().subject,te=(0,C.A)({origin:b,post:c}),ne=te.onCopyPostLink,oe=te.onReadArticle,re=(0,E.L)(),ae=(0,M.iT)(F.N4.showCodeSnippets),ie=(0,z.Z)(c).title,le=!!x||!!k,se=(0,d.CX)(c),ce=l()("laptop:flex-row laptop:pb-0",null==f?void 0:f.container),ue={postPosition:_,onPreviousPost:x,onNextPost:k,post:c,onReadArticle:oe,onClose:T,inlineActions:g,onRemovePost:X};(0,s.useEffect)((function(){se&&null!=c&&c.id&&null!=J&&J.id&&re(c.id)}),[se,re,c.id,null==J?void 0:J.id]);var de=function(e){var t=e.children,n=(0,a.A)(e,K);return U("a",(0,r.A)({href:c.permalink,title:"Go to post",target:"_blank",rel:"noopener"},(0,S.t)(oe),n),t)};return U(P.A,{hasNavigation:le,className:ce,"aria-live":ee===A.a0.PostContent?"polite":"off",navigationProps:"fixed"===y?Z(Z({},ue),{},{isBannerVisible:Q,className:null==f?void 0:f.fixedNavigation}):null},U(L.K,{className:l()("relative",null==f?void 0:f.content),"data-testid":"postContainer"},U(O.N,{className:Z(Z({},f),{},{onboarding:l()(null==f?void 0:f.onboarding,G&&"mb-6"),navigation:{actions:null==f||null===(t=f.navigation)||void 0===t?void 0:t.actions,container:l()("pt-6",null==f||null===(n=f.navigation)||void 0===n?void 0:n.container)}}),isPostPage:Y,isFallback:V,customNavigation:H,shouldOnboardAuthor:h,navigationProps:ue,engagementProps:te,origin:b,post:c},U(R.i,null),U("div",{className:"my-6"},U("h1",{className:"break-words font-bold typo-large-title","data-testid":"post-modal-title"},U(de,null,ie)),c.clickbaitTitleDetected&&U(q.O,{post:c})),se&&U(j.A,{placeholderProps:{post:c,onWatchVideo:oe},videoId:c.videoId,className:"mb-7"}),c.summary&&U($.u,{post:c}),U(B.h,{post:c}),U(m.A,{createdAt:c.createdAt,readTime:c.readTime,isVideoType:se,className:l()("mt-4 !typo-callout",se?"mb-4":"mb-8"),domain:!se&&(null===(o=c.domain)||void 0===o?void 0:o.length)>0&&U(p.mE,null,"From"," ",U(de,{title:c.domain,className:"hover:underline"},c.domain))}),!se&&U(de,{className:"mb-10 block cursor-pointer overflow-hidden rounded-16",style:{maxWidth:"25.625rem"}},U(I.o,{imgSrc:c.image,imgAlt:"Post cover image",ratio:"49%",eager:!0,fallbackSrc:D.uC,fetchPriority:"high"})),(null===(i=c.toc)||void 0===i?void 0:i.length)>0&&U(N.A,{post:c,collapsible:!0,className:"mb-4 mt-2 flex laptop:hidden"}),ae&&U(W,{className:"mb-6",post:c}))),U(w,{onReadArticle:oe,post:c,className:"pb-8",onClose:T,origin:b,onCopyPostLink:ne}))}))},30606:(e,t,n)=>{n.d(t,{A:()=>y});var o=n(22155),r=n(63423),a=n(7527),i=n(75087),l=n(30395),s=n.n(l),c=n(21216),u=["onPreviousPost","onNextPost","postPosition","post","className","isBannerVisible"],d=o.createElement;const m=function(e){var t=e.onPreviousPost,n=e.onNextPost,o=e.postPosition,r=e.post,l=e.className,m=void 0===l?{}:l,p=e.isBannerVisible,f=(0,i.A)(e,u);return d(c.A,(0,a.A)({},f,{inlineActions:!0,isFixedNavigation:!0,post:r,contextMenuId:"fixed-post-navigation-context",className:{container:s()("fixed z-postNavigation ml-0 w-full border border-border-subtlest-tertiary bg-background-subtle px-6 py-4","max-w-full laptop:left-[unset]",p?"top-14":"top-0",null==m?void 0:m.container),actions:null==m?void 0:m.actions},onPreviousPost:t,onNextPost:n,postPosition:o}))};var p=n(27504),f=n(72870),v=o.createElement,h=(0,r.A)("div","flex flex-col w-full pb-6 bg-background-default"),b=(0,r.A)(h,"m-auto w-full laptop:border-x laptop:border-border-subtlest-tertiary");const y=function(e){var t=e.hasNavigation,n=e.className,r=e.children,a=e.navigationProps,i=e.isNavigationOutside,l=!(0,f.G6)(f.bh.MobileL)&&a,s=t?h:b;return v(p.A,{condition:i,wrapper:function(e){return v(o.Fragment,null,l&&v(m,l),e)}},v(s,{className:n},l&&!i&&v(m,l),r))}},82804:(e,t,n)=>{n.d(t,{l:()=>A});var o=n(7527),r=n(75087),a=n(22155),i=n(30395),l=n.n(i),s=n(75240),c=n(55059),u=n(63423),d=n(36599),m=n(83448),p=n(53823),f=n(52045),v=n(90269),h=n(57952),b=n(15837),y=n(72870),g=n(4250),x=["onReadArticle","post","onClose","inlineActions","className","notificationClassName","contextMenuId","onRemovePost","isFixedNavigation"],k=a.createElement,w=(0,u.A)("div","flex flex-row items-center"),N=function(e){return e.inlineActions?m.Ak.Tertiary:m.Ak.Primary};function A(e){var t,n=e.onReadArticle,i=e.post,u=e.onClose,A=e.inlineActions,P=e.className,C=(e.notificationClassName,e.contextMenuId),O=e.onRemovePost,S=e.isFixedNavigation,L=(0,r.A)(e,x),j=(0,a.useContext)(f.Ay).openNewTab,E=(0,y.V$)(y.bh.Laptop),M=(0,g.L)({post:i}),F=(null==i?void 0:i.type)===c.xj.Collection,I=S||E,D=(0,a.useCallback)((function(){var e,t;return k(d.S,{placement:"bottom",content:M,disabled:!A},k(p.$n,{variant:I?N({inlineActions:A}):m.Ak.Float,tag:"a",href:null!==(e=null===(t=i.sharedPost)||void 0===t?void 0:t.permalink)&&void 0!==e?e:i.permalink,target:j?"_blank":"_self",icon:k(s.S,null),onClick:n,"data-testid":"postActionsRead",size:I?m.Mp.Medium:m.Mp.Small},A?null:M))}),[A,I,n,j,i.permalink,null===(t=i.sharedPost)||void 0===t?void 0:t.permalink,M]);return k(w,(0,o.A)({},L,{className:l()("gap-2",P)}),!(0,c.LJ)(i)&&!!n&&k(D,null),F&&k(b.F,{post:i,isCondensed:!0}),k(v.I,{post:i,onClose:u,inlineActions:A,contextMenuId:C,onRemovePost:O,origin:h.$e.ArticleModal,isEnlarged:I}))}},90269:(e,t,n)=>{n.d(t,{I:()=>g});var o=n(89338),r=n(2827),a=n.n(r),i=n(22155),l=n(60471),s=n(67371),c=n(85971),u=n(80244),d=n(55059),m=n(36599),p=n(6920),f=n(27840),v=n(97900),h=n(53823),b=n(83448),y=i.createElement;function g(e){var t,n,r=e.post,g=e.onClose,x=e.inlineActions,k=e.contextMenuId,w=e.onRemovePost,N=e.origin,A=e.isEnlarged,P=(0,i.useContext)(u.Ay).user,C=(0,f.k)().showPrompt,O=(0,v.A)({id:k}),S=O.onMenuClick,L=O.onHide,j=null==P||null===(t=P.roles)||void 0===t?void 0:t.includes(c.YK.Moderator),E=(0,i.useCallback)((0,o.A)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={title:"Ban post ð©",description:"Are you sure you want to ban this post?",okButton:{title:"Ban",className:"btn-primary-ketchup"}},e.next=3,C(t);case 3:if(!e.sent){e.next=6;break}return e.next=6,(0,d.Ep)(r.id);case 6:case"end":return e.stop()}}),e)}))),[r.id,C]),M=(0,i.useCallback)((0,o.A)(a().mark((function e(){var t,n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(t=r.flags)||void 0===t?void 0:t.promoteToPublic,o={title:n?"Demote post":"Promote post",description:"Do you want to ".concat(n?"demote":"promote"," this post ").concat(n?"from":"to"," the public?"),okButton:{title:n?"Demote":"Promote"}},e.next=4,C(o);case 4:if(!e.sent){e.next=12;break}if(!n){e.next=10;break}return e.next=8,(0,d.fY)(r.id);case 8:e.next=12;break;case 10:return e.next=12,(0,d.Bc)(r.id);case 12:case"end":return e.stop()}}),e)}))),[null===(n=r.flags)||void 0===n?void 0:n.promoteToPublic,r.id,C]),F=(0,i.useCallback)((0,o.A)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.clickbaitTitleDetected,n={title:t?"Remove clickbait":"Mark as clickbait",description:"Do you want to ".concat(t?"remove":"mark"," this post as clickbait?"),okButton:{title:t?"Remove":"Mark"}},e.next=4,C(n);case 4:if(!e.sent){e.next=7;break}return e.next=7,(0,d.Ns)(r.id);case 7:case"end":return e.stop()}}),e)}))),[r.clickbaitTitleDetected,r.id,C]);return y(i.Fragment,null,y(m.S,{placement:"bottom",content:"Options"},y(h.$n,{className:!x&&"ml-auto",icon:y(l.Z,null),onClick:S,size:A?b.Mp.Medium:b.Mp.Small,variant:A?b.Ak.Tertiary:b.Ak.Float})),g&&y(m.S,{placement:"bottom",content:"Close"},y(h.$n,{variant:b.Ak.Tertiary,icon:y(s.d,null),onClick:function(e){return g(e)}})),y(p.A,{post:r,onRemovePost:w,setShowBanPost:j?function(){return E()}:null,setShowPromotePost:j?function(){return M()}:null,setShowClickbaitPost:j?function(){return F()}:null,contextId:k,origin:N,onHidden:L}))}},21216:(e,t,n)=>{n.d(t,{A:()=>h});var o=n(7527),r=n(75087),a=n(22155),i=n(30395),l=n.n(i),s=n(53823),c=n(83448),u=n(36599),d=n(43918),m=n(82804),p=n(47248),f=["postPosition","onPreviousPost","onNextPost","className","contextMenuId"],v=a.createElement;const h=function(e){var t=e.postPosition,n=e.onPreviousPost,a=e.onNextPost,i=e.className,h=void 0===i?{}:i,b=e.contextMenuId,y=void 0===b?"post-navigation-context":b,g=(0,r.A)(e,f);return v("div",{className:l()("flex h-10 flex-row items-center gap-2",null==h?void 0:h.container),role:"navigation"},n&&v(u.S,{content:"Previous"},v(s.$n,{className:"-rotate-90",icon:v(d.HK,null),variant:c.Ak.Tertiary,onClick:n,disabled:[p.M.First,p.M.Only].includes(t)})),a&&v(u.S,{content:"Next"},v(s.$n,{className:"rotate-90",icon:v(d.HK,null),variant:c.Ak.Tertiary,onClick:a,disabled:[p.M.Last,p.M.Only].includes(t)})),v(m.l,(0,o.A)({},g,{className:l()("flex",null==h?void 0:h.actions),notificationClassName:"ml-4",contextMenuId:y})))}},15837:(e,t,n)=>{n.d(t,{F:()=>h});var o=n(22155),r=n(79227),a=n(31121),i=n(85548),l=n(35298),s=n(82973),c=n(53823),u=n(83448),d=n(28926),m=n(80244),p=o.createElement,f=function(e){var t=e.isSubscribed,n=e.isFetching,o=e.onClick;return p(c.$n,{variant:t?u.Ak.Secondary:u.Ak.Primary,icon:p(t?l.L:s.XF,null),disabled:n,onClick:o},t?"Unsubscribe":"Subscribe")},v=function(e){var t=e.isSubscribed,n=e.isFetching,o=e.onClick;return p(c.$n,{variant:u.Ak.Float,size:u.Mp.Small,icon:p(t?l.L:s.XF,null),disabled:n,onClick:o},t?"Unsubscribe":"Subscribe")},h=function(e){var t=e.post,n=e.isCondensed,o=(0,m.Z2)(),l=o.isLoggedIn,s=o.showLogin,c=(0,r.G)({params:null!=t&&t.id?[{notificationType:a._n.CollectionUpdated,referenceId:t.id}]:void 0}),u=c.preferences,h=c.subscribeNotification,b=c.clearNotificationPreference,y=c.isFetching,g=!(null==u||!u.some((function(e){return(0,r.Q)(e,a._n.CollectionUpdated,null==t?void 0:t.id,[i.nb.Subscribed])})));return p(n?v:f,{isSubscribed:g,isFetching:y,onClick:function(){if(l){var e={type:a._n.CollectionUpdated,referenceId:t.id};g?b(e):h(e)}else s({trigger:d._f.CollectionSubscribe})}})}},56047:(e,t,n)=>{n.d(t,{K:()=>o});var o=(0,n(63423).A)("main","flex flex-col flex-1 px-4 laptop:px-8 laptop:border-r laptop:border-border-subtlest-tertiary overflow-hidden")},42392:(e,t,n)=>{n.d(t,{h:()=>k});var o=n(7527),r=n(75087),a=n(22155),i=n(30395),l=n.n(i),s=n(3731),c=n(67380),u=n(70591),d=n(95974),m=n(53823),p=n(83448),f=n(59904),v=n(97838),h=n(36599),b=["children","className"],y=a.createElement,g=function(e){var t=e.children,n=e.className,a=(0,r.A)(e,b);return y(c.o5,(0,o.A)({className:l()("cursor-pointer rounded-10 border-border-subtlest-tertiary transition-colors",n),color:c.X8.Tertiary,tag:c.UL.Span,type:c.kR.Caption1},a),t)},x=function(e){var t=e.isFollowed,n=e.onFollow,o=e.tag;return t?y(d.A,{href:(0,u.ad)(o),passHref:!0,prefetch:!1},y(g,{className:"border px-2 py-1 hover:bg-border-subtlest-tertiary",role:"listitem",tag:c.UL.Link,title:"Check all #".concat(o," posts")},"#",o)):y(g,{className:"flex items-center bg-surface-float",role:"listitem"},y(d.A,{href:(0,u.ad)(o),passHref:!0},y("a",{className:"inline-block px-2 py-1",title:"Check all #".concat(o," posts")},"#".concat(o))),y("span",{className:"h-3 translate-y-px rounded-2 border border-border-subtlest-tertiary",role:"separator"}),y(h.S,{content:"Follow #".concat(o)},y(m.$n,{icon:y(f.c,{"aria-hidden":!0,size:v.lK.XSmall}),onClick:function(){return n(o)},size:p.Mp.XSmall})))},k=function(e){var t=e.post,n=(0,s.y)({post:t}),o=n.onFollowTag,r=n.tags;return r.all.length?y("ul",{"aria-label":"Post tags",className:"flex flex-wrap items-center gap-2"},r.followed.map((function(e){return y(x,{key:"followed-".concat(e),tag:e,isFollowed:!0})})),r.notFollowed.map((function(e){return y(x,{isFollowed:!1,key:"notFollowed-".concat(e),onFollow:o,tag:e})}))):null}},1414:(e,t,n)=>{n.d(t,{h:()=>l});var o=n(7527),r=n(22155),a=n(34808),i=r.createElement,l=function(e){var t=function(t){var n=t.post,r=(0,a.Ay)({id:null==n?void 0:n.id}).post,l=null!=r?r:n;return null!=l&&l.id?(null!=l&&l.feedMeta||null==n||!n.feedMeta||(l.feedMeta=n.feedMeta),i(e,(0,o.A)({},t,{post:l}))):null};return t.displayName="WithPostById",e.getLayout&&(t.getLayout=e.getLayout),e.layoutProps&&(t.layoutProps=e.layoutProps),t}},8483:(e,t,n)=>{n.d(t,{A:()=>p});var o=n(7527),r=n(75087),a=n(22155),i=n(27504),l=n(38638),s=n(55052),c=n(16763),u=n(91201),d=["source","rounded","isLink"],m=a.createElement;const p=function(e){var t=e.source,n=e.rounded,a=void 0===n?"full":n,p=e.isLink,f=(0,r.A)(e,d),v=(0,u.D)().isCompanion;return m(i.A,{condition:!!p,wrapper:function(e){return m(s.y,{href:t.permalink},e)}},m(l.Y3,(0,o.A)({},f,{rounded:a,user:{id:t.id,image:t.image,username:t.handle},fallbackSrc:c.N_,nativeLazyLoading:v})))}},34086:(e,t,n)=>{n.d(t,{U:()=>d});var o=n(98093),r=n(22155),a=n(53823),i=n(83448),l=n(43660),s=n(98235),c=n(61663),u=r.createElement;function d(e){var t,n,r,d,m=e.link,p=e.text,f=void 0===p?{}:p,v=e.onCopy,h=e.className,b=e.logProps,y=(0,s.L)((function(){return m})),g=(0,o.A)(y,2),x=g[0],k=g[1],w=(0,c.DX)().logEvent;return u(l.A,{className:h,name:"inviteURL",inputId:"inviteURL",label:"Your unique invite URL",type:"url",autoComplete:"off",value:m,fieldType:"tertiary",actionButton:u(a.$n,{size:i.Mp.Small,variant:i.Ak.Primary,onClick:function(){k(),w(b),v&&v()}},(r=null!==(t=null==f?void 0:f.initial)&&void 0!==t?t:"Copy link",d=null!==(n=null==f?void 0:f.copied)&&void 0!==n?n:"Copied",x?d:r)),readOnly:!0})}},70962:(e,t,n)=>{n.d(t,{g:()=>h});var o=n(22155),r=n(48389),a=n(87822),i=n(8483),l=n(63037),s=n(80244),c=n(57952),u=n(59904),d=n(8952),m=n(83448),p=n(19505),f=n(38638),v=o.createElement;function h(e){var t=e.isLoading,n=e.onClick,h=e.size,b=void 0===h?m.Mp.Large:h,y=e.squadAvatarSize,g=void 0===y?f.Ov.XLarge:y,x=(0,s.Z2)().squads,k=(0,d.i)().openNewSquad,w=(0,o.useMemo)((function(){var e;return null!==(e=null==x?void 0:x.filter((function(e){return e.active&&(0,r.pZ)(e,a.Wk.Post)})).map((function(e){return v(l.$,{key:e.id,onClick:function(t){return n(t,e)},icon:v(i.A,{source:e,size:g}),size:b,label:"@".concat(e.handle),disabled:t})})))&&void 0!==e?e:[]}),[x,t,n,b,g]);return w.length?v(o.Fragment,null,w):v(l.$,{onClick:function(){return k({origin:c.$e.Share,pageRedirect:!0})},icon:v(u.c,{className:"text-surface-invert"}),variant:m.Ak.Primary,color:p.h.Cabbage,className:"!rounded-full",label:"New Squad",size:b})}},56761:(e,t,n)=>{n.d(t,{A:()=>D});var o=n(7527),r=n(75087),a=n(22155),i=n(80244),l=n(47510),s=n(30395),c=n.n(s),u=n(41536),d=n(67380),m=n(53823),p=n(83448),f=n(26182),v=n(63423),h=n(76800),b=a.createElement,y=(0,v.A)("div","relative mb-7 w-full overflow-hidden rounded-16 pt-[56.25%]"),g=(0,v.A)("div","absolute inset-0 z-1 flex flex-col bg-surface-float p-2 tablet:p-6");function x(e){var t=e.className,n=e.onWatchVideo,o=e.onAcceptCookies,r=e.post,a=r.title,i=r.image,l=r.source,s=r.permalink;return b(y,{className:c()(t,"relative")},b("img",{src:i,alt:a,className:"absolute inset-0 z-0 h-full w-full object-cover opacity-[0.08]"}),b(g,null,b("span",{className:"hidden flex-row items-center gap-3 tablet:flex"},b(u._V,{src:l.image,alt:l.name,className:"h-10 w-10 rounded-full"}),b(d.o5,{type:d.kR.Callout,bold:!0},l.name)),b("div",{className:"flex flex-1 flex-col items-center justify-center gap-6"},b(d.o5,{type:d.kR.Callout,className:"text-center"},"To play this video here on daily.dev, youâll need to enable marketing cookies, or you can choose to watch it on YouTube."),b(m.$n,{variant:p.Ak.Primary,icon:b(f.u,null),onClick:function(){return o()}},"Watch and accept cookies")),b(m.$n,{variant:p.Ak.Tertiary,className:"mx-auto w-fit",size:p.Mp.Small,onClick:n,tag:"a",href:s,target:"_blank",rel:h.O8},"Watch on YouTube")))}var k=(0,v.A)("div","relative w-full overflow-hidden rounded-16 pt-[56.25%]"),w=(0,v.A)("div","absolute inset-0 z-1 flex flex-col bg-surface-float p-6"),N=n(50122),A=n(69918),P=n(14243),C=n(85278),O=n(68390);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,N.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={path:"/",sameSite:"lax",domain:"daily.dev"},E=function(e){(0,C.Aj)(e,L({},j))},M=function(e){var t=(0,O.oX)(),n=(0,a.useMemo)((function(){return["cookie",e]}),[e]),o=(0,A.jE)(),r=(0,P.I)(L({queryKey:n,initialData:function(){return t||!!function(e){var t;return null===globalThis||void 0===globalThis||null===(t=globalThis.document)||void 0===t?void 0:t.cookie.split("; ").find((function(t){return t.startsWith(e)}))}(e)}},O.e_)),i=r.data,l=(0,a.useCallback)((function(e){!function(e){null===globalThis||void 0===globalThis||globalThis.localStorage.removeItem(e),(0,C.OR)([e])[e]||(0,C.TV)(e,!0,L(L({},j),{},{maxAge:31536e4}))}(e),o.setQueryData(["cookie",e],!0)}),[o]);return{saveCookies:(0,a.useCallback)((function(n,o){t?console.log("we do not store cookies in the extension"):(l(e),n&&n.forEach(l),o&&o.forEach(E))}),[e,l,t]),cookieExists:i}},F=["videoId","className","placeholderProps"],I=a.createElement;const D=function(e){var t=e.videoId,n=e.className,a=e.placeholderProps,s=(0,r.A)(e,F),c=a.post.title,u=(0,i.Z2)(),d=u.isAuthReady,m=u.isGdprCovered,p=M(l.d4.Marketing),f=p.cookieExists,v=p.saveCookies;return d?m&&!f?I(x,(0,o.A)({},a,{onAcceptCookies:v})):I(k,{className:n},I("iframe",(0,o.A)({},s,{title:c,src:"https://www.youtube-nocookie.com/embed/".concat(t),allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share",allowFullScreen:!0,className:"absolute inset-0 aspect-video w-full border-0"}))):I(k,{className:n},I(w,null))}},43306:(e,t,n)=>{n.d(t,{A:()=>de});var o,r,a=n(7527),i=n(92203),l=n(89338),s=n(50122),c=n(2827),u=n.n(c),d=n(22155),m=n(30395),p=n.n(m),f=n(14243),v=n(80244),h=n(91591),b=n(2972),y=n(73481),g=(0,b.gql)(o||(o=(0,h.A)(["\n  fragment FurtherReading on Post {\n    id\n    title\n    permalink\n    commentsPermalink\n    bookmarked @include(if: $loggedIn)\n    image\n    readTime\n    numComments\n    numUpvotes\n    source {\n      ...SourceShortInfo\n    }\n    scout {\n      ...UserAuthor\n    }\n    author {\n      ...UserAuthor\n    }\n  }\n  ","\n  ","\n"])),y.db,y.p0),x=(0,b.gql)(r||(r=(0,h.A)(["\n  query SimilarPosts(\n    $post: ID!\n    $loggedIn: Boolean! = false\n    $trendingFirst: Int\n    $similarFirst: Int\n    $discussedFirst: Int\n    $withDiscussedPosts: Boolean! = false\n    $tags: [String]!\n  ) {\n    trendingPosts: randomTrendingPosts(post: $post, first: $trendingFirst) {\n      ...FurtherReading\n      bookmarked @include(if: $loggedIn)\n      trending\n      tags\n    }\n    similarPosts: randomSimilarPostsByTags(\n      tags: $tags\n      post: $post\n      first: $similarFirst\n    ) {\n      ...FurtherReading\n      bookmarked @include(if: $loggedIn)\n      tags\n    }\n    discussedPosts: randomDiscussedPosts(post: $post, first: $discussedFirst)\n      @include(if: $withDiscussedPosts) {\n      ...FurtherReading\n    }\n  }\n  ","\n"])),g),k=n(55059),w=n(95974),N=n(43918),A=n(96559),P=n(71992),C=n(21861),O=n(9062),S=n(63423),L=n(11924),j=n(61663),E=n(16714),M=n(12430),F=n(53823),I=n(83448),D=n(63952),T=n(81602),q=d.createElement;function z(e){var t=e.upvotes,n=e.comments,o=e.className;return q("p",{className:p()("truncate typo-footnote",o),"data-testid":"post-engagements-count"},t?"".concat((0,T.Kt)(t)," Upvotes"):"",t&&n?q(d.Fragment,null," ",D.zO," "):"",n?"".concat((0,T.Kt)(n)," Comments"):"")}var R=d.createElement,$=R("div",{className:"h-px bg-border-subtlest-tertiary"}),B="w-7 h-7 rounded-full mt-1",K="flex flex-col ml-3 mr-2 flex-1",U=function(e){var t=e.post,n=e.onLinkClick;return R("article",{className:p()("group relative flex items-start py-2 pl-4 pr-2 hover:bg-surface-hover",A.A.card)},R(C.hB,(0,a.A)({href:t.commentsPermalink,title:t.title},(0,M.t)((function(){return n(t)})))),R(P.o,{imgSrc:t.source.image,imgAlt:t.source.name,className:B}),R("div",{className:K},R("h5",{className:p()("multi-truncate mb-0.5 text-ellipsis break-words text-text-primary typo-callout",A.A.title)},t.title),t.trending?R("div",{className:"flex items-center text-text-tertiary typo-footnote"},R(E.uB,null),R("div",{className:"ml-2"},t.trending," devs read it last hour")):R(z,{upvotes:t.numUpvotes,comments:t.numComments,className:"text-text-tertiary"})))},_=(0,S.A)(O._,"h-3 rounded-12 my-0.5");function Z(e){var t=e.posts,n=e.isLoading,o=e.className,r=e.title,a=void 0===r?"You might like":r,i=e.moreButtonProps,s=e.ListItem,c=void 0===s?U:s,m=(0,d.useContext)(j.Ay).logEvent,f=(null==i?void 0:i.href)||"https://app.daily.dev/",v=(null==i?void 0:i.text)||"View all",h=function(){var e=(0,l.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m((0,L.P5)("click",t,{extra:{origin:"recommendation"}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return R("section",{className:p()("flex flex-col rounded-16 border border-border-subtlest-tertiary",o)},R("h4",{className:"my-0.5 px-4 py-3 text-text-tertiary typo-body"},a),$,n?R(d.Fragment,null,R(c.Placeholder,null),R(c.Placeholder,null),R(c.Placeholder,null)):R(d.Fragment,null,t.map((function(e){return R(c,{key:e.id,post:e,onLinkClick:function(){return h(e)}})}))),$,R(w.A,{href:f,passHref:!0},R(F.$n,{variant:I.Ak.Tertiary,className:"my-2 ml-2 self-start",size:I.Mp.Small,tag:"a",icon:R(N.HK,{className:"rotate-90"}),iconPosition:I.bQ.Right},v)))}U.Placeholder=function(){return R("article",{"aria-busy":!0,className:"relative flex items-start py-2 pl-4 pr-2"},R(O._,{className:B}),R("div",{className:K},R(_,{style:{width:"80%"}}),R(_,{style:{width:"80%"}}),R(_,{style:{width:"40%"}})))};var V=n(5196),W=d.createElement,H=W("div",{className:"h-px bg-border-subtlest-tertiary"}),X=function(e){var t=e.post,n=e.onLinkClick;return W("article",{className:p()("group relative flex flex-col items-start px-4 py-3 hover:bg-surface-hover",A.A.card)},W(w.A,{href:t.commentsPermalink,prefetch:!1,passHref:!0},W(C.hB,(0,a.A)({title:t.title},(0,M.t)((function(){return n(t)}))))),W("h5",{className:p()("multi-truncate mb-2 text-text-primary typo-callout",A.A.title)},t.title),W("div",{className:"flex items-center text-text-tertiary typo-footnote"},W("div",null,t.numComments," Comments")))},G=(0,S.A)(O._,"h-3 rounded-12 my-0.5"),Q=function(){return W("article",{"aria-busy":!0,className:"relative flex flex-col items-start px-4 py-3"},W(G,{style:{width:"80%"}}),W(G,{style:{width:"80%"}}),W(G,{style:{width:"40%"}}))},Y=(0,S.A)(V.uM,"flex flex-col");function J(e){var t,n,o=e.posts,r=e.isLoading,i=e.className,l=(0,d.useContext)(j.Ay).logEvent,s=function(e){l((0,L.P5)("click",e,{extra:{origin:"best discussions"}}))};return W(Y,{className:i},W("h4",{className:"my-0.5 px-4 py-3 text-text-tertiary typo-body"},"Best discussions"),H,r?W(d.Fragment,null,W(Q,null),W(Q,null),W(Q,null)):W(d.Fragment,null,null==o?void 0:o.slice(1).map((function(e){return W(X,{key:e.id,post:e,onLinkClick:s})}))),H,W(w.A,{href:null!==(t=null==o||null===(n=o[0])||void 0===n?void 0:n.commentsPermalink)&&void 0!==t?t:"/",prefetch:!1,passHref:!0},W(F.$n,(0,a.A)({variant:I.Ak.Tertiary,className:"my-2 ml-2 self-start",size:I.Mp.Small,tag:"a",icon:W(N.HK,{className:"rotate-90"}),iconPosition:I.bQ.Right},(0,M.t)((function(){}))),"I'm feeling lucky")))}var ee=n(10306),te=n(56638),ne=n(48389),oe=n(23879),re=n(38638),ae=d.createElement,ie=function(e){var t,n=e.post,o=e.onLinkClick;return ae("article",{className:p()("group relative flex items-start px-4 py-2 hover:bg-surface-hover",A.A.card)},ae(C.hB,(0,a.A)({href:n.commentsPermalink,title:n.title},(0,M.t)((function(){return o(n)})))),ae("div",{className:"flex w-full flex-col"},(null==n?void 0:n.author)&&ae(oe.A,{className:{name:"text-text-primary typo-callout",handle:"text-text-quaternary typo-callout",details:"flex-1 pr-8"},author:n.author,size:re.Ov.Large,date:n.createdAt}),ae("p",{className:"mr-6 mt-1 line-clamp-3 text-text-primary typo-callout"},null!==(t=n.title)&&void 0!==t?t:n.sharedPost.title)))};ie.Placeholder=function(){return ae("article",{"aria-busy":!0,className:"relative flex flex-col px-4 py-2"},ae("div",{className:"mb-2 flex flex-1 flex-row items-center"},ae(O._,{className:"mt-1 h-10 w-10 rounded-14"}),ae("div",{className:"ml-3 mr-2 flex flex-1 flex-col"},ae(V.xN,{style:{width:"40%"}}),ae(V.xN,{style:{width:"40%"}}))),ae(V.xN,{style:{width:"80%"}}),ae(V.xN,{style:{width:"80%"}}))};var le=n(68390),se=n(36899),ce=d.createElement;function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function de(e){var t,n,o,r=e.currentPost,c=e.className,m=(0,ne.v7)(r.source),h=r.id,b=r.tags,y=["furtherReading",h],g=(0,d.useContext)(v.Ay),w=g.user,N=g.isLoggedIn,A=(0,f.I)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({queryKey:y,queryFn:(o=(0,l.A)(u().mark((function e(){var t,n,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.source,!m){e.next=7;break}return e.next=4,se.e.request(te._l,{first:3,loggedIn:N,source:t.id,ranking:"TIME",supportedTypes:[k.xj.Article,k.xj.Share,k.xj.Freeform]});case 4:return o=e.sent,a=(null==o||null===(n=o.page)||void 0===n||null===(n=n.edges)||void 0===n||null===(n=n.map((function(e){return e.node})))||void 0===n?void 0:n.filter((function(e){return e.id!==r.id})))||[],e.abrupt("return",{trendingPosts:[],similarPosts:a,discussedPosts:[]});case 7:return e.abrupt("return",se.e.request(x,{loggedIn:!!w,post:h,trendingFirst:1,similarFirst:3,discussedFirst:4,withDiscussedPosts:!0,tags:b}));case 8:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},le.e_)),P=A.data,C=A.isLoading;if(!(null!=P&&P.similarPosts||C))return ce(d.Fragment,null);var O=null!=P&&P.similarPosts?[].concat((0,i.A)(P.trendingPosts),(0,i.A)(P.similarPosts.slice(0,Math.min(P.similarPosts.length,3-P.trendingPosts.length)))):[],S=(null===(t=r.toc)||void 0===t?void 0:t.length)>0,L={title:"More posts from ".concat(r.source.name),moreButtonProps:{href:r.source.permalink,text:"Show more"},ListItem:ie};return ce("div",{className:p()(c,"flex flex-col gap-6")},S&&ce(ee.A,{post:r,className:"hidden laptop:flex"}),(C||(null==O?void 0:O.length)>0)&&ce(Z,(0,a.A)({posts:O,isLoading:C},m&&L)),(C||(null==P||null===(n=P.discussedPosts)||void 0===n?void 0:n.length)>0)&&ce(J,{posts:null==P?void 0:P.discussedPosts,isLoading:C}))}},10306:(e,t,n)=>{n.d(t,{A:()=>y});var o=n(89338),r=n(2827),a=n.n(r),i=n(22155),l=n(30395),s=n.n(l),c=n(92575),u=n(16714),d=n(61663),m=n(11924);const p={details:"VcLCIuDU9WFPxvzmyOldTA=="};var f=n(5196),v=i.createElement,h=v("div",{className:"mb-3 h-px bg-border-subtlest-tertiary"}),b=function(e,t){return t.id?"".concat(e.permalink,"?a=").concat(t.id):e.permalink};function y(e){var t=e.post,n=e.className,r=e.collapsible,l=(0,i.useContext)(d.Ay).logEvent,y=function(){var e=(0,o.A)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l((0,m.P5)("click",t,{extra:{origin:"toc"}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=v(i.Fragment,null,t.toc.map((function(e){return v("a",{key:e.text,href:b(t,e),target:"_blank",rel:"noopener",title:e.text,onClick:y,className:"flex-1 truncate px-4 py-2 typo-callout hover:bg-surface-hover"},e.text)}))),x="flex items-center py-3 px-4 typo-body text-text-tertiary border border-border-subtlest-quaternary";return r?v("details",{className:s()("select-none flex-col overflow-hidden rounded-16",p.details,n)},v(u.BD,{className:"hover:bg-surface-hover"},v("div",{className:x},v(c.D,{className:"mr-2 text-2xl"}),"Table of contents",v(u.yy,null))),h,g):v(f.uM,{className:s()("flex-col overflow-hidden rounded-16 border border-border-subtlest-quaternary pb-3",n)},v("h4",{className:x},v(c.D,{className:"mr-2 text-2xl"}),"Table of contents"),h,g)}},63037:(e,t,n)=>{n.d(t,{$:()=>b});var o,r=n(7527),a=n(75087),i=n(50122),l=n(22155),s=n(30395),c=n.n(s),u=n(83448),d=n(53823),m=n(63423),p=["href","icon","label","size"],f=l.createElement,v=(0,m.A)("span","text-text-tertiary cursor-pointer"),h=(o={},(0,i.A)(o,u.Mp.Large,"typo-caption2"),(0,i.A)(o,u.Mp.Medium,"typo-caption1"),o),b=function(e){var t=e.href,n=e.icon,o=e.label,i=e.size,s=void 0===i?u.Mp.Large:i,m=(0,a.A)(e,p),b=(0,l.useRef)(),y=t&&{href:t,rel:"noopener",target:"blank",tag:"a"};return f("div",{className:"flex w-16 flex-col items-center"},f(d.$n,(0,r.A)({},y,m,{"data-testid":"social-share-".concat(o),size:s,icon:n,ref:b})),f(v,{className:c()("mt-1.5 max-w-16 overflow-hidden overflow-ellipsis text-center",h[s]),onClick:function(){var e;return null==b||null===(e=b.current)||void 0===e?void 0:e.click()}},o))}},29192:(e,t,n)=>{n.d(t,{L:()=>m});var o=n(89338),r=n(2827),a=n.n(r),i=n(69918),l=n(5947),s=n(55059),c=n(30530),u=n(80244),d=n(87430),m=function(){var e,t=(0,i.jE)(),n=(0,u.Z2)().user,r=(0,c.$h)(c.jZ.UserStreak,n),m=(0,c.$h)(c.jZ.ReadingStreak30Days,n),p=(0,l.n)({mutationFn:s.Ki,onSuccess:(e=(0,o.A)(a().mark((function e(){var o,i,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.getQueryData(r),i=!(null!=o&&o.lastViewAt),l=!(0,d.lt)(new Date(null==o?void 0:o.lastViewAt),new Date,n.timezone),!i&&!l){e.next=8;break}return e.next=6,t.refetchQueries({queryKey:r});case 6:return e.next=8,t.invalidateQueries({queryKey:m});case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return p.mutateAsync}},47510:(e,t,n)=>{n.d(t,{d4:()=>a,dh:()=>l,dv:()=>i});var o,r=n(50122),a=(n(22155),function(e){return e.Necessary="ilikecookies",e.Marketing="ilikecookies_marketing",e}({})),i=[a.Marketing],l=(o={},(0,r.A)(o,a.Necessary,{title:"Strictly necessary cookies",description:"These cookies are used for activities that are strictly necessary to operate or deliver the service you requested from us and, therefore, do not require you to consent.",isAlwaysOn:!0}),(0,r.A)(o,a.Marketing,{title:"Marketing cookies",description:"Marketing cookies are used to deliver content and advertisements that are more relevant to you and your interests. These cookies track your online activity across websites and devices to create a profile of your preferences, enabling personalized experience."}),o)},5106:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(22155),r=n(29164);var a=n(99793).r7;var i=n(52819);const l=function(e){var t,n=e.isDisplayed,l=e.offset,s=void 0===l?0:l;(0,o.useEffect)((function(){var e,t;window.matchMedia&&(window.matchMedia(a.replace("@media ","")).matches||(window.scroll(0,0),null===(e=document.querySelector('[role="dialog"]'))||void 0===e||null===(t=e.scroll)||void 0===t||t.call(e,0,0)))}),[]),t=n,(0,o.useEffect)((function(){var e=document.querySelector("#__next");if(e)return t?e.classList.add("hide-on-modal"):e.classList.remove("hide-on-modal"),function(){e.classList.remove("hide-on-modal")}}),[t]);var c=(0,o.useState)("relative"),u=c[0],d=c[1],m=(0,o.useState)(),p=m[0],f=m[1];(0,i.F)((0,o.useCallback)((function(){return p}),[p]),{onOverOffset:function(){return"fixed"!==u&&d("fixed")},onUnderOffset:function(){return"relative"!==u&&d("relative")},offset:r.AK+s});var v=(0,o.useCallback)((function(){var e,t=document.getElementById("post-modal");if(t){var n=t.parentElement;f(n),null==n||null===(e=n.scrollTo)||void 0===e||e.call(n,0,0),d("relative")}}),[]);return{position:u,onLoad:v}}},8952:(e,t,n)=>{n.d(t,{i:()=>d});var o=n(9487),r=n(22155),a=n(57952),i=n(28926),l=n(80244),s=n(54883),c=n(89883),u=n(77955),d=function(){var e=(0,l.Z2)(),t=e.user,n=e.showLogin,d=(0,o.useRouter)(),m=(0,c.d)().openModal,p="".concat(s.ZO,"squads/new"),f=(0,r.useCallback)((function(e){var o,r;if(!t)return null==e||null===(r=e.event)||void 0===r||r.preventDefault(),void n({trigger:i._f.CreateSquad});null==e||null===(o=e.event)||void 0===o||o.preventDefault(),null!=e&&e.pageRedirect?d.push("".concat(p,"?origin=").concat(e.origin)):m({type:u.K2.NewSquad})}),[t,m,n,d,p]),v=(0,r.useCallback)((function(e){var t=e.handle;d.push("".concat(s.ZO,"squads/").concat(t,"/edit"))}),[d]);return(0,r.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=Object.fromEntries(e);if(null!=t&&t.squad){var n=window.location,o=n.origin,r=n.pathname;f({origin:a.$e.Notification}),d.replace(o+r)}}),[d.pathname]),{openNewSquad:f,editSquad:v,newSquadUrl:p}}}}]);