"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[6618],{49112:(e,n,t)=>{t.d(n,{A:()=>i});var a=t(22155),r=t(30395),o=t.n(r),c=a.createElement;const i=function(e){var n=e.className,t=void 0===n?{}:n,a=e.label,r=void 0===a?"or":a,i=(null==t?void 0:t.border)||"bg-border-subtlest-tertiary";return c("div",{"aria-hidden":!0,className:o()("flex items-center justify-center typo-callout",null==t?void 0:t.container,(null==t?void 0:t.text)||"text-text-quarternary"),role:"separator"},c("div",{className:o()("h-px flex-1",i)}),r&&c("span",{className:"px-3"},r),c("div",{className:o()("h-px flex-1",i)}))}},9602:(e,n,t)=>{t.d(n,{k:()=>u});var a,r=t(7527),o=t(22155),c=t(97838);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i.apply(null,arguments)}const l=function(e){return o.createElement("svg",i({height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),a||(a=o.createElement("g",{fill:"none"},o.createElement("g",{fill:"#e01e5a"},o.createElement("path",{d:"M6.258 14.613c0 1.145-.935 2.08-2.08 2.08a2.086 2.086 0 01-2.081-2.08c0-1.145.935-2.08 2.08-2.08h2.081zM7.306 14.613c0-1.145.936-2.08 2.081-2.08s2.08.935 2.08 2.08v5.21c0 1.145-.935 2.08-2.08 2.08s-2.08-.935-2.08-2.08z"})),o.createElement("g",{fill:"#36c5f0"},o.createElement("path",{d:"M9.387 6.258a2.086 2.086 0 01-2.08-2.08c0-1.146.935-2.081 2.08-2.081s2.08.935 2.08 2.08v2.081zM9.387 7.306c1.145 0 2.08.936 2.08 2.081s-.935 2.08-2.08 2.08h-5.21c-1.145 0-2.08-.935-2.08-2.08s.935-2.08 2.08-2.08z"})),o.createElement("g",{fill:"#2eb67d"},o.createElement("path",{d:"M17.742 9.387c0-1.145.935-2.08 2.08-2.08s2.081.935 2.081 2.08-.935 2.08-2.08 2.08h-2.081zM16.694 9.387c0 1.145-.936 2.08-2.081 2.08a2.086 2.086 0 01-2.08-2.08v-5.21c0-1.145.935-2.08 2.08-2.08s2.08.935 2.08 2.08z"})),o.createElement("g",{fill:"#ecb22e"},o.createElement("path",{d:"M14.613 17.742c1.145 0 2.08.935 2.08 2.08s-.935 2.081-2.08 2.081a2.086 2.086 0 01-2.08-2.08v-2.081zM14.613 16.694a2.086 2.086 0 01-2.08-2.081c0-1.145.935-2.08 2.08-2.08h5.21c1.145 0 2.08.935 2.08 2.08s-.935 2.08-2.08 2.08z"})))))};var s=o.createElement,u=function(e){return s(c.Ay,(0,r.A)({},e,{IconPrimary:l,IconSecondary:l}))}},96919:(e,n,t)=>{t.r(n),t.d(n,{default:()=>S});var a=t(7527),r=t(22155),o=t(94198),c=t(77955),i=t(83448),l=t(53823),s=t(8952),u=t(54883),d=t(85681),g=t(41536),p=t(16763),h=t(67380),m=t(9602),I=t(49112),v=t(74689),f=t(57952),y=t(71705),w=t(61663),k=r.createElement;function S(e){var n=e.onRequestClose,t=(0,d.W)(),S=(0,w.DX)().logEvent,x=(0,s.i)().newSquadUrl,A=(0,r.useCallback)((function(){S({event_name:f.VB.StartAddingWorkspace,target_id:y.Ah.Slack,extra:JSON.stringify({origin:f.$e.NewSquadModal})}),t.connect({redirectPath:"".concat(u.ZO,"squads/new?fs=true")})}),[S,t]);return k(o.aF,(0,a.A)({},e,{size:c.rI.Small,isDrawerOnMobile:!0}),k(o.aF.Body,{className:"flex flex-col items-center justify-center gap-4 text-center"},k(v.O,{className:"right-8 top-8",onClick:n,variant:i.Ak.Primary}),k(g._V,{className:"rounded-16",src:p.F6,alt:"Slack integration"}),k(h.o5,{type:h.kR.Title1,bold:!0,color:h.X8.Primary},"Create new Squad"),k(h.o5,{type:h.kR.Body,color:h.X8.Secondary},"Create a group where you can learn and interact with other developers around topics that matter"),k(l.$n,{variant:i.Ak.Primary,onClick:A,icon:k(m.k,null),className:"w-full"},"Quick start with Slack"),k(h.o5,{type:h.kR.Footnote,color:h.X8.Quaternary},"Keep your team updated with the latest posts"),k(I.A,{className:{container:"w-full",text:"text-text-secondary",border:"bg-border-subtlest-secondary"}}),k(l.$n,{tag:"a",href:x,variant:i.Ak.Primary,className:"w-full"},"Create manually")))}},71705:(e,n,t)=>{t.d(n,{AI:()=>m,Ah:()=>d,Gn:()=>h,If:()=>I,K2:()=>p,fI:()=>g});var a,r,o,c,i,l,s=t(91591),u=t(2972),d=function(e){return e.Slack="slack",e}({}),g=(0,u.gql)(a||(a=(0,s.A)(["\n  query SlackChannels($integrationId: ID!) {\n    slackChannels(integrationId: $integrationId, limit: 999) {\n      data {\n        id\n        name\n      }\n    }\n  }\n"]))),p=(0,u.gql)(r||(r=(0,s.A)(["\n  mutation SlackConnectSource(\n    $integrationId: ID!\n    $channelId: ID!\n    $sourceId: ID!\n  ) {\n    slackConnectSource(\n      integrationId: $integrationId\n      channelId: $channelId\n      sourceId: $sourceId\n    ) {\n      _\n    }\n  }\n"]))),h=(0,u.gql)(o||(o=(0,s.A)(["\n  query SourceIntegration(\n    $sourceId: ID!\n    $userIntegrationType: UserIntegrationType!\n  ) {\n    sourceIntegration(sourceId: $sourceId, type: $userIntegrationType) {\n      userIntegration {\n        id\n        userId\n        type\n      }\n      type\n      createdAt\n      updatedAt\n      source {\n        id\n      }\n      channelIds\n    }\n  }\n"]))),m=((0,u.gql)(c||(c=(0,s.A)(["\n  query SourceIntegrations($integrationId: ID!) {\n    sourceIntegrations(integrationId: $integrationId) {\n      edges {\n        node {\n          userIntegration {\n            id\n            userId\n            type\n          }\n          type\n          createdAt\n          updatedAt\n          source {\n            id\n            name\n            handle\n            image\n          }\n          channelIds\n        }\n      }\n    }\n  }\n"]))),(0,u.gql)(i||(i=(0,s.A)(["\n  mutation RemoveIntegration($integrationId: ID!) {\n    removeIntegration(integrationId: $integrationId) {\n      _\n    }\n  }\n"])))),I=(0,u.gql)(l||(l=(0,s.A)(["\n  mutation RemoveSourceIntegration($sourceId: ID!, $integrationId: ID!) {\n    removeSourceIntegration(\n      sourceId: $sourceId\n      integrationId: $integrationId\n    ) {\n      _\n    }\n  }\n"])))},85681:(e,n,t)=>{t.d(n,{W:()=>I});var a=t(89338),r=t(2827),o=t.n(r),c=t(22155),i=t(80244),l=t(85278),s=t(71705),u=t(54883),d=t(36899),g=t(61663),p=t(57952),h=t(74502),m=["channels:read","chat:write","channels:join","groups:read"],I=function(){var e=(0,i.Z2)().user,n=(0,g.DX)().logEvent,t=(0,c.useCallback)(function(){var n=(0,a.A)(o().mark((function n(t){var a,r,c;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=t.redirectPath,r=new URL("https://slack.com/oauth/v2/authorize"),c=new URL("".concat(h.y0,"/integrations/slack/auth/callback")),r.searchParams.append("redirect_uri",c.toString()),r.searchParams.append("state",e.id),r.searchParams.append("scope",m.join(",")),r.searchParams.append("client_id","1137730955072.7361269413077"),(0,l.TV)("slackRedirectPath",a,{path:"/",maxAge:3600,secure:!u.yz,domain:"daily.dev",sameSite:"lax"}),window.location.href=r.toString();case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[null==e?void 0:e.id]),r=(0,c.useCallback)(function(){var e=(0,a.A)(o().mark((function e(t){var a,r,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.integrationId,r=t.channelId,c=t.sourceId,n({event_name:p.VB.SetIntegration,target_id:s.Ah.Slack,extra:JSON.stringify({source:c})}),e.next=4,d.e.request(s.K2,{integrationId:a,channelId:r,sourceId:c});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[n]);return{connect:t,connectSource:r}}},8952:(e,n,t)=>{t.d(n,{i:()=>d});var a=t(9487),r=t(22155),o=t(57952),c=t(28926),i=t(80244),l=t(54883),s=t(89883),u=t(77955),d=function(){var e=(0,i.Z2)(),n=e.user,t=e.showLogin,d=(0,a.useRouter)(),g=(0,s.d)().openModal,p="".concat(l.ZO,"squads/new"),h=(0,r.useCallback)((function(e){var a,r;if(!n)return null==e||null===(r=e.event)||void 0===r||r.preventDefault(),void t({trigger:c._f.CreateSquad});null==e||null===(a=e.event)||void 0===a||a.preventDefault(),null!=e&&e.pageRedirect?d.push("".concat(p,"?origin=").concat(e.origin)):g({type:u.K2.NewSquad})}),[n,g,t,d,p]),m=(0,r.useCallback)((function(e){var n=e.handle;d.push("".concat(l.ZO,"squads/").concat(n,"/edit"))}),[d]);return(0,r.useEffect)((function(){var e=new URLSearchParams(window.location.search),n=Object.fromEntries(e);if(null!=n&&n.squad){var t=window.location,a=t.origin,r=t.pathname;h({origin:o.$e.Notification}),d.replace(a+r)}}),[d.pathname]),{openNewSquad:h,editSquad:m,newSquadUrl:p}}}}]);