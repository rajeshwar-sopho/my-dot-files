"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[8164],{20758:(e,t,n)=>{n.r(t),n.d(t,{BookmarkReminderModal:()=>R,default:()=>D});var r,a=n(75087),o=n(89338),i=n(50122),l=n(98093),u=n(2827),s=n.n(u),c=n(22155),m=n(71087),d=n(94198),p=n(99968),f=n(89113),k=n(77955),v=n(53823),A=n(83448),w=n(9899),x=n(93526),b=n(27504),y=["feedContextData"],h=c.createElement,B=Object.entries(w.KB).filter((function(e){var t=(0,l.A)(e,2)[1],n=(new Date).getHours()>=19;return!(w.KB.LaterToday===t&&n)})).map((function(e){var t=(0,l.A)(e,2);return{key:t[0],value:t[1]}})),C=(r={},(0,i.A)(r,w.KB.OneHour,null),(0,i.A)(r,w.KB.LaterToday,"h:mm a"),(0,i.A)(r,w.KB.Tomorrow,"eee, h:mm a"),(0,i.A)(r,w.KB.TwoDays,"eee, h:mm a"),(0,i.A)(r,w.KB.NextWeek,"eee, MMM d, h:mm a"),r),K=function(e){var t=e.option,n=e.onClick,r=e.isActive,a=t.value,o=new Date,i=C[a],l=i&&(0,m.A)((0,w.nG)(o,a),i);return h(v.$n,{"aria-checked":r,"aria-label":a,className:"w-full",name:"bookmarkReminder",onClick:n,role:"radio",type:"button",value:a,variant:r?A.Ak.Float:A.Ak.Option},h("span",{className:"flex-1 text-left"},a,l&&h("span",{className:"text-text-quaternary"}," (",l,")")))},R=function(e){var t=e.post,n=e.onReminderSet,r=e.isOpen,a=e.onRequestClose,i=(0,c.useState)(w.KB.OneHour),l=i[0],u=i[1],m=(0,w.WL)({post:t}).onBookmarkReminder,x=function(){var e=(0,o.A)(s().mark((function e(r){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),null==n||n(l),m({existingReminder:null===(o=t.bookmark)||void 0===o?void 0:o.remindAt,postId:t.id,preference:l}).then((function(){a(null)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return h(d.aF,{drawerProps:{title:"Set reminder",className:{title:"!block text-center border-transparent !typo-title2 pb-2"}},isDrawerOnMobile:r,isOpen:r,onRequestClose:a,size:k.rI.Small},h(p.rQ,{title:"Set reminder"}),h(f.c,null,h("form",{onSubmit:x},h("div",{role:"radiogroup","aria-required":!0,"aria-label":"Reminder time options",tabIndex:0},B.map((function(e){return h(K,{key:e.key,onClick:function(){return u(e.value)},isActive:l===e.value,option:e})}))),h("div",{className:"mt-5 flex flex-row justify-center"},h(v.$n,{className:"w-full responsiveModalBreakpoint:w-auto",variant:A.Ak.Primary},"Set reminder")))))};const D=function(e){var t=e.feedContextData,n=(0,a.A)(e,y);return h(b.A,{condition:!!t,wrapper:function(e){return h(x.c.Provider,{value:t},e)}},h(R,n))}}}]);