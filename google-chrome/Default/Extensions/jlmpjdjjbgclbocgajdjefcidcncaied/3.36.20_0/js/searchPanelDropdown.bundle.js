"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[9748],{31452:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ie});var o=r(50122),n=r(92203),l=r(22155),i=r(4394),s=r(68390),a=r(57952),u=r(43918),c=r(7527),d=r(30395),f=r.n(d),v=r(27496),p=r(75087),m=["children"],y=l.createElement,g=function(e){var t=e.children,r=(0,p.A)(e,m);return y("button",(0,c.A)({type:"button","data-search-panel-item":"true"},r),t)},x=["icon","children"],h=l.createElement,b=function(e){var t=e.icon,r=e.children,o=(0,p.A)(e,x);return h(g,(0,c.A)({},o,{className:f()(o.className,"flex w-full items-center gap-2 overflow-hidden rounded-12 p-2 hover:bg-surface-float focus:bg-surface-float laptop:text-text-tertiary")}),!!t&&t,r)},w=r(87192),N=r(63204),C=r(60092),k=r(97838),_=r(61663),A=l.createElement,S=function(e){var t=e.provider,r=(0,l.useContext)(v.I),o=C.Au[t],n=(0,w.Z)().search,i=(0,N.O)({provider:t}),s=t===C.B5,u=!r.provider&&s,d=(0,_.DX)().logEvent;return A(b,(0,c.A)({icon:A(o,{className:"rounded-6 p-0.5",size:k.lK.Small}),onClick:function(){d({event_name:a.VB.SubmitSearch,extra:JSON.stringify({query:r.query,provider:t})}),n({provider:t,query:r.query})},className:f()(u&&"bg-surface-float"),"data-search-panel-item":!s,tabIndex:s?-1:void 0},i),A("span",{className:"flex-shrink overflow-hidden overflow-ellipsis whitespace-nowrap typo-callout"},r.query," ",A("span",{className:"text-text-quaternary typo-footnote"},C.AP[t])))},q=["provider","children"],P=l.createElement,I=function(e){var t=e.provider,r=e.children,o=(0,p.A)(e,q),n=(0,N.O)({provider:t});return P(b,(0,c.A)({},o,n),r)},O=r(9487),E=r(96044),F=r(6103),R=r(10867),Z=r(54883),D=["suggestion"],V=l.createElement,z=function(e){var t=e.suggestion,r=(0,p.A)(e,D),o=(0,N.O)({provider:i.dw.Posts,text:t.title}),n=(0,R.X)(),l=null==n?void 0:n.sanitize;return V(b,(0,c.A)({},r,{icon:V(E.W,null)},o),!!l&&V("span",{className:"flex-shrink overflow-hidden overflow-ellipsis whitespace-nowrap typo-subhead [&>strong]:text-text-primary",dangerouslySetInnerHTML:{__html:l(t.title)}}))},B=function(e){var t,r,o=e.className,n=e.title,s=(0,O.useRouter)(),u=(0,l.useContext)(_.Ay).logEvent,c=(0,l.useContext)(v.I),d=(0,w.Z)().search,p=(0,F.I)({provider:i.dw.Posts,query:c.query}).suggestions;return null!=p&&null!==(t=p.hits)&&void 0!==t&&t.length?V("div",{className:f()(o,"flex flex-col")},V("div",{className:"relative my-2 flex items-center justify-start gap-2"},V("hr",{className:"w-2 border-border-subtlest-tertiary"}),V("span",{className:"relative inline-flex font-bold typo-footnote"},n),V("hr",{className:"flex-1 border-border-subtlest-tertiary"})),null==p||null===(r=p.hits)||void 0===r?void 0:r.map((function(e){return V(z,{key:e.title,suggestion:e,onClick:function(){!function(e){var t=e.title.replace(i.F,"");if(e.id)return u({event_name:a.VB.Click,target_type:a.yK.SearchRecommendation,target_id:e.id,feed_item_title:t,extra:JSON.stringify({origin:a.$e.HomePage,provider:i.dw.Posts})}),void s.push("".concat(Z.ZO,"posts/").concat(e.id));d({provider:i.dw.Posts,query:t})}(e)}})}))):null},T=r(41536),j=(0,l.createContext)(void 0),H=function(){return(0,l.useContext)(j)},J=r(81712),K=r(6652),U=r(69321),L=["suggestion","showFollow"],$=l.createElement,W=function(e){var t,r=e.suggestion,o=e.showFollow,n=(0,p.A)(e,L),l=H(),s=null==l?void 0:l.feed,a=function(){return $(T._V,{loading:"lazy",src:r.image,alt:"".concat(r.title," logo"),className:"size-7 rounded-full"})},u=(0,N.O)({provider:i.dw.Sources,text:r.title,icon:$(a,null)});return $(b,(0,c.A)({icon:$(a,null)},u,n,{className:"px-2 py-1"}),$("div",{className:"flex flex-1 flex-col items-start"},$("span",{className:"flex-shrink overflow-hidden overflow-ellipsis whitespace-nowrap font-bold text-text-primary typo-subhead"},r.title),$("span",{className:"text-text-quarternary typo-footnote"},"@",r.subtitle)),!!o&&$(U.W,{feedId:null==s?void 0:s.id,entityId:r.id,type:J.ZD.Source,status:null===(t=r.contentPreference)||void 0===t?void 0:t.status,entityName:"@".concat(r.subtitle),showSubscribe:!1,copyType:K.e.Custom}))},X=function(e){var t,r,o=e.className,n=e.showFollow,s=e.title,u=(0,l.useContext)(j),c=null==u?void 0:u.feed,d=(0,O.useRouter)(),p=(0,l.useContext)(_.Ay).logEvent,m=(0,l.useContext)(v.I),y=(0,F.I)({provider:i.dw.Sources,query:m.query,limit:3,includeContentPreference:!0,feedId:null==c?void 0:c.id}).suggestions;return null!=y&&null!==(t=y.hits)&&void 0!==t&&t.length?$("div",{className:f()(o,"flex flex-col")},$("div",{className:"relative my-2 flex items-center justify-start gap-2"},$("hr",{className:"w-2 border-border-subtlest-tertiary"}),$("span",{className:"relative inline-flex font-bold typo-footnote"},s),$("hr",{className:"flex-1 border-border-subtlest-tertiary"})),null==y||null===(r=y.hits)||void 0===r?void 0:r.map((function(e){return $(W,{key:e.title,showFollow:n,suggestion:e,onClick:function(){!function(e){var t,r=(null===(t=e.subtitle)||void 0===t?void 0:t.toLowerCase())||e.id;p({event_name:a.VB.Click,target_type:a.yK.SearchRecommendation,target_id:r,feed_item_title:r,extra:JSON.stringify({origin:a.$e.HomePage,provider:i.dw.Sources})}),d.push("".concat(Z.ZO,"sources/").concat(r))}(e)}})}))):null},M=r(33194),G=l.createElement,Q=function(e){var t=e.suggestion,r=e.onClick,o=(0,N.O)({provider:i.dw.Tags,text:t.title});return G(g,(0,c.A)({},o,{onClick:r}),G(M.F,{key:t.id,tag:t.id,buttonProps:{onClick:function(e){e.preventDefault()}}}))},Y=function(e){var t,r,o=e.className,n=e.title,s=(0,O.useRouter)(),u=(0,l.useContext)(_.Ay).logEvent,c=(0,l.useContext)(v.I),d=(0,F.I)({provider:i.dw.Tags,query:c.query,limit:5}).suggestions;return null!=d&&null!==(t=d.hits)&&void 0!==t&&t.length?G("div",{className:f()(o,"flex flex-col")},G("div",{className:"relative my-2 flex items-center justify-start gap-2"},G("hr",{className:"w-2 border-border-subtlest-tertiary"}),G("span",{className:"relative inline-flex font-bold typo-footnote"},n),G("hr",{className:"flex-1 border-border-subtlest-tertiary"})),G("div",{className:"flex-start flex flex-wrap gap-2 p-2"},null==d||null===(r=d.hits)||void 0===r?void 0:r.map((function(e){return G(Q,{key:e.title,suggestion:e,onClick:function(t){t.preventDefault(),function(e){var t=e.id||e.title.toLowerCase();u({event_name:a.VB.Click,target_type:a.yK.SearchRecommendation,target_id:t,feed_item_title:t,extra:JSON.stringify({origin:a.$e.HomePage,provider:i.dw.Tags})}),s.push("".concat(Z.ZO,"tags/").concat(t))}(e)}})})))):null},ee=["suggestion","showFollow"],te=l.createElement,re=function(e){var t,r=e.suggestion,o=e.showFollow,n=(0,p.A)(e,ee),l=H(),s=null==l?void 0:l.feed,a=function(){return te(T._V,{loading:"lazy",src:r.image,alt:"".concat(r.title," logo"),className:"size-7 rounded-8"})},u=(0,N.O)({provider:i.dw.Users,text:r.title,icon:te(a,null)});return te(b,(0,c.A)({icon:te(a,null)},u,n,{className:"px-2 py-1"}),te("div",{className:"flex flex-1 flex-col items-start"},te("span",{className:"flex-shrink overflow-hidden overflow-ellipsis whitespace-nowrap font-bold text-text-primary typo-subhead"},r.title),te("span",{className:"text-text-quarternary typo-footnote"},"@",r.subtitle)),!!o&&te(U.W,{feedId:null==s?void 0:s.id,entityId:r.id,type:J.ZD.User,status:null===(t=r.contentPreference)||void 0===t?void 0:t.status,entityName:"@".concat(r.subtitle),showSubscribe:!1,copyType:K.e.Custom}))},oe=function(e){var t,r,o=e.className,n=e.title,s=e.showFollow,u=(0,l.useContext)(j),c=null==u?void 0:u.feed,d=(0,O.useRouter)(),p=(0,l.useContext)(_.Ay).logEvent,m=(0,l.useContext)(v.I),y=(0,F.I)({provider:i.dw.Users,query:m.query,limit:3,includeContentPreference:!0,feedId:null==c?void 0:c.id}).suggestions;return null!=y&&null!==(t=y.hits)&&void 0!==t&&t.length?te("div",{className:f()(o,"flex flex-col")},te("div",{className:"relative my-2 flex items-center justify-start gap-2"},te("hr",{className:"w-2 border-border-subtlest-tertiary"}),te("span",{className:"relative inline-flex font-bold typo-footnote"},n),te("hr",{className:"flex-1 border-border-subtlest-tertiary"})),null==y||null===(r=y.hits)||void 0===r?void 0:r.map((function(e){return te(re,{key:e.title,showFollow:s,suggestion:e,onClick:function(){!function(e){var t=e.id||e.subtitle.toLowerCase();p({event_name:a.VB.Click,target_type:a.yK.SearchRecommendation,target_id:t,feed_item_title:t,extra:JSON.stringify({origin:a.$e.HomePage,provider:i.dw.Users})}),d.push("".concat(Z.ZO,"/").concat(t))}(e)}})}))):null},ne=r(4004),le=l.createElement;const ie=function(e){var t=e.query,r=void 0===t?"":t,l=e.anchor,c=(0,w.Z)().search,d=(0,_.DX)().logEvent;return(0,ne.M)(l,"keydown",(function(e){var t,r=(0,n.A)(l.current.querySelectorAll('[data-search-panel-item="true"]')),i=r.findIndex((function(e){return"true"===e.getAttribute("data-search-panel-active")}));-1===i&&(i=0);var a=(t={},(0,o.A)(t,s.cb.Up,-1),(0,o.A)(t,s.cb.Down,1),t);0!==i&&(a[s.cb.Left]=-1,a[s.cb.Right]=1);var u=Object.keys(a).find((function(t){return t===e.key}));if(u){e.preventDefault();var c=r[i+a[u]];c&&c.focus()}})),le("div",{className:"absolute w-full items-center overflow-y-auto rounded-b-16 border-0 border-border-subtlest-tertiary bg-background-default px-3 py-2 laptop:h-auto laptop:max-h-[30rem] laptop:border-x laptop:border-b laptop:bg-background-subtle laptop:shadow-2"},le("div",{className:"flex flex-1 flex-col"},le(S,{provider:i.dw.Posts}),le(S,{provider:i.dw.Chat}),s.o&&le(S,{provider:i.dw.Google}),le(Y,{title:"Tags"}),le(B,{title:"Posts on daily.dev"}),le(X,{title:"Sources"}),le(oe,{title:"Users"}),le(I,{provider:i.dw.Posts,onClick:function(){d({event_name:a.VB.SubmitSearch,extra:JSON.stringify({query:r,provider:i.dw.Posts})}),c({provider:i.dw.Posts,query:r})}},le("div",{className:"flex items-center justify-center text-text-tertiary typo-subhead"},"See more posts ",le(u.HK,{className:"!size-4 rotate-90"})))))}}}]);