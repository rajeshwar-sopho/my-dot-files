import{a as Ce,b as Dt}from"../chunk-AHQHJZR5.js";import{A as D,B as ie,C as M,D as et,E as N,G as he,H as ye,I as U,J as Ie,K as At,L as Le,M as J,N as tt,O as Re,P as qt,b as St,c as H,d as Ze,e as q,f as Mt,g as v,h as ge,i as De,j as Nt,k as se,l as W,m as G,n as Me,o as te,p as It,s as j,u as ve,v as Lt,w as Rt,x as Ot,y as Ft,z as Ne}from"../chunk-OYHXKMKY.js";import{A as rt,E as Bt,F as Ht,G as Gr,a as P,b as qr,c as Wr,d as ae,e as R,l as Xe,o as ee,p as Tt,q as Pt,s as V,w as kt,x as pe,y as Ct}from"../chunk-GRFOF6YN.js";import{d as m}from"../chunk-FSRPMVAS.js";var Er=m(Wr());var oe=m(ae());var Oe=m(P()),be=m(ae()),le=m(R()),Kr=({name:e,defaultState:t=!0})=>{let[r,o]=(0,Oe.useState)(!0);return(0,Oe.useEffect)(()=>{be.default.storage.local.get(e).then(n=>{n[e]===void 0?be.default.storage.local.set({[e]:t}):o(n[e])})},[]),(0,le.jsx)("div",{children:(0,le.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,le.jsx)("input",{type:"checkbox",name:"",id:"",className:"form-checkbox h-5 w-5 text-primary-500",checked:r,onChange:async()=>{await be.default.storage.local.set({[e]:!r}),o(!r)}}),(0,le.jsx)("span",{className:"text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:be.default.i18n.getMessage(e)})]})})},Fe=Kr;var Be=m(P());var Gt=m(ae());var X=m(R());function ot({defaultValue:e,apiKey:t,showLabel:r=!0,provider:o}){let{data:s,error:n,isLoading:i}=Ce(t,o);return i?(0,X.jsx)("div",{children:"Loading..."}):n?(0,X.jsx)("div",{className:"prose prose-sm prose-primary flex grow flex-col dark:prose-invert",children:"Could not fetch models. Please check your API key."}):s?(0,X.jsxs)("div",{children:[r&&(0,X.jsx)("label",{htmlFor:"model",className:"block text-sm font-medium leading-6 text-gray-900",children:"Model"}),(0,X.jsx)("select",{id:"model",name:"model",className:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-primary-600 sm:text-sm sm:leading-6",defaultValue:e??V.getDefaultModel(o,{models:s}),required:!0,children:s?.filter(a=>kt.includes(a.slug)).map(a=>(0,X.jsx)("option",{value:a.slug,children:a.slug},a.slug))})]}):null}var Wt=m(ae());var Q=m(R());async function Ur(e){let t=await fetch(e),r=t.json();if(!t.ok)throw new Error(r?.detail?.message||"Unknown Error");return r}function _r(){return ee(Pt.endpoint+"/api/auth/session",Ur)}function Ae({defaultValue:e,showLabel:t=!0,disabled:r=!1,providerId:o}){let{data:s,isLoading:n,error:i}=_r(),{data:a,isLoading:l,error:d}=Ce(s?.accessToken,o),u=V.getConfig(o);return d&&console.log("error",d),i&&console.log("error",i),n||l?(0,Q.jsx)("div",{children:"Loading..."}):s?a?(0,Q.jsxs)("div",{children:[t&&(0,Q.jsx)("label",{htmlFor:"model",className:"ml-2 block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Model"}),(0,Q.jsx)("select",{id:"model",name:"model",className:"block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-primary-600 sm:text-sm sm:leading-6",defaultValue:e??V.getDefaultModel(o,{models:a}),required:!0,disabled:r,children:a.map(p=>(0,Q.jsx)("option",{value:p.slug,children:p.title},p.slug))})]}):null:(0,Q.jsx)("div",{className:"prose prose-sm prose-primary flex grow flex-col dark:prose-invert",children:(0,Q.jsx)("span",{dangerouslySetInnerHTML:{__html:Wt.default.i18n.getMessage(u.updateLoginMessage).replaceAll("<a>",`<a href="${u.endpoint}" target="_blank" rel="noreferrer">`)}})})}var E=m(R());function $r({config:e}){let[t,r]=(0,Be.useState)(e.apiKey),[o,s]=(0,Be.useState)(e.provider),[n,i]=(0,Be.useState)(!1),a=V.getConfig(o),l=async u=>{u.preventDefault();let p=new FormData(u.currentTarget),y=p.get("provider"),k=p.get("model")||V.getDefaultModel(y),S=a.authType==="login"?"":p.get("apiKey")||"";console.debug("provider",y),console.debug("model",k),console.debug("apiKey",S),await Ct({provider:y,model:k,apiKey:S}),Xe("isOpenAPIUser"),Xe("question-settings"),H.success("Changes saved")},d=()=>a.authType==="login"?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Dt,{onLoginStatusChange:i}),n&&(0,E.jsx)(Ae,{defaultValue:e.model,providerId:o})]}):a.needAPIKey?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("label",{htmlFor:"apiKey",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"API Key"}),(0,E.jsx)("div",{className:"mt-2",children:(0,E.jsx)("input",{type:"text",name:"apiKey",id:"apiKey",value:t,onChange:u=>r(u.target.value),required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-600 sm:text-sm sm:leading-6"})})]}),(0,E.jsx)(ot,{apiKey:t,defaultValue:e.model,provider:o})]}):(0,E.jsx)(Ae,{defaultValue:e.model,providerId:o});return(0,E.jsxs)("form",{onSubmit:l,className:"flex flex-col gap-3 text-sm",children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("label",{htmlFor:"provider",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Provider"}),(0,E.jsx)("select",{id:"provider",name:"provider",required:!0,className:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-primary-600 sm:text-sm sm:leading-6",value:o,onChange:u=>s(u.target.value),children:V.getList().map(u=>(0,E.jsx)("option",{value:u.id,children:u.title},u.id))})]}),d(),(a.authType!=="login"||a.authType==="login"&&n)&&(0,E.jsx)("div",{children:(0,E.jsx)("button",{className:"items-center rounded-md border border-transparent bg-primary-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:Gt.default.i18n.getMessage("save")})})]})}function nt(){let{data:e,isLoading:t}=ee("provider-configs",pe);return t||!e?(0,E.jsx)(Tt,{}):(0,E.jsx)($r,{config:e})}var Kt=m(P(),1);function Y(...e){return(0,Kt.useMemo)(()=>Me(...e),[...e])}var He=m(P(),1);function qe(e,t){let r=(0,He.useRef)([]),o=v(e);(0,He.useEffect)(()=>{let s=[...r.current];for(let[n,i]of t.entries())if(r.current[n]!==i){let a=o(t,s);return r.current=t,a}},[o,...t])}function Ut(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}var z=[];Ut(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&z[0]!==t.target&&(z.unshift(t.target),z=z.filter(r=>r!=null&&r.isConnected),z.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});var f=m(P(),1);var _=m(P(),1);var _t=m(P(),1);function We(e,t,r,o){let s=Mt(r);(0,_t.useEffect)(()=>{e=e??window;function n(i){s.current(i)}return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)},[e,t,o])}var Ge=m(P(),1);function Ke(e){let t=v(e),r=(0,Ge.useRef)(!1);(0,Ge.useEffect)(()=>(r.current=!1,()=>{r.current=!0,ge(()=>{r.current&&t()})}),[t])}var $t=m(P(),1);var ue=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ue||{});function Vt(){let e=(0,$t.useRef)(0);return Rt("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Qt(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}var Vr="div",Yt=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Yt||{});function Qr(e,t){let r=(0,_.useRef)(null),o=D(r,t),{initialFocus:s,containers:n,features:i=30,...a}=e;se()||(i=1);let l=Y(r);jr({ownerDocument:l},!!(i&16));let d=Jr({ownerDocument:l,container:r,initialFocus:s},!!(i&2));Xr({ownerDocument:l,container:r,containers:n,previousActiveElement:d},!!(i&8));let u=Vt(),p=v(I=>{let h=r.current;h&&(L=>L())(()=>{G(u.current,{[ue.Forwards]:()=>{ve(h,te.First,{skipElements:[I.relatedTarget]})},[ue.Backwards]:()=>{ve(h,te.Last,{skipElements:[I.relatedTarget]})}})})}),y=Nt(),k=(0,_.useRef)(!1),S={ref:o,onKeyDown(I){I.key=="Tab"&&(k.current=!0,y.requestAnimationFrame(()=>{k.current=!1}))},onBlur(I){let h=Qt(n);r.current instanceof HTMLElement&&h.add(r.current);let L=I.relatedTarget;L instanceof HTMLElement&&L.dataset.headlessuiFocusGuard!=="true"&&(zt(h,L)||(k.current?ve(r.current,G(u.current,{[ue.Forwards]:()=>te.Next,[ue.Backwards]:()=>te.Previous})|te.WrapAround,{relativeTo:I.target}):I.target instanceof HTMLElement&&j(I.target)))}};return _.default.createElement(_.default.Fragment,null,!!(i&4)&&_.default.createElement(ye,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:he.Focusable}),M({ourProps:S,theirProps:a,defaultTag:Vr,name:"FocusTrap"}),!!(i&4)&&_.default.createElement(ye,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:he.Focusable}))}var Yr=N(Qr),ce=Object.assign(Yr,{features:Yt});function zr(e=!0){let t=(0,_.useRef)(z.slice());return qe(([r],[o])=>{o===!0&&r===!1&&ge(()=>{t.current.splice(0)}),o===!1&&r===!0&&(t.current=z.slice())},[e,z,t]),v(()=>{var r;return(r=t.current.find(o=>o!=null&&o.isConnected))!=null?r:null})}function jr({ownerDocument:e},t){let r=zr(t);qe(()=>{t||e?.activeElement===e?.body&&j(r())},[t]),Ke(()=>{t&&j(r())})}function Jr({ownerDocument:e,container:t,initialFocus:r},o){let s=(0,_.useRef)(null),n=tt();return qe(()=>{if(!o)return;let i=t.current;i&&ge(()=>{if(!n.current)return;let a=e?.activeElement;if(r!=null&&r.current){if(r?.current===a){s.current=a;return}}else if(i.contains(a)){s.current=a;return}r!=null&&r.current?j(r.current):ve(i,te.First)===It.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=e?.activeElement})},[o]),s}function Xr({ownerDocument:e,container:t,containers:r,previousActiveElement:o},s){let n=tt();We(e?.defaultView,"focus",i=>{if(!s||!n.current)return;let a=Qt(r);t.current instanceof HTMLElement&&a.add(t.current);let l=o.current;if(!l)return;let d=i.target;d&&d instanceof HTMLElement?zt(a,d)?(o.current=d,j(d)):(i.preventDefault(),i.stopPropagation(),j(l)):j(o.current)},!0)}function zt(e,t){for(let r of e)if(r.contains(t))return!0;return!1}var b=m(P(),1),Xt=m(qr(),1);var de=m(P(),1),jt=(0,de.createContext)(!1);function Jt(){return(0,de.useContext)(jt)}function Ue(e){return de.default.createElement(jt.Provider,{value:e.force},e.children)}function Zr(e){let t=Jt(),r=(0,b.useContext)(Zt),o=Y(e),[s,n]=(0,b.useState)(()=>{if(!t&&r!==null||Ze.isServer)return null;let i=o?.getElementById("headlessui-portal-root");if(i)return i;if(o===null)return null;let a=o.createElement("div");return a.setAttribute("id","headlessui-portal-root"),o.body.appendChild(a)});return(0,b.useEffect)(()=>{s!==null&&(o!=null&&o.body.contains(s)||o==null||o.body.appendChild(s))},[s,o]),(0,b.useEffect)(()=>{t||r!==null&&n(r.current)},[r,n,t]),s}var eo=b.Fragment;function to(e,t){let r=e,o=(0,b.useRef)(null),s=D(Ne(u=>{o.current=u}),t),n=Y(o),i=Zr(o),[a]=(0,b.useState)(()=>{var u;return Ze.isServer?null:(u=n?.createElement("div"))!=null?u:null}),l=(0,b.useContext)(at),d=se();return q(()=>{!i||!a||i.contains(a)||(a.setAttribute("data-headlessui-portal",""),i.appendChild(a))},[i,a]),q(()=>{if(a&&l)return l.register(a)},[l,a]),Ke(()=>{var u;!i||!a||(a instanceof Node&&i.contains(a)&&i.removeChild(a),i.childNodes.length<=0&&((u=i.parentElement)==null||u.removeChild(i)))}),d?!i||!a?null:(0,Xt.createPortal)(M({ourProps:{ref:s},theirProps:r,defaultTag:eo,name:"Portal"}),a):null}var ro=b.Fragment,Zt=(0,b.createContext)(null);function oo(e,t){let{target:r,...o}=e,s={ref:D(t)};return b.default.createElement(Zt.Provider,{value:r},M({ourProps:s,theirProps:o,defaultTag:ro,name:"Popover.Group"}))}var at=(0,b.createContext)(null);function er(){let e=(0,b.useContext)(at),t=(0,b.useRef)([]),r=v(n=>(t.current.push(n),e&&e.register(n),()=>o(n))),o=v(n=>{let i=t.current.indexOf(n);i!==-1&&t.current.splice(i,1),e&&e.unregister(n)}),s=(0,b.useMemo)(()=>({register:r,unregister:o,portals:t}),[r,o,t]);return[t,(0,b.useMemo)(()=>function({children:n}){return b.default.createElement(at.Provider,{value:s},n)},[s])]}var no=N(to),ao=N(oo),_e=Object.assign(no,{Group:ao});var or=m(P(),1);var so=m(P(),1);function io(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lo=typeof Object.is=="function"?Object.is:io,{useState:uo,useEffect:co,useLayoutEffect:mo,useDebugValue:fo}=so;function tr(e,t,r){let o=t(),[{inst:s},n]=uo({inst:{value:o,getSnapshot:t}});return mo(()=>{s.value=o,s.getSnapshot=t,st(s)&&n({inst:s})},[e,o,t]),co(()=>(st(s)&&n({inst:s}),e(()=>{st(s)&&n({inst:s})})),[e]),fo(o),o}function st(e){let t=e.getSnapshot,r=e.value;try{let o=t();return!lo(r,o)}catch{return!0}}function rr(e,t,r){return t()}var po=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",go=!po,vo=go?rr:tr,nr="useSyncExternalStore"in or?(e=>e.useSyncExternalStore)(or):vo;function ar(e){return nr(e.subscribe,e.getSnapshot,e.getSnapshot)}function sr(e,t){let r=e(),o=new Set;return{getSnapshot(){return r},subscribe(s){return o.add(s),()=>o.delete(s)},dispatch(s,...n){let i=t[s].call(r,...n);i&&(r=i,o.forEach(a=>a()))}}}function ir(){let e;return{before({doc:t}){var r;let o=t.documentElement;e=((r=t.defaultView)!=null?r:window).innerWidth-o.clientWidth},after({doc:t,d:r}){let o=t.documentElement,s=o.clientWidth-o.offsetWidth,n=e-s;r.style(o,"paddingRight",`${n}px`)}}}function lr(){return Lt()?{before({doc:e,d:t,meta:r}){function o(s){return r.containers.flatMap(n=>n()).some(n=>n.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=De();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let n=(s=window.scrollY)!=null?s:window.pageYOffset,i=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:d}=new URL(l.href),u=e.querySelector(d);u&&!o(u)&&(i=u)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(o(a.target)){let l=a.target;for(;l.parentElement&&o(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement)if(o(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;n!==l&&window.scrollTo(0,n),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function ur(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function ho(e){let t={};for(let r of e)Object.assign(t,r(t));return t}var Z=sr(()=>new Map,{PUSH(e,t){var r;let o=(r=this.get(e))!=null?r:{doc:e,count:0,d:De(),meta:new Set};return o.count++,o.meta.add(t),this.set(e,o),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let o={doc:e,d:t,meta:ho(r)},s=[lr(),ir(),ur()];s.forEach(({before:n})=>n?.(o)),s.forEach(({after:n})=>n?.(o))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Z.subscribe(()=>{let e=Z.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let o=t.get(r.doc)==="hidden",s=r.count!==0;(s&&!o||!s&&o)&&Z.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Z.dispatch("TEARDOWN",r)}});function cr(e,t,r){let o=ar(Z),s=e?o.get(e):void 0,n=s?s.count>0:!1;return q(()=>{if(!(!e||!t))return Z.dispatch("PUSH",e,r),()=>Z.dispatch("POP",e,r)},[t,e]),n}var it=new Map,we=new Map;function lt(e,t=!0){q(()=>{var r;if(!t)return;let o=typeof e=="function"?e():e.current;if(!o)return;function s(){var i;if(!o)return;let a=(i=we.get(o))!=null?i:1;if(a===1?we.delete(o):we.set(o,a-1),a!==1)return;let l=it.get(o);l&&(l["aria-hidden"]===null?o.removeAttribute("aria-hidden"):o.setAttribute("aria-hidden",l["aria-hidden"]),o.inert=l.inert,it.delete(o))}let n=(r=we.get(o))!=null?r:0;return we.set(o,n+1),n!==0||(it.set(o,{"aria-hidden":o.getAttribute("aria-hidden"),inert:o.inert}),o.setAttribute("aria-hidden","true"),o.inert=!0),s},[e,t])}var me=m(P(),1);function dr({defaultContainers:e=[],portals:t,mainTreeNodeRef:r}={}){var o;let s=(0,me.useRef)((o=r?.current)!=null?o:null),n=Y(s),i=v(()=>{var a,l,d;let u=[];for(let p of e)p!==null&&(p instanceof HTMLElement?u.push(p):"current"in p&&p.current instanceof HTMLElement&&u.push(p.current));if(t!=null&&t.current)for(let p of t.current)u.push(p);for(let p of(a=n?.querySelectorAll("html > *, body > *"))!=null?a:[])p!==document.body&&p!==document.head&&p instanceof HTMLElement&&p.id!=="headlessui-portal-root"&&(p.contains(s.current)||p.contains((d=(l=s.current)==null?void 0:l.getRootNode())==null?void 0:d.host)||u.some(y=>p.contains(y))||u.push(p));return u});return{resolveContainers:i,contains:v(a=>i().some(l=>l.contains(a))),mainTreeNodeRef:s,MainTreeNode:(0,me.useMemo)(()=>function(){return r!=null?null:me.default.createElement(ye,{features:he.Hidden,ref:s})},[s,r])}}var fe=m(P(),1);var ut=(0,fe.createContext)(()=>{});ut.displayName="StackContext";var $e=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))($e||{});function yo(){return(0,fe.useContext)(ut)}function mr({children:e,onUpdate:t,type:r,element:o,enabled:s}){let n=yo(),i=v((...a)=>{t?.(...a),n(...a)});return q(()=>{let a=s===void 0||s===!0;return a&&i(0,r,o),()=>{a&&i(1,r,o)}},[i,r,o,s]),fe.default.createElement(ut.Provider,{value:i},e)}var K=m(P(),1);var fr=(0,K.createContext)(null);function pr(){let e=(0,K.useContext)(fr);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,pr),t}return e}function gr(){let[e,t]=(0,K.useState)([]);return[e.length>0?e.join(" "):void 0,(0,K.useMemo)(()=>function(r){let o=v(n=>(t(i=>[...i,n]),()=>t(i=>{let a=i.slice(),l=a.indexOf(n);return l!==-1&&a.splice(l,1),a}))),s=(0,K.useMemo)(()=>({register:o,slot:r.slot,name:r.name,props:r.props}),[o,r.slot,r.name,r.props]);return K.default.createElement(fr.Provider,{value:s},r.children)},[t])]}var bo="p";function wo(e,t){let r=W(),{id:o=`headlessui-description-${r}`,...s}=e,n=pr(),i=D(t);q(()=>n.register(o),[o,n.register]);let a={ref:i,...n.props,id:o};return M({ourProps:a,theirProps:s,slot:n.slot||{},defaultTag:bo,name:n.name||"Description"})}var Eo=N(wo),vr=Object.assign(Eo,{});var xo=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(xo||{}),So=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(So||{}),To={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Ve=(0,f.createContext)(null);Ve.displayName="DialogContext";function Ee(e){let t=(0,f.useContext)(Ve);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ee),r}return t}function Po(e,t,r=()=>[document.body]){cr(e,t,o=>{var s;return{containers:[...(s=o.containers)!=null?s:[],r]}})}function ko(e,t){return G(t.type,To,e,t)}var Co="div",Do=ie.RenderStrategy|ie.Static;function Mo(e,t){let r=W(),{id:o=`headlessui-dialog-${r}`,open:s,onClose:n,initialFocus:i,role:a="dialog",__demoMode:l=!1,...d}=e,[u,p]=(0,f.useState)(0),y=(0,f.useRef)(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(y.current||(y.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let k=Ie();s===void 0&&k!==null&&(s=(k&U.Open)===U.Open);let S=(0,f.useRef)(null),I=D(S,t),h=Y(S),L=e.hasOwnProperty("open")||k!==null,w=e.hasOwnProperty("onClose");if(!L&&!w)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!L)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!w)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof n!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${n}`);let C=s?0:1,[xe,Tr]=(0,f.useReducer)(ko,{titleId:null,descriptionId:null,panelRef:(0,f.createRef)()}),ne=v(()=>n(!1)),bt=v(T=>Tr({type:0,id:T})),Se=se()?l?!1:C===0:!1,Te=u>1,wt=(0,f.useContext)(Ve)!==null,[Pr,kr]=er(),Cr={get current(){var T;return(T=xe.panelRef.current)!=null?T:S.current}},{resolveContainers:Je,mainTreeNodeRef:Pe,MainTreeNode:Dr}=dr({portals:Pr,defaultContainers:[Cr]}),Mr=Te?"parent":"leaf",Et=k!==null?(k&U.Closing)===U.Closing:!1,Nr=wt||Et?!1:Se,Ir=(0,f.useCallback)(()=>{var T,$;return($=Array.from((T=h?.querySelectorAll("body > *"))!=null?T:[]).find(F=>F.id==="headlessui-portal-root"?!1:F.contains(Pe.current)&&F instanceof HTMLElement))!=null?$:null},[Pe]);lt(Ir,Nr);let Lr=Te?!0:Se,Rr=(0,f.useCallback)(()=>{var T,$;return($=Array.from((T=h?.querySelectorAll("[data-headlessui-portal]"))!=null?T:[]).find(F=>F.contains(Pe.current)&&F instanceof HTMLElement))!=null?$:null},[Pe]);lt(Rr,Lr),Ot(Je,ne,!(!Se||Te));let Or=!(Te||C!==0);We(h?.defaultView,"keydown",T=>{Or&&(T.defaultPrevented||T.key===J.Escape&&(T.preventDefault(),T.stopPropagation(),ne()))}),Po(h,!(Et||C!==0||wt),Je),(0,f.useEffect)(()=>{if(C!==0||!S.current)return;let T=new ResizeObserver($=>{for(let F of $){let ke=F.target.getBoundingClientRect();ke.x===0&&ke.y===0&&ke.width===0&&ke.height===0&&ne()}});return T.observe(S.current),()=>T.disconnect()},[C,S,ne]);let[Fr,Ar]=gr(),Br=(0,f.useMemo)(()=>[{dialogState:C,close:ne,setTitleId:bt},xe],[C,xe,ne,bt]),xt=(0,f.useMemo)(()=>({open:C===0}),[C]),Hr={ref:I,id:o,role:a,"aria-modal":C===0?!0:void 0,"aria-labelledby":xe.titleId,"aria-describedby":Fr};return f.default.createElement(mr,{type:"Dialog",enabled:C===0,element:S,onUpdate:v((T,$)=>{$==="Dialog"&&G(T,{[$e.Add]:()=>p(F=>F+1),[$e.Remove]:()=>p(F=>F-1)})})},f.default.createElement(Ue,{force:!0},f.default.createElement(_e,null,f.default.createElement(Ve.Provider,{value:Br},f.default.createElement(_e.Group,{target:S},f.default.createElement(Ue,{force:!1},f.default.createElement(Ar,{slot:xt,name:"Dialog.Description"},f.default.createElement(ce,{initialFocus:i,containers:Je,features:Se?G(Mr,{parent:ce.features.RestoreFocus,leaf:ce.features.All&~ce.features.FocusLock}):ce.features.None},f.default.createElement(kr,null,M({ourProps:Hr,theirProps:d,slot:xt,defaultTag:Co,features:Do,visible:C===0,name:"Dialog"}))))))))),f.default.createElement(Dr,null))}var No="div";function Io(e,t){let r=W(),{id:o=`headlessui-dialog-overlay-${r}`,...s}=e,[{dialogState:n,close:i}]=Ee("Dialog.Overlay"),a=D(t),l=v(u=>{if(u.target===u.currentTarget){if(Le(u.currentTarget))return u.preventDefault();u.preventDefault(),u.stopPropagation(),i()}}),d=(0,f.useMemo)(()=>({open:n===0}),[n]);return M({ourProps:{ref:a,id:o,"aria-hidden":!0,onClick:l},theirProps:s,slot:d,defaultTag:No,name:"Dialog.Overlay"})}var Lo="div";function Ro(e,t){let r=W(),{id:o=`headlessui-dialog-backdrop-${r}`,...s}=e,[{dialogState:n},i]=Ee("Dialog.Backdrop"),a=D(t);(0,f.useEffect)(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let l=(0,f.useMemo)(()=>({open:n===0}),[n]);return f.default.createElement(Ue,{force:!0},f.default.createElement(_e,null,M({ourProps:{ref:a,id:o,"aria-hidden":!0},theirProps:s,slot:l,defaultTag:Lo,name:"Dialog.Backdrop"})))}var Oo="div";function Fo(e,t){let r=W(),{id:o=`headlessui-dialog-panel-${r}`,...s}=e,[{dialogState:n},i]=Ee("Dialog.Panel"),a=D(t,i.panelRef),l=(0,f.useMemo)(()=>({open:n===0}),[n]),d=v(u=>{u.stopPropagation()});return M({ourProps:{ref:a,id:o,onClick:d},theirProps:s,slot:l,defaultTag:Oo,name:"Dialog.Panel"})}var Ao="h2";function Bo(e,t){let r=W(),{id:o=`headlessui-dialog-title-${r}`,...s}=e,[{dialogState:n,setTitleId:i}]=Ee("Dialog.Title"),a=D(t);(0,f.useEffect)(()=>(i(o),()=>i(null)),[o,i]);let l=(0,f.useMemo)(()=>({open:n===0}),[n]);return M({ourProps:{ref:a,id:o},theirProps:s,slot:l,defaultTag:Ao,name:"Dialog.Title"})}var Ho=N(Mo),qo=N(Ro),Wo=N(Fo),Go=N(Io),Ko=N(Bo),Qe=Object.assign(Ho,{Backdrop:qo,Panel:Wo,Overlay:Go,Title:Ko,Description:vr});var g=m(P(),1);var yr=m(P(),1),hr,br=(hr=yr.default.startTransition)!=null?hr:function(e){e()};var Uo=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Uo||{}),_o=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(_o||{}),$o={0:e=>({...e,disclosureState:G(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},ct=(0,g.createContext)(null);ct.displayName="DisclosureContext";function dt(e){let t=(0,g.useContext)(ct);if(t===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,dt),r}return t}var mt=(0,g.createContext)(null);mt.displayName="DisclosureAPIContext";function wr(e){let t=(0,g.useContext)(mt);if(t===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,wr),r}return t}var ft=(0,g.createContext)(null);ft.displayName="DisclosurePanelContext";function Vo(){return(0,g.useContext)(ft)}function Qo(e,t){return G(t.type,$o,e,t)}var Yo=g.Fragment;function zo(e,t){let{defaultOpen:r=!1,...o}=e,s=(0,g.useRef)(null),n=D(t,Ne(h=>{s.current=h},e.as===void 0||e.as===g.Fragment)),i=(0,g.useRef)(null),a=(0,g.useRef)(null),l=(0,g.useReducer)(Qo,{disclosureState:r?0:1,linkedPanel:!1,buttonRef:a,panelRef:i,buttonId:null,panelId:null}),[{disclosureState:d,buttonId:u},p]=l,y=v(h=>{p({type:1});let L=Me(s);if(!L||!u)return;let w=h?h instanceof HTMLElement?h:h.current instanceof HTMLElement?h.current:L.getElementById(u):L.getElementById(u);w?.focus()}),k=(0,g.useMemo)(()=>({close:y}),[y]),S=(0,g.useMemo)(()=>({open:d===0,close:y}),[d,y]),I={ref:n};return g.default.createElement(ct.Provider,{value:l},g.default.createElement(mt.Provider,{value:k},g.default.createElement(At,{value:G(d,{0:U.Open,1:U.Closed})},M({ourProps:I,theirProps:o,slot:S,defaultTag:Yo,name:"Disclosure"}))))}var jo="button";function Jo(e,t){let r=W(),{id:o=`headlessui-disclosure-button-${r}`,...s}=e,[n,i]=dt("Disclosure.Button"),a=Vo(),l=a===null?!1:a===n.panelId,d=(0,g.useRef)(null),u=D(d,t,l?null:n.buttonRef),p=et();(0,g.useEffect)(()=>{if(!l)return i({type:2,buttonId:o}),()=>{i({type:2,buttonId:null})}},[o,i,l]);let y=v(w=>{var C;if(l){if(n.disclosureState===1)return;switch(w.key){case J.Space:case J.Enter:w.preventDefault(),w.stopPropagation(),i({type:0}),(C=n.buttonRef.current)==null||C.focus();break}}else switch(w.key){case J.Space:case J.Enter:w.preventDefault(),w.stopPropagation(),i({type:0});break}}),k=v(w=>{switch(w.key){case J.Space:w.preventDefault();break}}),S=v(w=>{var C;Le(w.currentTarget)||e.disabled||(l?(i({type:0}),(C=n.buttonRef.current)==null||C.focus()):i({type:0}))}),I=(0,g.useMemo)(()=>({open:n.disclosureState===0}),[n]),h=Ft(e,d),L=l?{ref:u,type:h,onKeyDown:y,onClick:S}:{ref:u,id:o,type:h,"aria-expanded":n.disclosureState===0,"aria-controls":n.linkedPanel?n.panelId:void 0,onKeyDown:y,onKeyUp:k,onClick:S};return M({mergeRefs:p,ourProps:L,theirProps:s,slot:I,defaultTag:jo,name:"Disclosure.Button"})}var Xo="div",Zo=ie.RenderStrategy|ie.Static;function en(e,t){let r=W(),{id:o=`headlessui-disclosure-panel-${r}`,...s}=e,[n,i]=dt("Disclosure.Panel"),{close:a}=wr("Disclosure.Panel"),l=et(),d=D(t,n.panelRef,S=>{br(()=>i({type:S?4:5}))});(0,g.useEffect)(()=>(i({type:3,panelId:o}),()=>{i({type:3,panelId:null})}),[o,i]);let u=Ie(),p=u!==null?(u&U.Open)===U.Open:n.disclosureState===0,y=(0,g.useMemo)(()=>({open:n.disclosureState===0,close:a}),[n,a]),k={ref:d,id:o};return g.default.createElement(ft.Provider,{value:n.panelId},M({mergeRefs:l,ourProps:k,theirProps:s,slot:y,defaultTag:Xo,features:Zo,visible:p,name:"Disclosure.Panel"}))}var tn=N(zo),rn=N(Jo),on=N(en),re=Object.assign(tn,{Button:rn,Panel:on});var gt=m(Gr());var A=m(P());var O=m(ae());function pt(e){return typeof e=="object"&&e!==null&&"question"in e&&typeof e.question=="string"&&"systemMessage"in e&&(e.systemMessage==null||typeof e.systemMessage=="string")}var c=m(R()),Ye=[{name:"{{TITLE}}",description:"The title of the active website"},{name:"{{CONTENT}}",description:"The main text content of the active website"},{name:"{{URL}}",description:"The url of the active website"},{name:"{{SELECTED_LANGUAGE}}",description:"You can change this language directly inside of the popup."}];function nn(){let e=ee("isOpenAPIUser",async()=>O.default.storage.local.get({apiKey:!1,provider:"web"}));return!!(e.data&&e.data.provider==="api"&&e.data.apiKey)}function vt(){let e=nn(),[t,r]=(0,A.useState)(""),[o,s]=(0,A.useState)(""),[n,i]=(0,A.useState)(!1),a=(0,A.useRef)(null),l=ee("question-settings",async()=>{let u=(await pe()).model.startsWith("gpt-4");return O.default.storage.local.get({question:O.default.i18n.getMessage(u?"defaultQuestionGPT4":"defaultQuestion"),systemMessage:O.default.i18n.getMessage("defaultSystemMessage")})});return(0,A.useEffect)(()=>{pt(l.data)&&(r(l.data.question),s(l.data.systemMessage??""))},[l.data]),(0,c.jsxs)("form",{onSubmit:async d=>{d.preventDefault();let u=d.target,p=new FormData(u),y=p.get("question");if(!Ye.some(w=>y.includes(w.name)))return H.error(`Please include at least one placeholder in your question (${Ye.map(w=>w.name).join(", ")})`);try{qt.parse(y)}catch(w){if(w instanceof Error)return H.error((0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"Template Error:"})," ",w.message]}))}let h=(await pe()).model.startsWith("gpt-4")?"defaultQuestionGPT4":"defaultQuestion",L={systemMessage:p.get("systemMessage"),question:y!==O.default.i18n.getMessage(h)?y:void 0};await O.default.storage.local.set(L),l.mutate(),H.success("Saved successfully!"),an(y)},className:"grid grid-cols-6 gap-3",children:[e&&(0,c.jsxs)(re,{as:"div",className:"col-span-12",defaultOpen:!1,children:[(0,c.jsx)(re.Button,{as:"label",htmlFor:"question",className:"flex items-center justify-between text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:({open:d})=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{children:O.default.i18n.getMessage("systemMessage")}),(0,c.jsx)(rt,{className:(0,gt.default)("h-4",{"rotate-180":d})})]})}),(0,c.jsx)(re.Panel,{unmount:!1,children:(0,c.jsx)("textarea",{id:"systemMessage",name:"systemMessage",rows:9,onChange:d=>s(d.target.value),value:o,className:"border-primary-gray-300 mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:text-gray-900 sm:text-sm"})})]}),(0,c.jsxs)(re,{as:"div",className:"col-span-12",defaultOpen:!0,children:[(0,c.jsx)(re.Button,{as:"label",htmlFor:"question",className:"flex items-center justify-between text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:({open:d})=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{children:O.default.i18n.getMessage("question")}),(0,c.jsx)(rt,{className:(0,gt.default)("h-4",{"rotate-180":d})})]})}),(0,c.jsxs)(re.Panel,{unmount:!1,children:[(0,c.jsx)("textarea",{id:"question",name:"question",rows:13,onChange:d=>r(d.target.value),value:t,className:"border-primary-gray-300 mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:text-gray-900 sm:text-sm"}),(0,c.jsxs)("p",{className:"text-primary-gray-500 mt-3 text-xs italic text-gray-600 dark:text-gray-200",children:["The question that should be send to ChatGPT. You can use the following placeholders:"," ",Ye.map(d=>(0,c.jsx)("code",{onClick:()=>{navigator.clipboard.writeText(d.name)},className:"m-0.5 mr-1 inline-block rounded border bg-gray-50 px-1 py-0.5 text-xs shadow-sm dark:text-gray-800",children:d.name},d.name))," ",(0,c.jsxs)("button",{type:"button",onClick:()=>i(!0),className:"inline-flex items-center rounded-full align-middle hover:bg-gray-300",children:[(0,c.jsx)(Bt,{className:"h-5 w-5"}),(0,c.jsx)("span",{className:"sr-only",children:O.default.i18n.getMessage("more info")})]})]})]})]}),(0,c.jsx)(Re.Root,{show:n,as:A.Fragment,children:(0,c.jsxs)(Qe,{as:"div",className:"relative z-10",initialFocus:a,onClose:i,children:[(0,c.jsx)(Re.Child,{as:A.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,c.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,c.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,c.jsx)("div",{className:"flex min-h-full items-end justify-center p-4  sm:items-center sm:p-0",children:(0,c.jsx)(Re.Child,{as:A.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,c.jsxs)(Qe.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[(0,c.jsx)("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:(0,c.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",onClick:()=>i(!1),children:[(0,c.jsx)("span",{className:"sr-only",children:"Close"}),(0,c.jsx)(Ht,{className:"h-6 w-6","aria-hidden":"true"})]})}),(0,c.jsx)("div",{children:(0,c.jsxs)("div",{children:[(0,c.jsx)(Qe.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:O.default.i18n.getMessage("info")}),(0,c.jsx)("div",{className:"mt-2",children:(0,c.jsxs)("p",{className:"prose prose-sm prose-primary",children:["Everytime you click on the extensions icon, a question will be generated and send to"," ",(0,c.jsx)("a",{href:"https://chatgpt.com",target:"_blank",rel:"noreferrer",children:"ChatGPT"})," ","or to the"," ",(0,c.jsx)("a",{href:"https://platform.openai.com/account/api-keys",target:"_blank",rel:"noreferrer",children:"OpenAI API"}),". This extension will extract some information from the currently active website and provide these infos to you via one of the placeholders.",(0,c.jsx)("h4",{className:"mt-4",children:"Available placeholders"}),(0,c.jsx)("ul",{className:"my-3 list-inside list-disc",children:Ye.map(d=>(0,c.jsxs)("li",{children:[(0,c.jsx)("span",{className:"m-0.5 mr-1 inline-block rounded border bg-gray-50 px-1 py-0.5 text-xs shadow-sm dark:text-gray-800",children:d.name})," ","- ",d.description]},d.name))}),"You need to include at least one placeholder in your question."]})})]})})]})})})})]})}),(0,c.jsxs)("div",{className:"col-span-12",children:[(0,c.jsx)("button",{type:"submit",className:"mr-1 items-center rounded-md border border-transparent bg-primary-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:O.default.i18n.getMessage("save")})," ",(0,c.jsx)("button",{type:"reset",className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",onClick:async()=>{await O.default.storage.local.remove(["question","systemMessage"]);let d=await l.mutate();pt(d)&&(r(d.question),s(d.systemMessage)),H.success("Question resetted")},children:O.default.i18n.getMessage("reset")})]})]})}function an(e){e.includes("{{SELECTED_LANGUAGE}}")||H.error(()=>(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Warning:"})," The question does not include a"," ",(0,c.jsx)("span",{className:"m-0.5 inline-block rounded border bg-gray-50 px-1 py-0.5 text-xs shadow-sm dark:text-gray-800",children:"{{ SELECTED_LANGUAGE }}"})," ","placeholder. This will disable the language selection in the popup."]}),{iconTheme:{primary:"#d97706",secondary:"#fef3c7"}}),e.includes("{{CONTENT}}")&&!e.endsWith("{{CONTENT}}")&&H.error(()=>(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Warning:"}),(0,c.jsx)("span",{className:"m-0.5 inline-block rounded border bg-gray-50 px-1 py-0.5 text-xs shadow-sm dark:text-gray-800",children:"{{ CONTENT }}"})," ","placeholder is not positioned at the end. This could cause various problems in answers."]}),{iconTheme:{primary:"#d97706",secondary:"#fef3c7"}})}var je=m(P());var ze=m(ae()),B=m(R());function ht(){let[e,t]=(0,je.useState)(null);(0,je.useEffect)(()=>{r()},[]);let r=()=>{ze.default.storage.local.get(["embeddings"]).then(s=>{let n=JSON.stringify(s),a=new TextEncoder().encode(n).length/1048576;t(a)})},o=()=>{ze.default.storage.local.remove("embeddings").then(()=>{r(),H.success("Data cache cleared!")})};return(0,B.jsx)(B.Fragment,{children:e!==null?(0,B.jsxs)("div",{className:"pb-3 pt-1 text-sm",children:[(0,B.jsx)("h3",{className:"block font-medium leading-6 text-gray-900 dark:text-gray-200",children:ze.default.i18n.getMessage("memory")}),(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsxs)("p",{className:"",children:["Size of Data Cache: ",(0,B.jsxs)("strong",{children:[e.toFixed(2)," MB"]})]}),(0,B.jsx)("button",{className:"mr-1 items-center rounded-md border border-transparent bg-primary-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",onClick:o,children:"Clear"})]})]}):(0,B.jsx)("p",{children:"Calculating size..."})})}var x=m(R());function yt(){return(0,x.jsxs)("div",{className:"container mx-auto text-base",children:[(0,x.jsxs)("main",{className:"mx-auto mt-14 w-[500px] space-y-6",children:[(0,x.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:oe.default.i18n.getMessage("options")}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"mb-3 border-b pb-2 text-lg font-medium leading-6",children:oe.default.i18n.getMessage("prompt")}),(0,x.jsx)(vt,{})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"mb-3 border-b pb-2 text-lg font-medium leading-6",children:oe.default.i18n.getMessage("aiProvider")}),(0,x.jsx)(nt,{})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"mb-3 border-b pb-2 text-lg font-medium leading-6",children:oe.default.i18n.getMessage("misc")}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"mb-2 block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:oe.default.i18n.getMessage("appearance")}),(0,x.jsx)(Fe,{name:"showSummarizeButton"}),(0,x.jsx)(Fe,{name:"showYoutubeButton"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"mb-2 block pt-2 text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:oe.default.i18n.getMessage("behaviour")}),(0,x.jsx)(Fe,{name:"summarizeFullText",defaultState:!1})]}),(0,x.jsx)("div",{className:"pt-3",children:(0,x.jsx)(ht,{})})]})]}),(0,x.jsx)(St,{})]})}var Sr=m(R()),xr=document.getElementById("app");if(!xr)throw new Error("Failed to find the root element");var sn=(0,Er.createRoot)(xr);sn.render((0,Sr.jsx)(yt,{}));
