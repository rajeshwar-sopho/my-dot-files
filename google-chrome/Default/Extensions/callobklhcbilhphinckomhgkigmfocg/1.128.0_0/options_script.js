'use strict';var aa=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a},ba=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");},ca=ba(this),h=function(a,b){if(b)a:{var c=ca;a=a.split(".");for(var d=
0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&b!=null&&aa(c,a,{configurable:!0,writable:!0,value:b})}},n=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};h("Symbol.dispose",function(a){return a?a:Symbol("Symbol.dispose")});h("globalThis",function(a){return a||ca});
h("Object.entries",function(a){return a?a:function(b){var c=[],d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&c.push([d,b[d]]);return c}});/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var p=this||self,da=function(a){var b=typeof a;return b=="object"&&a!=null||b=="function"},ea=function(a,b,c){return a.call.apply(a.bind,arguments)},fa=function(a,b,c){if(!a)throw Error();if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}},q=function(a,b,c){q=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=
-1?ea:fa;return q.apply(null,arguments)},r=function(a,b){function c(){}c.prototype=b.prototype;a.Y=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ea=function(d,e,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[e].apply(d,g)}};var ha="getAccounts hello getLogBuffer recordLog getQuirks updateQuirks uiEvent proxyUIEvent getProxyConfig".split(" ");var oa=function(a){switch(a){case ia.name:return ia;case ja.name:return ja;case ka.name:return ka;case la.name:return la;case ma.name:return ma;default:let b=na.get(a);b||(b=new t(a),na.set(a,b));return b}},t=class{constructor(a){this.name=a}toString(){return this.name}},na=new Map,ia=new t("async"),ja=new t("generic"),ka=new t("runtime"),la=new t("system"),ma=new t("crypto"),pa=class extends Error{constructor(a,b,c){super(c);this.code=a;this.category=b;Object.setPrototypeOf(this,new.target.prototype)}toString(){return`${this.category}:${this.code} (${this.message||
"Undefined error."})`}};var qa=class{constructor(){let a=void 0,b=void 0;this.promise=new Promise((c,d)=>{a=c;b=d});this.resolve=a;this.reject=b}},ra=class extends pa{constructor(a,b="One or more errors occurred."){super(1,ia,b);this.errors=a;Object.setPrototypeOf(this,new.target.prototype)}flatten(){const a=[],b=[this.errors.slice(0)];for(;b.length!==0;){const c=b[0];for(;c.length!==0;){const d=c.shift();if(d instanceof ra){b.unshift(d.errors.slice(0));break}else a.push(d)}b[0]===c&&b.shift()}return new ra(a,this.message)}};function u(a,b){if(Error.captureStackTrace)Error.captureStackTrace(this,u);else{const c=Error().stack;c&&(this.stack=c)}a&&(this.message=String(a));b!==void 0&&(this.cause=b)}r(u,Error);u.prototype.name="CustomError";const sa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(typeof a==="string")return typeof b!=="string"||b.length!=1?-1:a.indexOf(b,0);for(let c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var v=function(){this.fa=Date.now()},ta=null;v.prototype.set=function(a){this.fa=a};v.prototype.reset=function(){this.set(Date.now())};v.prototype.get=function(){return this.fa};var w=class{constructor(a,b){this.name=a;this.value=b}toString(){return this.name}},ua=new w("OFF",Infinity),va=new w("CONFIG",700),x=[ua,new w("SHOUT",1200),new w("SEVERE",1E3),new w("WARNING",900),new w("INFO",800),va,new w("FINE",500),new w("FINER",400),new w("FINEST",300),new w("ALL",0)],y=null,wa=class{constructor(a,b,c,d,e){this.aa=void 0;this.reset(a||ua,b,c,d,e)}reset(a,b,c,d){this.la=d||Date.now();this.ra=a;this.ua=b;this.ta=c;this.aa=void 0}getMessage(){return this.ua}},xa=class{constructor(a=
null){this.level=null;this.qa=[];this.parent=a||null;this.children=[]}publish(a){let b=this;for(;b;)b.qa.forEach(c=>{c(a)}),b=b.parent}},ya=function(a,b){var c=a.entries[b];if(c)return c;c=b.lastIndexOf(".");c=b.slice(0,Math.max(c,0));c=ya(a,c);const d=new xa(c);a.entries[b]=d;c.children.push(d);return d},za=class{constructor(){this.entries={};const a=new xa;a.level=va;this.entries[""]=a}},Aa;/*

 Copyright Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
function z(a){return a.toString().indexOf("`")===-1}z(a=>a``)||z(a=>a`\0`)||z(a=>a`\n`)||z(a=>a`\u0000`);let Ba=globalThis.trustedTypes,Ca;function Da(){let a=null;if(!Ba)return a;try{const b=c=>c;a=Ba.createPolicy("goog#html",{createHTML:b,createScript:b,createScriptURL:b})}catch(b){}return a}function Ea(){Ca===void 0&&(Ca=Da());return Ca};var Fa=class{constructor(a){this.ba=a}toString(){return this.ba+""}};function Ga(a){const b=Ea();return new Fa(b?b.createHTML(a):a)};var Ha=class{constructor(a){this.ca=a}toString(){return this.ca+""}};function Ia(a){const b=Ea();return new Ha(b?b.createScriptURL(a):a)}function Ja(a){if(a instanceof Ha)return a.ca;throw Error("");};var A=class{constructor(a){this.da=a}toString(){return this.da}},Ka=new A("about:invalid#zClosurez");class La{constructor(a){this.isValid=a}}function B(a){return new La(b=>b.substr(0,a.length+1).toLowerCase()===a+":")}const Ma=[B("data"),B("http"),B("https"),B("mailto"),B("ftp"),new La(a=>/^[^:]*([/?#]|$)/.test(a))];function Na(a,b=Ma){if(a instanceof A)return a;for(let c=0;c<b.length;++c){const d=b[c];if(d instanceof La&&d.isValid(a))return new A(a)}}var Oa=/^\s*(?!javascript:)(?:[\w+.-]+:|[^:/?#]*(?:[/?#]|$))/i;function Pa(a){var b={};if(a instanceof Fa)return a;a=String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");b.Ga&&(a=a.replace(/(^|[\r\n\t ]) /g,"$1&#160;"));b.Fa&&(a=a.replace(/(\r\n|\n|\r)/g,"<br>"));b.Ha&&(a=a.replace(/(\t+)/g,'<span style="white-space:pre">$1</span>'));return Ga(a)};"ARTICLE SECTION NAV ASIDE H1 H2 H3 H4 H5 H6 HEADER FOOTER ADDRESS P HR PRE BLOCKQUOTE OL UL LH LI DL DT DD FIGURE FIGCAPTION MAIN DIV EM STRONG SMALL S CITE Q DFN ABBR RUBY RB RT RTC RP DATA TIME CODE VAR SAMP KBD SUB SUP I B U MARK BDI BDO SPAN BR WBR NOBR INS DEL PICTURE PARAM TRACK MAP TABLE CAPTION COLGROUP COL TBODY THEAD TFOOT TR TD TH SELECT DATALIST OPTGROUP OPTION OUTPUT PROGRESS METER FIELDSET LEGEND DETAILS SUMMARY MENU DIALOG SLOT CANVAS FONT CENTER ACRONYM BASEFONT BIG DIR HGROUP STRIKE TT".split(" ").concat(["BUTTON",
"INPUT"]);function Qa(a,b,c,d){function e(g,k){g!=null&&(Array.isArray(g)?g.forEach(l=>e(l,k)):(b+=f+encodeURIComponent(k)+"="+encodeURIComponent(g),f="&"))}let f=b.length?"&":"?";d.constructor===Object&&(d=Object.entries(d));Array.isArray(d)?d.forEach(g=>e(g[1],g[0])):d.forEach(e);return Ia(a+b+c)};var C=function(a){this.va=a||"";ta||(ta=new v);this.za=ta};C.prototype.ma=!0;C.prototype.ha=!0;C.prototype.ia=!0;C.prototype.ya=!0;C.prototype.xa=!1;C.prototype.ja=!1;var E=function(a){return a<10?"0"+a:String(a)},Ra=function(a){C.call(this,a)};r(Ra,C);function Sa(){var a=new Ra;a.ha=!0;a.ia=!1;a.ja=!0;return a}var Ta=ya;Aa||(Aa=new za);Ta(Aa,"");var Ua=new w("TRACE",100);x.push(new w("DEBUG",600));x.push(Ua);function Va(a,b,...c){return n(function*(){const d=new qa,e={magic:91556947316803,host:a!==null&&typeof a==="number"?"*":a,method:b,args:c},f=g=>{const k=chrome.runtime.lastError;k?d.reject(new pa(1,ka,`Operation '${String(b)}' failed. ${k.message||"Undefined error."}`)):g.error!==void 0?d.reject(Wa(g.error)):d.resolve(g.result)};a!==null&&typeof a==="number"?chrome.tabs.sendMessage(a,e,f):chrome.runtime.sendMessage(e,f);return d.promise}())}
function Wa(a){switch(a.type){case 0:return a.object;case 1:return Error(a.message);case 2:return new pa(a.code,oa(a.category),a.message);case 3:return new ra(a.errors.map(Wa),a.message)}};var Ya=function(){var a=new Xa;for(const [c,d]of a.ea){const e=c;var b=d;if(ha.every(f=>e.has(f)))return b}b={};for(const c of ha)Object.defineProperty(b,c,{value:(...d)=>a.invoke(c,...d),writable:!1});a.ea.set(new Set(ha),b);return b},Xa=class{constructor(){this.host="*";this.events=new Map;this.ea=new Map}invoke(a,...b){const c=this;return n(function*(){return Va(c.host,a,...b)}())}};var Za=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},F=function(a){return $a().toLowerCase().indexOf(a.toLowerCase())!=-1},fb=function(){var a=$a(),b="";ab()?(b=/Windows (?:NT|Phone) ([0-9.]+)/,b=(a=b.exec(a))?a[1]:"0.0"):G()||H("iPad")||H("iPod")?(b=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,b=(a=b.exec(a))&&a[1].replace(/_/g,".")):bb()?(b=/Mac OS X ([0-9_.]+)/,b=(a=b.exec(a))?a[1].replace(/_/g,"."):"10"):F("KaiOS")?(b=/(?:KaiOS)\/(\S+)/i,
b=(a=b.exec(a))&&a[1]):cb()?(b=/Android\s+([^\);]+)(\)|;)/,b=(a=b.exec(a))&&a[1]):db()&&(b=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,b=(a=b.exec(a))&&a[1]);a=0;b=Za(String(b||"")).split(".");const c=Za("16").split("."),d=Math.max(b.length,c.length);for(let g=0;a==0&&g<d;g++){var e=b[g]||"",f=c[g]||"";do{e=/(\d*)(\D*)(.*)/.exec(e)||["","","",""];f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];if(e[0].length==0&&f[0].length==0)break;a=eb(e[1].length==0?0:parseInt(e[1],10),f[1].length==0?0:parseInt(f[1],10))||
eb(e[2].length==0,f[2].length==0)||eb(e[2],f[2]);e=e[3];f=f[3]}while(a==0)}return a},eb=function(a,b){return a<b?-1:a>b?1:0};function gb(a,b){for(const c in a)if(b.call(void 0,a[c],c,a))return!0;return!1};var I=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};a:for(var hb=["CLOSURE_FLAGS"],ib=p,jb=0;jb<hb.length;jb++)if(ib=ib[hb[jb]],ib==null)break a;function $a(){var a=p.navigator;return a&&(a=a.userAgent)?a:""}var J;const kb=p.navigator;J=kb?kb.userAgentData||null:null;function lb(a){return J?J.brands.some(({brand:b})=>b&&b.indexOf(a)!=-1):!1}function H(a){return $a().indexOf(a)!=-1};function K(){return!!J&&J.brands.length>0}function mb(){return K()?lb("Chromium"):(H("Chrome")||H("CriOS"))&&!(K()?0:H("Edge"))||H("Silk")};function L(){return!!J&&!!J.platform}function cb(){return L()?J.platform==="Android":H("Android")}function G(){return H("iPhone")&&!H("iPod")&&!H("iPad")}function bb(){return L()?J.platform==="macOS":H("Macintosh")}function ab(){return L()?J.platform==="Windows":H("Windows")}function db(){return L()?J.platform==="Chrome OS":H("CrOS")};K()||H("Opera");K()||H("Trident")||H("MSIE");H("Edge");!H("Gecko")||F("WebKit")&&!H("Edge")||H("Trident")||H("MSIE")||H("Edge");var nb=F("WebKit")&&!H("Edge");nb&&H("Mobile");var ob,qb=p.navigator||null;ob=qb&&qb.platform||"";bb();ab();(L()?J.platform==="Linux":H("Linux"))||db();cb();G();H("iPad");H("iPod");G()||H("iPad")||H("iPod");F("KaiOS");var rb=function(a){var b=document;a=String(a);b.contentType==="application/xhtml+xml"&&(a=a.toLowerCase());return b.createElement(a)};var M=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=!1};M.prototype.stopPropagation=function(){};M.prototype.preventDefault=function(){this.defaultPrevented=!0};var sb=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const c=()=>{};p.addEventListener("test",c,b);p.removeEventListener("test",c,b)}catch(c){}return a}();var N=function(a,b){M.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.timeStamp=0;this.H=null;a&&this.X(a,b)};r(N,M);
N.prototype.X=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;b=a.relatedTarget;b||(c=="mouseover"?b=a.fromElement:c=="mouseout"&&(b=a.toElement));this.relatedTarget=b;d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.offsetX=nb||a.offsetX!==void 0?a.offsetX:a.layerX,this.offsetY=
nb||a.offsetY!==void 0?a.offsetY:a.layerY,this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType=a.pointerType;this.state=a.state;this.timeStamp=
a.timeStamp;this.H=a;a.defaultPrevented&&N.Y.preventDefault.call(this)};N.prototype.stopPropagation=function(){N.Y.stopPropagation.call(this);this.H.stopPropagation?this.H.stopPropagation():this.H.cancelBubble=!0};N.prototype.preventDefault=function(){N.Y.preventDefault.call(this);var a=this.H;a.preventDefault?a.preventDefault():a.returnValue=!1};var tb="closure_listenable_"+(Math.random()*1E6|0);var ub=0;var vb=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.V=e;this.key=++ub;this.removed=this.S=!1},O=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.V=null};var P=function(a){this.src=a;this.g={};this.J=0};P.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.g[f];a||(a=this.g[f]=[],this.J++);var g=wb(a,b,d,e);g>-1?(b=a[g],c||(b.S=!1)):(b=new vb(b,this.src,f,!!d,e),b.S=c,a.push(b));return b};P.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.g))return!1;var e=this.g[a];b=wb(e,b,c,d);return b>-1?(O(e[b]),Array.prototype.splice.call(e,b,1),e.length==0&&(delete this.g[a],this.J--),!0):!1};
var xb=function(a,b){var c=b.type;if(c in a.g){var d=a.g[c],e=sa(d,b),f;(f=e>=0)&&Array.prototype.splice.call(d,e,1);f&&(O(b),a.g[c].length==0&&(delete a.g[c],a.J--))}};P.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.g)if(!a||c==a){for(var d=this.g[c],e=0;e<d.length;e++)++b,O(d[e]);delete this.g[c];this.J--}return b};
P.prototype.hasListener=function(a,b){var c=a!==void 0,d=c?a.toString():"",e=b!==void 0;return gb(this.g,function(f){for(var g=0;g<f.length;++g)if(!(c&&f[g].type!=d||e&&f[g].capture!=b))return!0;return!1})};var wb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.V==d)return e}return-1};var yb="closure_lm_"+(Math.random()*1E6|0),zb={},Ab=0,Cb=function(){const a=Bb,b=function(c){return a.call(b.src,b.listener,c)};return b},Db=function(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)Db(a,b[f],c,d,e);else if(c=Eb(c),a&&a[tb])a.oa.add(String(b),c,!0,da(d)?!!d.capture:!!d,e);else{if(!b)throw Error("Invalid event type");f=da(d)?!!d.capture:!!d;var g=Fb(a);g||(a[yb]=g=new P(a));c=g.add(b,c,!0,f,e);if(!c.proxy){e=Cb();c.proxy=e;e.src=a;e.listener=c;if(a.addEventListener)sb||(d=
f),d===void 0&&(d=!1),a.addEventListener(b.toString(),e,d);else if(a.attachEvent)a.attachEvent(Gb(b.toString()),e);else if(a.addListener&&a.removeListener)a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");Ab++}}},Gb=function(a){return a in zb?zb[a]:zb[a]="on"+a},Bb=function(a,b){if(a.removed)a=!0;else{b=new N(b,this);var c=a.listener,d=a.V||a.src;if(a.S&&typeof a!=="number"&&a&&!a.removed){var e=a.src;if(e&&e[tb])xb(e.oa,a);else{var f=a.type,g=a.proxy;e.removeEventListener?
e.removeEventListener(f,g,a.capture):e.detachEvent?e.detachEvent(Gb(f),g):e.addListener&&e.removeListener&&e.removeListener(g);Ab--;(f=Fb(e))?(xb(f,a),f.J==0&&(f.src=null,e[yb]=null)):O(a)}}a=c.call(d,b)}return a},Fb=function(a){a=a[yb];return a instanceof P?a:null},Hb="__closure_events_fn_"+(Math.random()*1E9>>>0),Eb=function(a){if(typeof a==="function")return a;a[Hb]||(a[Hb]=function(b){return a.handleEvent(b)});return a[Hb]};const Ib=Ia("/iframe_sandbox.html");
var Jb=function(){return new Promise(a=>{document.readyState!="loading"?a():Db(document,"DOMContentLoaded",()=>{a()})})},Kb=function(){const a=(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(16));return Array.prototype.join.call(a,".")},Nb=class{constructor(){this.port=this.o=null;this.T=[]}load(){const a=Kb();this.o=Lb(a);Jb().then(()=>{this.o&&document.body.appendChild(this.o)});return Mb(this.o,a).then(b=>{for(this.port=b.ports[0];this.T.length>0;)b=this.T.shift(),this.port.postMessage(b.data,
b.Aa)})}exec(a,b){return new Promise((c,d)=>{const e=new MessageChannel;e.port1.onmessage=m=>{e.port1.onmessage=null;m=m.data;m.error!=null?d(new EvalError(m.error)):c(m.result)};var f=b!=null?b:[];const g=[],k=[],l=[];for(const m of f)g.push(m.name),k.push(m.value),m.transfer&&l.push(m.value);f={code:a,paramNames:g,values:k};this.port?this.port.postMessage(f,[e.port2,...l]):this.T.push({data:f,Aa:[e.port2,...l]})})}dispose(){this.o!=null&&(this.o.parentNode&&this.o.parentNode.removeChild(this.o),
this.o=null)}};function Mb(a,b){return new Promise(c=>{const d=e=>{e.source===a.contentWindow&&e.data===b&&(window.removeEventListener("message",d),c(e))};window.addEventListener("message",d)})}
function Lb(a){var b;const c=rb("IFRAME");if(!c.sandbox)throw Error("iframe sandboxes not supported");c.sandbox.value="allow-scripts";c.sandbox.supports&&c.sandbox.add&&c.sandbox.supports("allow-downloads")&&c.sandbox.add("allow-downloads");if(Ib==""){a=Pa(a);var d;var e=(b=(d=(e=window.document).querySelector)==null?void 0:d.call(e,"script[nonce]"))?b.nonce||b.getAttribute("nonce")||"":"";a=`<!DOCTYPE html><body><input type="hidden" id="nonce" value="${a}" /><script nonce="${Pa(e)}">${'var g=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a},h=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");},k=h(this),l=function(a,b){if(b)a:{var c=k;a=a.split(".");for(var d=0;d<a.length-\n1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&b!=null&&g(c,a,{configurable:!0,writable:!0,value:b})}},m=function(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b};l("globalThis",function(a){return a||k});/*\n\n Copyright Google LLC\n SPDX-License-Identifier: Apache-2.0\n*/\nvar n=globalThis.trustedTypes,p;function q(){var a=null;if(!n)return a;try{var b=function(c){return c};a=n.createPolicy("goog#html",{createHTML:b,createScript:b,createScriptURL:b})}catch(c){}return a};var r=function(a){this.g=a};r.prototype.toString=function(){return this.g+""};function t(a){p===void 0&&(p=q());var b=p;return new r(b?b.createScript(a):a)}function u(a){if(a instanceof r)return a.g;throw Error("");};function v(a,b){a.textContent=u(b);var c,d;(c=(b=(d=(c=(a.ownerDocument&&a.ownerDocument.defaultView||window).document).querySelector)==null?void 0:d.call(c,"script[nonce]"))?b.nonce||b.getAttribute("nonce")||"":"")&&a.setAttribute("nonce",c)};var w=function(a){var b=m.apply(1,arguments),c,d;"evalCspCompatiblyData"in window||(window.evalCspCompatiblyData={index:0});var e=window.evalCspCompatiblyData.index++;window.evalCspCompatiblyData[e]={args:b,callback:function(f,x){c=f;d=x}};b=document.createElement("script");b.async=!1;b.setAttribute("data-index",e);e=\'"use strict";\\v(function(){var idx=parseInt((document.currentScript||Array.prototype.slice.call(document.querySelectorAll("head script[data-index]"),-1)[0]).getAttribute("data-index"),10),curEvalData=evalCspCompatiblyData[idx];delete evalCspCompatiblyData[idx];(function(){var callback=curEvalData.callback;try{callback(true,(\'+\nString(u(a))+"\\n));}catch(ex){callback(false, ex);}}).apply(this, curEvalData.args);})()";e=t(e);v(b,e);e=function(f){c=!1;d=f.error||f};window.addEventListener("error",e);document.head.appendChild(b);window.removeEventListener("error",e);document.head.removeChild(b);if(!c)throw d;return d};var y=document.getElementById("nonce"),z=y?y.value:(new URL(location.href)).searchParams.get("nonce");function A(){if(self.origin)return self.origin=="null";if(location.host!="")return!1;try{return window.parent.escape(""),!1}catch(a){return!0}}\n(function(){if(!A())throw"sandboxing error";var a=new MessageChannel;a.port1.onmessage=function(c){try{var d=w.apply(null,[t("(function("+c.data.paramNames.join(", ")+") {\\n"+c.data.code+"\\n}).apply(null, arguments)")].concat(c.data.values));c.ports[0].postMessage({result:d})}catch(e){c.ports[0].postMessage({error:e.toString()})}};var b="*";location.protocol=="chrome-extension:"&&(b=location.origin);window.parent.postMessage(z,b,[a.port2])})();\n'}\x3c/script></body>`;
e=Ga(a);a=Ia("data:text/html;charset=UTF-8;base64,"+btoa(e.toString()));if(e instanceof Fa)e=e.ba;else throw Error("");c.srcdoc=e}else{d=new Map([["nonce",a]]);b=Ja(Ib).toString();const f=b.split(/[?#]/),g=/[?]/.test(b)?"?"+f[1]:"";a=f[0];e=g;b=/[#]/.test(b)?"#"+(g?f[2]:f[1]):"";a=Qa(a,e,b,d)}c.src=Ja(a).toString();c.style.cssText="height: 0; left: 0; position: absolute; top: 0; width: 0;";c.setAttribute("aria-hidden","true");return c};const Q={Da:!1};let R;
var Qb=function(a,b,c="",d=Q){return n(function*(){if(!Ob(d))return!1;try{yield Pb(a,b,c)}catch(e){if(e instanceof DOMException&&e.name==="SecurityError")return!1;throw e;}return!0}())},Ob=function(a=Q){return a.Da&&!!window.showSaveFilePicker},Pb=function(a,b,c=""){return n(function*(){{var d={suggestedName:b};var e;(e=b.match(/\..+$/))?(e=e[0],e=e.length>16?null:e):e=null;const g=e;g&&(e=c,e=e.replace(/;[^]*/,""),d.types=[{description:"*"+g,accept:{[/^\s*[a-zA-Z0-9+._-]+\/[a-zA-Z0-9+._-]+?\s*$/.test(e)?e:
"*/*"]:[g]}}])}try{var f=yield window.showSaveFilePicker(d)}catch(g){if(g instanceof DOMException&&g.name==="AbortError")return;throw g;}f=yield f.createWritable();try{yield f.write(a)}finally{yield f.close()}}())},Sb=function(a,b,c,d=""){return n(function*(){const e=b instanceof Blob?b:new Blob([b],{type:d});if(typeof navigator.msSaveOrOpenBlob==="function")navigator.msSaveOrOpenBlob(e,c);else if(!(G()||H("iPad")||H("iPod"))||fb()>=0?0:mb()||!(!H("iPad")&&!H("iPhone")||H("Safari")&&!(mb()||(K()?
0:H("Coast"))||(K()?0:H("Opera"))||(K()?0:H("Edge"))||(K()?lb("Microsoft Edge"):H("Edg/"))||(K()?lb("Opera"):H("OPR"))||H("Firefox")||H("FxiOS")||H("Silk")||H("Android"))||mb()||(K()?0:H("Coast"))||H("Firefox")||H("FxiOS"))&&H("AppleWebKit")){const f=new FileReader;f.onload=()=>{const g=rb("A");var k=Na(String(f.result),Ma)||Ka;if(k instanceof A)if(k instanceof A)k=k.da;else throw Error("");else k=Oa.test(k)?k:void 0;k!==void 0&&(g.href=k);g.download=c;g.click()};f.readAsDataURL(e)}else a.sandbox==
null&&(a.sandbox=new Nb,a.sandbox.load()),yield a.sandbox.exec('var url=URL.createObjectURL(blob);var a=document.createElement("a");if(!("download" in a)){throw new Error("Downloading not supported on this browser");}a.href=url;a.download=filename;document.body.appendChild(a);a.click();setTimeout(function(){document.body.removeChild(a);URL.revokeObjectURL(url);},250);',[{name:"blob",value:e,transfer:!1},{name:"filename",value:c,transfer:!1}]);yield Rb()}())},Tb=class{static download(a,b,c="",d=Q){return n(function*(){(yield Qb(a,
b,c,d))||(R||(R=new Tb,R.X()),yield Sb(R,a,b,c))}())}constructor(a=Q){this.options=a;Ob(this.options)||typeof navigator.msSaveOrOpenBlob==="function"||(this.sandbox=new Nb)}X(){const a=this;n(function*(){a.sandbox!=null&&(yield a.sandbox.load())}())}download(a,b,c=""){const d=this;return n(function*(){(yield Qb(a,b,c,d.options))||(yield Sb(d,a,b,c))}())}dispose(){this.sandbox!=null&&this.sandbox.dispose()}};function Rb(){return new Promise(a=>{setTimeout(a,500)})}
var Ub=Tb,S=["SafeDownloader"],T=p;S[0]in T||typeof T.execScript=="undefined"||T.execScript("var "+S[0]);for(var U;S.length&&(U=S.shift());)S.length||Ub===void 0?T=T[U]&&T[U]!==Object.prototype[U]?T[U]:T[U]={}:T[U]=Ub;var Vb=function(a,b){const c=Array.prototype.slice.call(arguments),d=c.shift();if(typeof d=="undefined")throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,g,k,l,m,D,Bc){if(m=="%")return"%";const pb=c.shift();if(typeof pb=="undefined")throw Error("[goog.string.format] Not enough arguments");arguments[0]=pb;return V[m].apply(null,arguments)})},V={s:function(a,b,c){return isNaN(c)||c==""||a.length>=Number(c)?a:a=b.indexOf("-",
0)>-1?a+I(" ",Number(c)-a.length):I(" ",Number(c)-a.length)+a},f:function(a,b,c,d,e){d=a.toString();isNaN(e)||e==""||(d=parseFloat(a).toFixed(e));let f;f=Number(a)<0?"-":b.indexOf("+")>=0?"+":b.indexOf(" ")>=0?" ":"";Number(a)>=0&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;b.indexOf("-",0)>=0?d=f+d+I(" ",a):(b=b.indexOf("0",0)>=0?"0":" ",d=f+I(b,a)+d);return d},d:function(a,b,c,d,e,f,g,k){return V.f(parseInt(a,
10),b,c,d,0,f,g,k)}};V.i=V.d;V.u=V.d;class Wb{constructor(a,b){this.sa=100;this.na=a;this.wa=b;this.P=0;this.O=null}get(){let a;this.P>0?(this.P--,a=this.O,this.O=a.next,a.next=null):a=this.na();return a}put(a){this.wa(a);this.P<this.sa&&(this.P++,a.next=this.O,this.O=a)}};var Xb=function(){};var Yb,Zb=function(){var a=p.MessageChannel;typeof a==="undefined"&&typeof window!=="undefined"&&window.postMessage&&window.addEventListener&&!H("Presto")&&(a=function(){var e=rb("IFRAME");e.style.display="none";document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.close();var g="callImmediate"+Math.random(),k=f.location.protocol=="file:"?"*":f.location.protocol+"//"+f.location.host;e=q(function(l){if((k=="*"||l.origin==k)&&l.data==g)this.port1.onmessage()},this);f.addEventListener("message",
e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,k)}}});if(typeof a!=="undefined"){var b=new a,c={},d=c;b.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var e=c.Z;c.Z=null;e()}};return function(e){d.next={Z:e};d=d.next;b.port2.postMessage(0)}}return function(e){p.setTimeout(e,0)}};function $b(a){p.setTimeout(()=>{throw a;},0)};class ac{constructor(){this.R=this.G=null}add(a,b){const c=bc.get();c.set(a,b);this.R?this.R.next=c:this.G=c;this.R=c}remove(){let a=null;this.G&&(a=this.G,this.G=this.G.next,this.G||(this.R=null),a.next=null);return a}}var bc=new Wb(()=>new cc,a=>a.reset());class cc{constructor(){this.next=this.scope=this.fn=null}set(a,b){this.fn=a;this.scope=b;this.next=null}reset(){this.next=this.scope=this.fn=null}};let W,dc=!1,ec=new ac,gc=(a,b)=>{W||fc();dc||(W(),dc=!0);ec.add(a,b)},fc=()=>{if(p.Promise&&p.Promise.resolve){const a=p.Promise.resolve(void 0);W=()=>{a.then(hc)}}else W=()=>{var a=hc;typeof p.setImmediate!=="function"||p.Window&&p.Window.prototype&&p.Window.prototype.setImmediate==p.setImmediate?(Yb||(Yb=Zb()),Yb(a)):p.setImmediate(a)}};var hc=()=>{let a;for(;a=ec.remove();){try{a.fn.call(a.scope)}catch(b){$b(b)}bc.put(a)}dc=!1};var Y=function(a){this.j=0;this.ga=void 0;this.C=this.v=this.B=null;this.N=this.U=!1;if(a!=Xb)try{var b=this;a.call(void 0,function(c){X(b,2,c)},function(c){X(b,3,c)})}catch(c){X(this,3,c)}},ic=function(){this.next=this.context=this.F=this.I=this.A=null;this.K=!1};ic.prototype.reset=function(){this.context=this.F=this.I=this.A=null;this.K=!1};var jc=new Wb(function(){return new ic},function(a){a.reset()}),kc=function(a,b,c){var d=jc.get();d.I=a;d.F=b;d.context=c;return d};
Y.prototype.then=function(a,b,c){return lc(this,typeof a==="function"?a:null,typeof b==="function"?b:null,c)};Y.prototype.$goog_Thenable=!0;Y.prototype.ka=function(a,b){return lc(this,null,a,b)};Y.prototype.catch=Y.prototype.ka;Y.prototype.cancel=function(a){if(this.j==0){var b=new Z(a);gc(function(){mc(this,b)},this)}};
var mc=function(a,b){if(a.j==0)if(a.B){var c=a.B;if(c.v){for(var d=0,e=null,f=null,g=c.v;g&&(g.K||(d++,g.A==a&&(e=g),!(e&&d>1)));g=g.next)e||(f=g);e&&(c.j==0&&d==1?mc(c,b):(f?(d=f,d.next==c.C&&(c.C=d),d.next=d.next.next):nc(c),oc(c,e,3,b)))}a.B=null}else X(a,3,b)},qc=function(a,b){a.v||a.j!=2&&a.j!=3||pc(a);a.C?a.C.next=b:a.v=b;a.C=b},lc=function(a,b,c,d){var e=kc(null,null,null);e.A=new Y(function(f,g){e.I=b?function(k){try{var l=b.call(d,k);f(l)}catch(m){g(m)}}:f;e.F=c?function(k){try{var l=c.call(d,
k);l===void 0&&k instanceof Z?g(k):f(l)}catch(m){g(m)}}:g});e.A.B=a;qc(a,e);return e.A};Y.prototype.Ba=function(a){this.j=0;X(this,2,a)};Y.prototype.Ca=function(a){this.j=0;X(this,3,a)};
var X=function(a,b,c){if(a.j==0){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.j=1;a:{var d=c,e=a.Ba,f=a.Ca;if(d instanceof Y){qc(d,kc(e||Xb,f||null,a));var g=!0}else{if(d)try{var k=!!d.$goog_Thenable}catch(m){k=!1}else k=!1;if(k)d.then(e,f,a),g=!0;else{if(da(d))try{var l=d.then;if(typeof l==="function"){rc(d,l,e,f,a);g=!0;break a}}catch(m){f.call(a,m);g=!0;break a}g=!1}}}g||(a.ga=c,a.j=b,a.B=null,pc(a),b!=3||c instanceof Z||sc(a,c))}},rc=function(a,b,c,d,e){var f=!1,g=function(l){f||
(f=!0,c.call(e,l))},k=function(l){f||(f=!0,d.call(e,l))};try{b.call(a,g,k)}catch(l){k(l)}},pc=function(a){a.U||(a.U=!0,gc(a.pa,a))},nc=function(a){var b=null;a.v&&(b=a.v,a.v=b.next,b.next=null);a.v||(a.C=null);return b};Y.prototype.pa=function(){for(var a;a=nc(this);)oc(this,a,this.j,this.ga);this.U=!1};
var oc=function(a,b,c,d){if(c==3&&b.F&&!b.K)for(;a&&a.N;a=a.B)a.N=!1;if(b.A)b.A.B=null,tc(b,c,d);else try{b.K?b.I.call(b.context):tc(b,c,d)}catch(e){uc.call(null,e)}jc.put(b)},tc=function(a,b,c){b==2?a.I.call(a.context,c):a.F&&a.F.call(a.context,c)},sc=function(a,b){a.N=!0;gc(function(){a.N&&uc.call(null,b)})},uc=$b,Z=function(a){u.call(this,a)};r(Z,u);Z.prototype.name="cancel";var vc=function(a,b){if(typeof a!=="function")if(a&&typeof a.handleEvent=="function")a=q(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:p.setTimeout(a,b||0)},wc=function(a){let b=null;return(new Y(function(c,d){b=vc(function(){c(void 0)},a);b==-1&&d(Error("Failed to schedule timer."))})).ka(function(c){p.clearTimeout(b);throw c;})};function xc(){const a=chrome.runtime.getManifest();return Vb("%s v%s log buffer as of %s (%s):\n",a.name,a.version,(new Date).toUTCString(),ob)}
var yc=function(a){return n(function*(){var b=yield a.background.getLogBuffer();const c=Sa();b=[xc(),...b.map(d=>{a:{var e=d.l;if(!y){y={};for(let m=0,D;D=x[m];m++)y[D.value]=D,y[D.name]=D}if(e in y)e=y[e];else{for(var f=0;f<x.length;++f){var g=x[f];if(g.value<=e){e=g;break a}}e=null}}e=new wa(e,d.m,d.n,d.t,d.s);d=[];d.push(c.va," ");c.ha&&(f=new Date(e.la),d.push("[",E(f.getFullYear()-2E3)+E(f.getMonth()+1)+E(f.getDate())+" "+E(f.getHours())+":"+E(f.getMinutes())+":"+E(f.getSeconds())+"."+E(Math.floor(f.getMilliseconds()/
10)),"] "));if(c.ia){f=d.push;g=c.za.get();g=(e.la-g)/1E3;var k=g.toFixed(3),l=0;if(g<1)l=2;else for(;g<100;)l++,g*=10;for(;l-- >0;)k=" "+k;f.call(d,"[",k,"s] ")}c.ya&&d.push("[",e.ta,"] ");c.ja&&d.push("[",e.ra.name,"] ");d.push(e.getMessage());c.xa&&(e=e.aa,e!==void 0&&d.push("\n",e instanceof Error?e.message:String(e)));c.ma&&d.push("\n");return d.join("")})];yield Tb.download(new Blob(b,{type:"text/plain"}),"EndpointVerification.log","text/plain")}())},zc=function(a,b){return n(function*(){b.disabled=
!0;try{yield a.background.uiEvent({event:"Sync Button Click"})}catch(c){}b.disabled=!1}())};
class Ac{constructor(){this.background=Ya();document.addEventListener("DOMContentLoaded",()=>{this.initialize()})}initialize(){const a=this;return n(function*(){for(var b=1;b<=10;++b)try{yield a.background.hello();break}catch(f){const g=f;if(b>=11)throw g;yield wc(100+(15<<b))}b=document.querySelectorAll("[data-i18n]");for(var c of b)b=c.getAttribute("data-i18n"),c.textContent=chrome.i18n.getMessage(b)||chrome.i18n.getMessage(`${b}_${"external"}`)||"PLACEHOLDER";if(c=document.querySelector("#download-log"))c.onclick=
()=>yc(a);if(c=document.querySelector("#show-log"))c.onclick=()=>{chrome.tabs.create({url:`${window.location.origin}/log.html`})};const d=document.querySelector("#log-level");if(d)if(c=(yield a.background.getQuirks()).logLevel){let f,g;d.value=(g=(f=c.value)==null?void 0:f.toString())!=null?g:"[ERROR]";d.onchange=()=>n(function*(){yield a.background.updateQuirks({logLevel:Number(d.value)})}())}else d.disabled=!0;const e=document.querySelector("#force-sync");e&&(e.onclick=()=>zc(a,e))}())}}new Ac;
